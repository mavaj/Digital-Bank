<?xml version="1.0" encoding="UTF-8"?>
<changes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.assetbank.co.uk/download/update/changes.xsd"><version number="3.1">
	
		<!-- create the new keyword picker attribute type -->
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO AttributeType (Id,Name) VALUES (7,'Keyword picker')
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>

		<!-- add a tree id column for the category tree that a keyword picker will use -->
		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD TreeId BIGINT DEFAULT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD TreeId BIGINT DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD TreeId INTEGER DEFAULT  NULL
		</sqlStatement>
		
		<!-- make the category type auto increment - so that new trees can be inserted easily -->
		<!-- SQL SERVER: THIS HAS TO BE DONE MANUALLY WITH ENTERPRISE MANAGER OR AN EQUIVALENT - MAKE THE Id COLUMN AN IDENTITY (100,1) -->
		<sqlStatement type="mysql">		
			ALTER TABLE CM_CategoryType MODIFY Id BIGINT NOT NULL AUTO_INCREMENT
		</sqlStatement>

		<sqlStatement type="oracle">		
			CREATE SEQUENCE CategoryTypeSequence START WITH 100 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<!-- update the old static keywords attribute to be a new keyword picker attribute -->
		<!-- after running this update, remember to remove the old keyword attribute for any clients that weren't using keywords -->
		<sqlStatement type="all">		
			UPDATE Attribute SET AttributeTypeId=7, IsStatic=0, StaticFieldName=Null, TreeId=3, IsKeywordSearchable=1 WHERE StaticFieldName='keywords'
		</sqlStatement>			
	
		<!-- will need to update the value of this setting manually for any clients that use the keyword picker on their advanced search page -->
		<appSettingChange type="add" setting="main-keyword-chooser-id" value="-1" section="Keyword taxonomy config">
			<comment>
				The id of the keyword tree to use for the main keyword search box on advanced (set to -1 for no keyword picker)
			</comment>
		</appSettingChange>
		<appSettingChange type="delete" setting="enable-keyword-taxonomy" />

		<appSettingChange type="add" setting="users-have-IP" value="false" section="User registration/ login">
			<comment>
				True if users can be assigned a group based on IP
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="users-have-URL" value="false" section="User registration/ login">
			<comment>
				True if users can be assigned a group based on URL
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="url-mapping-parameter" value="group" section="User registration/ login">
			<comment>
				Parameter for mapping URLs to groups
			</comment>
		</appSettingChange>
		
	</version><version number="3.2">
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT ListItem ON
		</sqlStatement>
		<sqlStatement type="all">		
			 INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (40, 'homepage-bottom', 1, 'Home Page Text Bottom', 'Text at bottom of home page.', '', 1, 1)
		</sqlStatement>
		<sqlStatement type="all">		
			 INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (41, 'keyword-help', 1, 'Keyword Search Help', 'Keywords help text.', '', 1, 1)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT ListItem OFF
		</sqlStatement>
		
		<appSettingChange type="add" setting="default-attribute-visibility" value="hidden" section="General config">
			<comment>
				Sets the default visibility for attributes when a new group is created, can be "hidden", "visible" or "writable"
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="hide-lightbox-on-homepage" value="false" section="Lightbox settings">
			<comment>
				Whether to show lightbox on homepage
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="users-register-strict-address" value="false" section="User registration/ login">
			<comment>
				Set to true if address should be mandatory
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="results-show-title" value="true" section="Search settings">
			<comment>
				Whether to show the title
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="results-show-description" value="false" section="Search settings">
			<comment>
				Whether to show the description
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="show-image-id-on-browse" value="true" section="Browse settings">
			<comment>
				Show image-id on browse category page
			</comment>
		</appSettingChange>
		<appSettingChange type="update" setting="exported-asset-filename-format" value="it" section="Import/Export settings">
			<comment>
				Defines a format for the names of exported asset files, where i=id, t=title
				Note that at least i must be present
			</comment>
		</appSettingChange>

	</version><version number="3.3">

		<userChangeDescription>
			Enables admin users to specify that Usage Types should be shown for only one particular asset type, e.g. file, image, video.
		</userChangeDescription>
	
		<sqlStatement type="mysql">		
			ALTER TABLE UsageType ADD COLUMN CanEnterDetails Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="mysql">		
			ALTER TABLE UsageType ADD COLUMN DetailsMandatory Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="mysql">		
			ALTER TABLE UsageType ADD COLUMN AssetTypeId Bigint
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table UsageType add Index IX_Relationship153 (AssetTypeId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table UsageType add Foreign Key (AssetTypeId) references AssetType (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageType ADD CanEnterDetails Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageType ADD DetailsMandatory Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageType ADD AssetTypeId Integer NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Alter table UsageType add foreign key(AssetTypeId) references AssetType (Id)  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE UsageType ADD CanEnterDetails Char(1) Default 1 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UsageType ADD DetailsMandatory Char(1) Default 1 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UsageType ADD AssetTypeId Double precision NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table UsageType add  foreign key (AssetTypeId) references AssetType (Id) 
		</sqlStatement>

	</version><version number="3.4">
		<userChangeDescription>
			Enables you to map IP address ranges to groups
		</userChangeDescription>
		<sqlStatement type="mysql">		
			 ALTER TABLE UserGroup ADD COLUMN IPMapping TEXT DEFAULT NULL AFTER BrandId
		</sqlStatement>
		<sqlStatement type="mysql">		
			 ALTER TABLE UserGroup ADD COLUMN URLMapping TEXT DEFAULT NULL AFTER IPMapping
		</sqlStatement>		 
		<sqlStatement type="sqlserver">		
			 ALTER TABLE UserGroup ADD IPMapping Varchar(4000) NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			 ALTER TABLE UserGroup ADD URLMapping Varchar(4000) NULL
		</sqlStatement>	
		<sqlStatement type="oracle">		
			 ALTER TABLE UserGroup ADD IPMapping Varchar2(4000)
		</sqlStatement>
		<sqlStatement type="oracle">	
			 ALTER TABLE UserGroup ADD URLMapping Varchar2(4000)
		</sqlStatement>			

	</version><version number="3.5">
		<userChangeDescription>
			Enhancements to usage types to add option description field and ability to relate them to asset types.
		</userChangeDescription>		
	</version><version number="3.6">
		<userChangeDescription>
			Fix release: fixes for usage types and SQLServer.
		</userChangeDescription>		
	</version><version number="3.7">
		<userChangeDescription>
			Fix release: changes to updater and change to log stack trace with transaction.
		</userChangeDescription>	
		<appSettingChange type="add" setting="log-stack-trace-with-transaction" value="false" section="Database type">
			<comment>
				The following is for debug purposes: generally it should be set to false. If true, the application will record a stack trace with each transaction, so that if a transaction is not closed properly it is possible to see where in the code that transaction was started
			</comment>
		</appSettingChange>
	</version><version number="3.8">
		<userChangeDescription>
			Improvement to RAW support - to save space.
		</userChangeDescription>	
		<appSettingChange type="add" setting="dcraw-path" value="dcraw" section="Server settings">
			<comment>
				Command for converting RAW formats. This requires you to have installed DCRAW (http://cybercom.net/~dcoffin/dcraw/). The windows exe for this is here: http://www.assetbank.co.uk/download/dcraw.zip - add this to your path, or put the full path to this exe in the setting below. NOTE: dcraw is installed automatically by the Asset Bank installer. For each format you want to support, you need to add a row to the table FileFormat in the database. You can use the row already in this table for 'nef' as an example. 
			</comment>
		</appSettingChange>
		<appSettingChange type="delete" setting="raw-ppm-command" />
	</version><version number="3.9">
		<userChangeDescription>
			Changed PNG to JPG conversions - now sets transparent layer to white.
		</userChangeDescription>	
	</version><version number="3.10">
		<userChangeDescription>
			Addition of 'more recent images' page and change to allow FLV format videos
		</userChangeDescription>	
		
		<userChangeDescription>
			Admin users can now send e-mails to user groups.
		</userChangeDescription>	
		<userChangeDescription>
			Asset previews (thumnails etc.) can be restricted to those with download permissions.
		</userChangeDescription>	
		
		
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('recent-intro', 1, 'Recent Assets intro text', 'The intro text shown on the recent assets page', '<p>The items shown on this page are assets recently added to Asset Bank.</p><p> Note to admin users: you can change this intro text from the admin area.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('recent-intro', 1, 'Recent Assets intro text', 'The intro text shown on the recent assets page', '<p>The items shown on this page are assets recently added to Asset Bank. </p><p>Note to admin users: you can change this intro text from the admin area.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'recent-intro', 1, 'Recent Assets intro text', 'The intro text shown on the recent assets page', '<p>The items shown on this page are assets recently added to Asset Bank.</p><p>Note to admin users: you can change this intro text from the admin area.</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>		

		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType,ConverterClass) VALUES (309,'FLV','Video - FLV Format','flv',3,0,1,0,null,'video/x-flv','com.bright.assetbank.converter.VideoToPngConverter')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>			
		
		<sqlStatement type="mysql">		
			ALTER TABLE Asset ADD COLUMN IsPreviewRestricted Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE Asset ADD IsPreviewRestricted Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE Asset ADD IsPreviewRestricted Char(1) Default 0 NOT NULL
		</sqlStatement>		

		<appSettingChange type="add" setting="num-more-recent-images" value="100" section="General config">
			<comment>
				The number of recent images to show on the 'more recent images' page:
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="can-restrict-asset-preview" value="false" section="Asset View settings">
			<comment>
				If true, admin users can select to restrict thumbnails/previews of assets to those with download permission				
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="restricted-image-thumbnail" value="/images/standard/restricted-thumbnail.gif" section="Asset View settings">
			<comment>
				The thumbnail image used when asset preview is restricted and a user does not have download permission
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="restricted-image-homogenized" value="/images/standard/restricted-homogenized.gif" section="Asset View settings">
			<comment>
				The homogenized image used when asset preview is restricted and a user does not have download permission
			</comment>
		</appSettingChange><appSettingChange type="add" setting="restricted-image-preview" value="/images/standard/restricted-preview.gif" section="Asset View settings">
			<comment>
				The preview image used when asset preview is restricted and a user does not have download permission
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="restricted-image-featured" value="/images/standard/restricted-featured.gif" section="Asset View settings">
			<comment>
				The featured image used when asset preview is restricted and a user does not have download permission
			</comment>
		</appSettingChange>
	</version><version number="3.11">
		<userChangeDescription>
			Adds content managed text to 'start import' page.
		</userChangeDescription>
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('start-import-step1', 1, 'Start Import - Step 1', 'Text shown at the bottom of Step 1 on the Start Import page', '', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('start-import-step1', 1, 'Start Import - Step 1', 'Text shown at the bottom of Step 1 on the Start Import page', '', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'start-import-step1', 1, 'Start Import - Step 1', 'Text shown at the bottom of Step 1 on the Start Import page', '', 1, 1) ]]>
		</sqlStatement>		
		
		<appSettingChange type="add" setting="start-import-show-ftp-help" value="true" section="Directory settings">
			<comment>
				Whether or not to show the 'help using ftp' section on the Start Import page
			</comment>
		</appSettingChange>							
	</version><version number="3.12">
		<userChangeDescription>
			Added ability to send assets between two Asset Bank instances.
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE CM_Category ADD COLUMN Synchronised Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE CM_Category ADD Synchronised Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE CM_Category ADD Synchronised Char(1) Default 0 NOT NULL
		</sqlStatement>
						
		<sqlStatement type="all">		
			 INSERT INTO SystemSetting (Id,Value) VALUES ('LastSyncTime','0')
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			 INSERT INTO AssetBankUser (Username,Password,Forename,Surname,EmailAddress,IsAdmin,Hidden,NotActiveDirectory) VALUES ('application','f5uyu9Ra','Application','User','',1,1,1)			
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 INSERT INTO AssetBankUser (Username,Password,Forename,Surname,EmailAddress,IsAdmin,Hidden,NotActiveDirectory) VALUES ('application','f5uyu9Ra','Application','User','',1,1,1)			
		</sqlStatement>
		<sqlStatement type="oracle">		
			 INSERT INTO AssetBankUser (Id, Username,Password,Forename,Surname,EmailAddress,IsAdmin,Hidden,NotActiveDirectory) VALUES (UserSequence.NEXTVAL, 'application','f5uyu9Ra','Application','User','',1,1,1)			
		</sqlStatement>
		
		<appSettingChange type="add" setting="import-dir" value="import" section="Directory settings" />
		<appSettingChange type="add" setting="delete-export-files-older-than-mins" value="240" section="Scheduled tasks">
			<comment>
				When clearing out the exported files, keep files 'younger' than 4 hours:
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="delete-import-files-older-than-mins" value="240" section="Scheduled tasks">
			<comment>
				When clearing out the import files, keep files 'younger' than 4 hours:
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="allow-publishing" value="false" section="Asset Publishing Settings">
			<comment>
				Whether this instance of assetbank can publish assets to another assetbank instance	
			</comment>			
		</appSettingChange>
		<appSettingChange type="add" setting="publish-to-url" value="" section="Asset Publishing Settings">
			<comment>
				The URL of the asset bank instance this instance publishes its assets to
			</comment>			
		</appSettingChange>
		<appSettingChange type="add" setting="synch-assets-hour-of-day" value="-1" section="Scheduled tasks">
			<comment>
				Hour at which to synch/publish flagged assets (-1 for never)
			</comment>
		</appSettingChange>
		 		
	</version><version number="3.13">
		<userChangeDescription>
			Modifications to ecommerce to allow for group discounts, fixes to keywords in bulk upload and asset linking
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE UserGroup ADD DiscountPercentage INTEGER
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE UserGroup ADD DiscountPercentage INTEGER
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE UserGroup ADD DiscountPercentage Double precision
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE ABOrder ADD DiscountPercentage INTEGER
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE ABOrder ADD DiscountPercentage INTEGER
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE ABOrder ADD DiscountPercentage Double precision
		</sqlStatement>
	</version><version number="3.14">
		<userChangeDescription>
			Add message and download original fields to UsageType.
			Add list of formats to preserve to UsageTypeFormat. 
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE UsageType ADD Message TEXT
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageType ADD Message Varchar(4000)
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UsageType ADD Message Varchar2(4000)
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			ALTER TABLE UsageType ADD DownloadOriginal Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageType ADD DownloadOriginal Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UsageType ADD DownloadOriginal Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			ALTER TABLE UsageTypeFormat ADD PreserveFormatList Varchar(255)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageTypeFormat ADD PreserveFormatList Varchar(255)
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UsageTypeFormat ADD PreserveFormatList Varchar(255)
		</sqlStatement>

		<!-- Replace this setting with UsageTypeFormat.PreserveFormatList -->
		<appSettingChange type="delete" setting="maintain-original-format-on-download" />
		
	</version><version number="3.15">
		<userChangeDescription>
			Usage type management enhancements and improve help text.
			Option to force download of video previews. 
		</userChangeDescription>
		
		<sqlStatement type="all">
			 <![CDATA[ UPDATE ListItem SET Body='<h2>Usage Types</h2>  <p>The &#39;Usage Types&#39; area is used to define possible uses for items. Here you can add new usage types and maintain existing ones.</p><p>Use &#39;up&#39; and &#39;down&#39; to control the sequence that usage types are shown in.<br/>Click &#39;edit name&#39; to change the name of the usage type.<br/>Click &#39;X&#39; to delete a usage type from the list.</p>    <p>If required you can add subtypes so that the possible usage types are maintained as a tree or hierarchy. Click the &#39;open&#39; links next to usages to traverse the hierarchy. </p><p>The item uses defined here will be shown on the download page and recorded for each download, allowing you to maintain a record of what users are doing with the items in Asset Bank.</p><p>Depening on how Asset Bank is configured, you may also be able to define formats for each usage, by clicking &#39;edit formats&#39; next to a usage.<br />Users can select from these so that images will be converted on download.</p><h3>Adding usage types</h3><p>Select the Asset type(s) and Download tab(s) for which this usage type will appear to downloaders. Image Download tab only applies when the Asset type is Image or All (since only Image downloads have an advanced tab).</p><p>Optionally you can specify a message that will appear when this usage type is selected.</p><p>You can specify whether downloaders can enter usage details when downloading for this usage type, and whether these details should be a mandatory field on the download form. Note you can use this option when creating an &#39;Other&#39; usage type, to allow/enforce the entry of &#39;other usage&#39; details.</p><p>If this usage type applies to the simple tab of image downloads, then you can check the Download Original option, if you want the the original image to be available for download when this usage type is selected.</p>' WHERE Identifier='usage' ]]>
		</sqlStatement>
		
		<appSettingChange type="add" setting="audio-preview-download-not-embed" value="false" section="Server settings">
			<comment>
				Whether to force preview download (rather than embed)
			</comment>
		</appSettingChange>
		
	</version><version number="3.16">
		<userChangeDescription>
			Addition of Bulk Update feature. 
			Option to force download of audio previews.
			Addition of functionality to synchronise with Adlib.
		</userChangeDescription>

		<sqlStatement type="mysql">		
			ALTER TABLE Asset ADD BulkUploadTimestamp DATETIME
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE Asset ADD BulkUploadTimestamp DATETIME
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE Asset ADD BulkUploadTimestamp DATE
		</sqlStatement>
				
		<appSettingChange type="add" setting="video-preview-download-not-embed" value="false" section="Server settings">
			<comment>
				Whether to force video preview download (rather than embed)
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="max-bulk-update-results" value="5000" section="Batch Settings">
			<comment>
				Max size of bulk update
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="max-bulk-update-size-for-selection" value="1000" section="Batch Settings">
			<comment>
				Max size of bulk update that will allow use of selection screen
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="synch-with-adlib" value="false" section="Adlib synchronisation settings">
			<comment>
				Whether to synchronise the new assets from Adlib
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="adlib-synch-hour" value="0" section="Adlib synchronisation settings">
			<comment>
				The hour of the day that synchronisation occurs on
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="adlib-xml-url" value="" section="Adlib synchronisation settings">
			<comment>
				The url that lists the new assets in Adlib since the last synch
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="callback-to-adlib" value="false" section="Adlib synchronisation settings">
			<comment>
				Do we need to callback to Adlib
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="adlib-callback-url" value="" section="Adlib synchronisation settings">
			<comment>
				The Adlib url to callback to for each asset that was imported
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="bulk-uploads-limit" value="5" section="Batch Settings">
			<comment>
				The maximum number of bulk uploads to show in the list on the batch update search page:
			</comment>
		</appSettingChange>
		
		<msgPropChange type="add" setting="failedValidationAssetsLocked" value="One or more of the assets you are trying to update is locked. You will need to wait until other users have finished updating the assets you want to update." />
		
		
	</version><version number="3.17">
		<userChangeDescription>
			Enhancements to Bulk Update feature. 
			Make fax field optional.
		</userChangeDescription>

		<appSettingChange type="add" setting="users-have-fax" value="true" section="User registration/ login">
			<comment>
				Set to true if you want the fax field to be shown:
			</comment>
		</appSettingChange>		
		
		<msgPropChange type="add" setting="failedValidationNoAssetsSelected" value="Please tick one or more of the assets you would like to include in a bulk update, or click cancel to return to the batch update home screen." />
		<msgPropChange type="add" setting="failedValidationNoAttributes" value="Please select one or more attributes that you would like to update, or click cancel to return to the batch update home screen." />

	</version><version number="3.18">
		<userChangeDescription>
			Enhancements to Bulk Update feature. 
		</userChangeDescription>
	</version><version number="3.19">
		<userChangeDescription>
			Change to allow for new browsing options
		</userChangeDescription>

		<appSettingChange type="add" setting="show-all-categories-link" value="false" section="Browse settings">
			<comment>
				determines whether to show an 'all' categories link that link to a page that lists all descriptive categories in alphabetic order
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="keyword-browse-page-id" value="0" section="Browse settings">
			<comment>
				determines whether to show the browse by keywords page - the setting should be the id of the tree to browse (0 indicates that the functionality is switched off)
			</comment>
		</appSettingChange>
	
	</version><version number="3.20">
		<userChangeDescription>
			UI enhancements to Bulk Update and Batch Update, and add help. 
			Added sequence to country so that country list can be ordered if required. 
			Added setting to default 'email user' to true on 'approve user' page. 
			Added 'strip' option to UsageFormat to control whether or not 'strip' is applied.
			Added 'help text' and 'highlight on view' fields to Attribute.
		</userChangeDescription>

		<msgPropChange type="add" setting="failedValidationNoAssetsFound" value="That search did not find any assets that you can update. Please search again." />
	
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='batch'
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('batch-batchupdate', 2, 'Batch Update help text', 'The help text for Batch Update', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><p>The Batch Update and Bulk Update functions allow you to define a batch and work with it to make the updates you require. Please note:<ul><li>You can only have one batch defined at once, ie you can only run one of these operations at once. Any existing batch operation will need to be finished or cancelled before you may start a new one.</li><li>Assets in your batch will be locked so that only you can run batch updates over them. Other users will need to wait until you are finished before they can define batches including your assets.</li></ul><h3>Batch Update</h3><p>The "Batch update" page enables you to enter metadata against a set of items quickly, without having to return to a search results page after each update. To start a new batch update, click "Start new batch update". Then enter the search criteria that will be used to select the items that will form the batch to be updated (for example, select a category to update all items in a particular category). When you click "Search" Asset Bank will find all the items that match your criteria and take the first 100 to create your batch. </p><p>You will then see the details of the first item in the batch. You can:</p><ul><li>Change the metadata of the item, and then click "Save &amp; Continue" to save the changes. </li><li>If you do not want to change the item then click "Skip" to skip the item and take it out of your batch.</li><li>If you have delete permission you can click "Delete" to delete the asset.</li></ul><p>You will then move on to next item, until you reach the end of your batch. </p><p>To pause the batch update you can click "Cancel", or simply navigate to another page of the Asset Bank. To resume a batch update, click on "Batch update" in the left-hand navigation and then click "Return to current batch update".</p><p>When a batch update is in progress, all items that remain in your batch will be unavailable to another user if they start a new batch update. You must finish the batch or log out of Asset Bank to free up these items.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('batch-batchupdate', 2, 'Batch Update help text', 'The help text for Batch Update', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><p>The Batch Update and Bulk Update functions allow you to define a batch and work with it to make the updates you require. Please note:<ul><li>You can only have one batch defined at once, ie you can only run one of these operations at once. Any existing batch operation will need to be finished or cancelled before you may start a new one.</li><li>Assets in your batch will be locked so that only you can run batch updates over them. Other users will need to wait until you are finished before they can define batches including your assets.</li></ul><h3>Batch Update</h3><p>The "Batch update" page enables you to enter metadata against a set of items quickly, without having to return to a search results page after each update. To start a new batch update, click "Start new batch update". Then enter the search criteria that will be used to select the items that will form the batch to be updated (for example, select a category to update all items in a particular category). When you click "Search" Asset Bank will find all the items that match your criteria and take the first 100 to create your batch. </p><p>You will then see the details of the first item in the batch. You can:</p><ul><li>Change the metadata of the item, and then click "Save &amp; Continue" to save the changes. </li><li>If you do not want to change the item then click "Skip" to skip the item and take it out of your batch.</li><li>If you have delete permission you can click "Delete" to delete the asset.</li></ul><p>You will then move on to next item, until you reach the end of your batch. </p><p>To pause the batch update you can click "Cancel", or simply navigate to another page of the Asset Bank. To resume a batch update, click on "Batch update" in the left-hand navigation and then click "Return to current batch update".</p><p>When a batch update is in progress, all items that remain in your batch will be unavailable to another user if they start a new batch update. You must finish the batch or log out of Asset Bank to free up these items.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'batch-batchupdate', 2, 'Batch Update help text', 'The help text for Batch Update', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><p>The Batch Update and Bulk Update functions allow you to define a batch and work with it to make the updates you require. Please note:<ul><li>You can only have one batch defined at once, ie you can only run one of these operations at once. Any existing batch operation will need to be finished or cancelled before you may start a new one.</li><li>Assets in your batch will be locked so that only you can run batch updates over them. Other users will need to wait until you are finished before they can define batches including your assets.</li></ul><h3>Batch Update</h3><p>The "Batch update" page enables you to enter metadata against a set of items quickly, without having to return to a search results page after each update. To start a new batch update, click "Start new batch update". Then enter the search criteria that will be used to select the items that will form the batch to be updated (for example, select a category to update all items in a particular category). When you click "Search" Asset Bank will find all the items that match your criteria and take the first 100 to create your batch. </p><p>You will then see the details of the first item in the batch. You can:</p><ul><li>Change the metadata of the item, and then click "Save &amp; Continue" to save the changes. </li><li>If you do not want to change the item then click "Skip" to skip the item and take it out of your batch.</li><li>If you have delete permission you can click "Delete" to delete the asset.</li></ul><p>You will then move on to next item, until you reach the end of your batch. </p><p>To pause the batch update you can click "Cancel", or simply navigate to another page of the Asset Bank. To resume a batch update, click on "Batch update" in the left-hand navigation and then click "Return to current batch update".</p><p>When a batch update is in progress, all items that remain in your batch will be unavailable to another user if they start a new batch update. You must finish the batch or log out of Asset Bank to free up these items.</p>', 1, 1) ]]>
		</sqlStatement>		

		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('batch-bulkupdate', 2, 'Bulk Update help text', 'The help text for Bulk Update', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><p>The Batch Update and Bulk Update functions allow you to define a batch and work with it to make the updates you require. Please note:<ul><li>You can only have one batch defined at once, ie you can only run one of these operations at once. Any existing batch operation will need to be finished or cancelled before you may start a new one.</li><li>Assets in your batch will be locked so that only you can run batch updates over them. Other users will need to wait until you are finished before they can define batches including your assets.</li></ul><h3>Bulk Update</h3><p>This function allows you to select a batch of assets and to update attributes in bulk.</p><p>You can define your batch in two ways:</p><ul><li>After running a bulk upload, you will see a link "Bulk update the last imported batch" on the status screen. Click this to add all the assets from the bulk upload to your update batch.</li><li>On the Bulk Update tab, click "Start a new bulk update". This allows you to run a search to define your batch.</li></ul><p>Once you have defined your working batch, you can click "Select assets in batch for update". You will see a screen with thumbnails of all assets in your batch. Tick the assets you wish to update, and click "Next" when ready.</p><p>The next step is to enter the metadata for update. On the "Enter Metadata" screen, tick the boxes next to the attributes you want to update, then fill in the new values for the attributes you have ticked. Unchecked attributes will not be updated. </p><p>You can add new categories to the assets using the Category selector dropdown. If you want to change the category, then check the "Delete existing categories" box as well as adding the new Category(s). You can also update or add Access Levels.</p><p>Click "Start Update" to execute the bulk update over the assets you have selected. You will then see a progress screen which will show you messages about the status of the bulk update. When it is finished, you can either:</p><ul><li>Select a different set of assets from the batch to update: "Select assets in batch for another update".</li><li>Run another update on the same batch: "Run another update on this batch".</li><li>Finish with the batch to release the assets: "Finish with this batch".</li></ul><p>Note: all assets in your batch will be locked and unavailable for other users to use in their batches, until you click "Finish with this batch". If another user had assets locked that you wanted to use, then you will see an error message after running your search, and will have to wait for the assets to become available before you can run your update.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('batch-bulkupdate', 2, 'Bulk Update help text', 'The help text for Bulk Update', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><p>The Batch Update and Bulk Update functions allow you to define a batch and work with it to make the updates you require. Please note:<ul><li>You can only have one batch defined at once, ie you can only run one of these operations at once. Any existing batch operation will need to be finished or cancelled before you may start a new one.</li><li>Assets in your batch will be locked so that only you can run batch updates over them. Other users will need to wait until you are finished before they can define batches including your assets.</li></ul><h3>Bulk Update</h3><p>This function allows you to select a batch of assets and to update attributes in bulk.</p><p>You can define your batch in two ways:</p><ul><li>After running a bulk upload, you will see a link "Bulk update the last imported batch" on the status screen. Click this to add all the assets from the bulk upload to your update batch.</li><li>On the Bulk Update tab, click "Start a new bulk update". This allows you to run a search to define your batch.</li></ul><p>Once you have defined your working batch, you can click "Select assets in batch for update". You will see a screen with thumbnails of all assets in your batch. Tick the assets you wish to update, and click "Next" when ready.</p><p>The next step is to enter the metadata for update. On the "Enter Metadata" screen, tick the boxes next to the attributes you want to update, then fill in the new values for the attributes you have ticked. Unchecked attributes will not be updated. </p><p>You can add new categories to the assets using the Category selector dropdown. If you want to change the category, then check the "Delete existing categories" box as well as adding the new Category(s). You can also update or add Access Levels.</p><p>Click "Start Update" to execute the bulk update over the assets you have selected. You will then see a progress screen which will show you messages about the status of the bulk update. When it is finished, you can either:</p><ul><li>Select a different set of assets from the batch to update: "Select assets in batch for another update".</li><li>Run another update on the same batch: "Run another update on this batch".</li><li>Finish with the batch to release the assets: "Finish with this batch".</li></ul><p>Note: all assets in your batch will be locked and unavailable for other users to use in their batches, until you click "Finish with this batch". If another user had assets locked that you wanted to use, then you will see an error message after running your search, and will have to wait for the assets to become available before you can run your update.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'batch-bulkupdate', 2, 'Bulk Update help text', 'The help text for Bulk Update', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><p>The Batch Update and Bulk Update functions allow you to define a batch and work with it to make the updates you require. Please note:<ul><li>You can only have one batch defined at once, ie you can only run one of these operations at once. Any existing batch operation will need to be finished or cancelled before you may start a new one.</li><li>Assets in your batch will be locked so that only you can run batch updates over them. Other users will need to wait until you are finished before they can define batches including your assets.</li></ul><h3>Bulk Update</h3><p>This function allows you to select a batch of assets and to update attributes in bulk.</p><p>You can define your batch in two ways:</p><ul><li>After running a bulk upload, you will see a link "Bulk update the last imported batch" on the status screen. Click this to add all the assets from the bulk upload to your update batch.</li><li>On the Bulk Update tab, click "Start a new bulk update". This allows you to run a search to define your batch.</li></ul><p>Once you have defined your working batch, you can click "Select assets in batch for update". You will see a screen with thumbnails of all assets in your batch. Tick the assets you wish to update, and click "Next" when ready.</p><p>The next step is to enter the metadata for update. On the "Enter Metadata" screen, tick the boxes next to the attributes you want to update, then fill in the new values for the attributes you have ticked. Unchecked attributes will not be updated. </p><p>You can add new categories to the assets using the Category selector dropdown. If you want to change the category, then check the "Delete existing categories" box as well as adding the new Category(s). You can also update or add Access Levels.</p><p>Click "Start Update" to execute the bulk update over the assets you have selected. You will then see a progress screen which will show you messages about the status of the bulk update. When it is finished, you can either:</p><ul><li>Select a different set of assets from the batch to update: "Select assets in batch for another update".</li><li>Run another update on the same batch: "Run another update on this batch".</li><li>Finish with the batch to release the assets: "Finish with this batch".</li></ul><p>Note: all assets in your batch will be locked and unavailable for other users to use in their batches, until you click "Finish with this batch". If another user had assets locked that you wanted to use, then you will see an error message after running your search, and will have to wait for the assets to become available before you can run your update.</p>', 1, 1) ]]>
		</sqlStatement>		

		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('batch-metadataimport', 2, 'Metadata Import help text', 'The help text for Metadata Import', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><h3>Metadata Import</h3><p>The "Metadata import" enables you to import metadata from a tab-delimited file.<br/>If you have already initiated an import then you will see a link "View status" on this page - click on this link to see the status of your import.<br/>If there is no import currently in progress, you can start a new one by clicking "Start new metadata import". Click on the "Help" link on the resulting page for more help on the metadata import process.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('batch-metadataimport', 2, 'Metadata Import help text', 'The help text for Metadata Import', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><h3>Metadata Import</h3><p>The "Metadata import" enables you to import metadata from a tab-delimited file.<br/>If you have already initiated an import then you will see a link "View status" on this page - click on this link to see the status of your import.<br/>If there is no import currently in progress, you can start a new one by clicking "Start new metadata import". Click on the "Help" link on the resulting page for more help on the metadata import process.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'batch-metadataimport', 2, 'Metadata Import help text', 'The help text for Metadata Import', '<h2>Batch Update Functions</h2><p>The functions in this section allow you to update the metadata of assets in batch.</p><h3>Metadata Import</h3><p>The "Metadata import" enables you to import metadata from a tab-delimited file.<br/>If you have already initiated an import then you will see a link "View status" on this page - click on this link to see the status of your import.<br/>If there is no import currently in progress, you can start a new one by clicking "Start new metadata import". Click on the "Help" link on the resulting page for more help on the metadata import process.</p>', 1, 1) ]]>
		</sqlStatement>		

				
		<appSettingChange type="add" setting="notify-user-on-update-default" value="false" section="User registration/ login">
			<comment>
				Whether or not the 'email user' is set to true by default on the 'add user' and 'approve user' pages:
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">		
			ALTER TABLE Country ADD SequenceNumber Int
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE Country ADD SequenceNumber Number			
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE Country ADD SequenceNumber Integer NULL
		</sqlStatement>

		<sqlStatement type="mysql">		
			UPDATE Country SET SequenceNumber=10
		</sqlStatement>
		<sqlStatement type="oracle">		
			UPDATE Country SET SequenceNumber=10
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE UsageTypeFormat ADD ApplyStrip Bool
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE UsageTypeFormat ADD ApplyStrip Char(1) Default 0 NOT NULL			
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageTypeFormat ADD ApplyStrip Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">		
			UPDATE UsageTypeFormat SET ApplyStrip=1
		</sqlStatement>
		<sqlStatement type="oracle">		
			UPDATE UsageTypeFormat SET ApplyStrip=1
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD HelpText Varchar(255)
		</sqlStatement>
			
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD HelpText Varchar2(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD HelpText Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD Highlight Bool
		</sqlStatement>
			
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD Highlight Char(1) Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD Highlight Tinyint Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.21" private="true">
		<userChangeDescription>
			Text shown on "Download Lightbox" page is now content managed. 
		</userChangeDescription>

		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('download-lightbox', 1, 'Download Lightbox text', 'Text shown on the "Download Lightbox" page', '<p><em>If you are not able to unzip zip files then please return to the previous page and download the items individually.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('download-lightbox', 1, 'Download Lightbox text', 'Text shown on the "Download Lightbox" page', '<p><em>If you are not able to unzip zip files then please return to the previous page and download the items individually.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'download-lightbox', 1, 'Download Lightbox text', 'Text shown on the "Download Lightbox" page', '<p><em>If you are not able to unzip zip files then please return to the previous page and download the items individually.</em></p>', 1, 1) ]]>
		</sqlStatement>	

		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('available-categories-label', 1, 'Available categories label', 'Label for the "Available categories" in the "Categories" section on the "Add/Edit Asset" page', 'Available categories (remember to click Add to add the category):', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('available-categories-label', 1, 'Available categories label', 'Label for the "Available categories" in the "Categories" section on the "Add/Edit Asset" page', 'Available categories (remember to click Add to add the category):', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'available-categories-label', 1, 'Available categories label', 'Label for the "Available categories" in the "Categories" section on the "Add/Edit Asset" page', 'Available categories (remember to click Add to add the category):', 1, 1) ]]>
		</sqlStatement>	

	</version><version number="3.22" private="true">
		<userChangeDescription>
			Interim release. 
		</userChangeDescription>

	</version><version number="3.23" private="true">
		<userChangeDescription>
			Updates to access levels.
			Addition of Group permissions.
		</userChangeDescription>		
		
		<sqlStatement type="mysql">		
			ALTER TABLE CM_Category ADD COLUMN SelectedOnLoad Bool DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			ALTER TABLE CM_Category ADD SelectedOnLoad Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			ALTER TABLE CM_Category ADD SelectedOnLoad Char(1) Default 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			Create table Role (Id Bigint NOT NULL AUTO_INCREMENT,
								Name Varchar(200) NOT NULL,
								Description Varchar(200) ,
								Identifier Varchar(50) NOT NULL,
								UNIQUE (Identifier),
								Primary Key (Id)) TYPE = InnoDB
								ROW_FORMAT = Default
		</sqlStatement>
		<sqlStatement type="mysql">		
			Create table GroupIsRole (UserGroupId Bigint NOT NULL,
									  RoleId Bigint NOT NULL,
									  Primary Key (UserGroupId,RoleId)) TYPE = InnoDB
									  ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			Alter table GroupIsRole add Index IX_Relationship154 (UserGroupId)
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			Alter table GroupIsRole add Foreign Key (UserGroupId) references UserGroup (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			Alter table GroupIsRole add Index IX_Relationship155 (RoleId)
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			Alter table GroupIsRole add Foreign Key (RoleId) references Role (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Create table [Role]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Varchar(200) NOT NULL,
				[Description] Varchar(200) NOT NULL,
				[Identifier] Varchar(50) NOT NULL,
				UNIQUE ([Identifier]),
				Primary Key (Id)
			) 
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Create table [GroupIsRole]
			(
				[UserGroupId] Integer NOT NULL,
				[RoleId] Integer NOT NULL,
				Primary Key ([UserGroupId],[RoleId])
			) 
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Alter table [GroupIsRole] add  foreign key([UserGroupId]) references [UserGroup] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			Alter table [GroupIsRole] add  foreign key([RoleId]) references [Role] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="oracle">		
		Create table Role (
				Id Double precision NOT NULL ,
				Name Varchar2(200) NOT NULL ,
				Description Varchar2(200) NOT NULL ,
				Identifier Varchar2(50) NOT NULL UNIQUE )
		</sqlStatement>

		<sqlStatement type="oracle">		
		Create table GroupIsRole (
				UserGroupId Double precision NOT NULL ,
				RoleId Double precision NOT NULL )
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table Role add primary key (Id) 
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table GroupIsRole add primary key (UserGroupId,RoleId) 
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table GroupIsRole add  foreign key (UserGroupId) references UserGroup (Id) 
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table GroupIsRole add  foreign key (RoleId) references Role (Id) 
		</sqlStatement>

		<sqlStatement type="oracle">		
			CREATE SEQUENCE RoleSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<appSettingChange type="add" setting="showSingleAccessLevel" value="false" section="Browse settings">
			<comment>
				Whether to show checkbox for an access level if only one is available
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="use-group-roles" value="false" section="General config">
			<comment>
				Whether to show the permission options for the groups
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="rolesSecurityFileDir" value="WEB-INF/manager-config/roles" section="Directory settings">
			<comment>
				Path to directory containing group role security file
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="export-file-stem" value="export" section="Import/Export settings">
			<comment>
				The stem to use for the export file...
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="export-file-name-dt" value="true" section="Import/Export settings">
			<comment>
				Whether to include the date/time in the export file name
			</comment>
		</appSettingChange>

		<msgPropChange type="add" setting="failedValidationAccessLevel" value="You need to make sure this image is in at least one access level." />

	</version><version number="3.24" private="true">
		<userChangeDescription>
			Change to export screen to allow append to filename, and add CMS text to export screen. 
		</userChangeDescription>

		<appSettingChange type="add" setting="export-append-mandatory" value="false" section="Import/Export settings">
			<comment>
				Whether append to filename should be a mandatory field
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('export-copy', 1, 'Export page copy', 'Export page copy', '<p>If you enter a reference in the &#39;Append to filename&#39; field below then this will be appended to export filenames.<br />If you enter text in the &#39;Description&#39; field then this will appear in the header of the exported spreadsheet.<br />Check &#39;Export asset files&#39; if you want file data to be exported as well as metadata.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('export-copy', 1, 'Export page copy', 'Export page copy', '<p>If you enter a reference in the &#39;Append to filename&#39; field below then this will be appended to export filenames.<br />If you enter text in the &#39;Description&#39; field then this will appear in the header of the exported spreadsheet.<br />Check &#39;Export asset files&#39; if you want file data to be exported as well as metadata.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			 <![CDATA[ INSERT INTO ListItem (Id, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (ListItemSequence.NEXTVAL, 'export-copy', 1, 'Export page copy', 'Export page copy', '<p>If you enter a reference in the &#39;Append to filename&#39; field below then this will be appended to export filenames.<br />If you enter text in the &#39;Description&#39; field then this will appear in the header of the exported spreadsheet.<br />Check &#39;Export asset files&#39; if you want file data to be exported as well as metadata.</p>', 1, 1) ]]>
		</sqlStatement>	
		
	</version><version number="3.25">
		<userChangeDescription>
			Improve external data import functionality
			Added category grouping for related assets
		</userChangeDescription>		

		<appSettingChange type="delete" setting="synch-with-adlib" />

		<appSettingChange type="delete" setting="adlib-synch-hour" />

		<appSettingChange type="delete" setting="adlib-xml-url" />

		<appSettingChange type="delete" setting="callback-to-adlib" />

		<appSettingChange type="delete" setting="adlib-callback-url" />

		<appSettingChange type="add" setting="synch-task-names" value="" section="External datasource synchronisation settings">
			<comment>
				Syncrhonisation tasks to run, comma seperated (needs complimentary properties file)
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="group-related-assets" value="false" section="Asset View settings">
			<comment>
				Whether to group related assets by the categories they are in
			</comment>
		</appSettingChange>
	
	</version><version number="3.26" private="true">
		<userChangeDescription>
			Can now optionally hide thumbnails on Search results and Browse pages. Minor audio changes.
		</userChangeDescription>

		<appSettingChange type="add" setting="hide-thumbnails-on-browse-search" value="false" section="Browse settings">
			<comment>
				Hide thumbnails on search results page, browse page and lightbox page
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="show-audio-preview-in-page" value="false" section="Asset View settings">
			<comment>
				Show audio preview clip in the asset view page instead of a popup
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="show-image-title-on-lightbox" value="false" section="Lightbox settings">
			<comment>
				Whether or not to show the title of an asset on the lightbox page
			</comment>
		</appSettingChange>
	</version><version number="3.27" private="true">
		<userChangeDescription>
			Updates to audio preview functionality
			Browse by keywords and all categories functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="embedded-audio-preview-format" value="flv" section="Server settings">
			<comment>
				File format for the embedded audio preview
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">	
			 ALTER TABLE AudioAsset ADD EmbeddedPreviewClipLocation Varchar(255)
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">	
			 ALTER TABLE AudioAsset ADD EmbeddedPreviewClipLocation Varchar(255)
		</sqlStatement>	
		
		<sqlStatement type="oracle">		
			 ALTER TABLE AudioAsset ADD EmbeddedPreviewClipLocation Varchar2(255)
		</sqlStatement>
	</version><version number="3.28" private="true">
		<userChangeDescription>
			Updates to keyword browsing functionality
		</userChangeDescription>
	</version><version number="3.29" private="true">
		<userChangeDescription>
			Updates to enable audio sample rate to be modified in the settings file
		</userChangeDescription>
		<appSettingChange type="add" setting="audio-preview-sample-rate" value="44100" section="Server settings">
			<comment>
				The audio sample rate, in Hz, for the preview clip create for audio and video files:
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="video-preview-frame-rate" value="25" section="Server settings">
			<comment>
				The frame rate, in fps (frames per second), for the preview clip created for video files:
			</comment>
		</appSettingChange>
	</version><version number="3.30" private="true">
		<userChangeDescription>
			Enable label for fax to be changed from settings file
		</userChangeDescription>
		<appSettingChange type="add" setting="labelFax" value="Fax" section="Names and Spellings">
		</appSettingChange>
	</version><version number="3.31">
		<userChangeDescription>
			Enhancements for audio support.
		</userChangeDescription>
		<appSettingChange type="add" setting="audio-bit-rate" value="64" section="Server settings">
			<comment>
				The bit rate for the audio preview. Note: codecs will only accept certain values for this.
			</comment>
		</appSettingChange>
		<appSettingChange type="delete" setting="video-preview-frame-rate">
		</appSettingChange>
	</version><version number="3.32">
		<userChangeDescription>
			Change to LDAP integration - to allow dereferencing of alaises.
		</userChangeDescription>
		<userChangeDescription>
			Right-click can be disabled on featured image and larger image previews from settings file.
		</userChangeDescription>
		<appSettingChange type="add" setting="ldap-deref-aliases" value="always" section="Active Directory Settings">
			<comment>
				Whether or not to dereference alaises. This setting should be one of: always, never, finding, searching.
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="disable-right-click" value="false" section="General config">
		</appSettingChange>
	</version><version number="3.32.1" updaterChanged="true" fileArchive="app.zip">
		<userChangeDescription>
			Enhancements to updater module.
		</userChangeDescription>
		
		<appSettingChange type="add" setting="application-update-in-progress" value="true" section="Application Updater Settings">
			<comment>
				Is an update currently in progress?
			</comment>
		</appSettingChange>
		
		<msgPropChange type="add" setting="updateDownloadingApp" value="Downloading Updated Application Files" />
		
	</version><version number="3.33">
		<userChangeDescription>
			Add display attribute functionality.
		</userChangeDescription>
		<userChangeDescription>
			Change title and description to attributes.
		</userChangeDescription>
		<userChangeDescription>
			*** NOTE: Before performing this update you should make a note of which attributes are currently displayed for each asset on the browse
			and search results page - then recreate them after the update using the new Display Attribute functionality (in Admin &gt; Attributes &gt; Display Attribute tab) ***
		</userChangeDescription>

		<userPostUpdateMessage>
			After this update you should check that the correct attributes are shown on the browse and search pages, under thumbnails. 
			To do this, go to Admin &gt; Attributes &gt; Display Attribute tab.
		</userPostUpdateMessage>
		
		<sqlStatement type="all">
			UPDATE Attribute SET AttributeTypeId=1, IsStatic=0, IsKeywordSearchable=1 WHERE StaticFieldName='title'
		</sqlStatement>

		
		<sqlStatement type="all">
			UPDATE Attribute SET AttributeTypeId=2, IsStatic=0, IsKeywordSearchable=1 WHERE StaticFieldName='description'
		</sqlStatement>

		
		<sqlStatement type="mysql">	
			 CREATE TABLE AttributeTransferTemp (AttributeId BIGINT, Value TEXT, AssetId BIGINT)
		</sqlStatement>

		<sqlStatement type="oracle">	
			CREATE TABLE AttributeTransferTemp (AttributeId Double precision, Value Varchar2(4000), AssetId Double precision)
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			Create table [AttributeTransferTemp] ([AttributeId] Integer, [Value] Varchar(4000), [AssetId] Integer)
		</sqlStatement>

		
		<sqlStatement type="all">	
			 INSERT INTO AttributeTransferTemp (Value, AssetId) SELECT Title, Id FROM Asset
		</sqlStatement>

		
		<sqlStatement type="mysql">	
			 UPDATE AttributeTransferTemp at, Attribute a SET at.AttributeId = a.Id WHERE a.StaticFieldName='title'
		</sqlStatement>

		<sqlStatement type="oracle">	
			 UPDATE AttributeTransferTemp SET AttributeId = (SELECT Id FROM Attribute WHERE StaticFieldName='title')
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			UPDATE  AttributeTransferTemp SET AttributeId = Attribute.Id FROM AttributeTransferTemp, Attribute WHERE  StaticFieldName = 'title'
		</sqlStatement>

		
		<sqlStatement type="all">
			DELETE AssetAttributeValue FROM AssetAttributeValue, Attribute WHERE AssetAttributeValue.AttributeId = Attribute.Id AND Attribute.StaticFieldName='title'
		</sqlStatement>
		
		<sqlStatement type="all">
			DELETE AttributeValue FROM AttributeValue, Attribute WHERE AttributeValue.AttributeId = Attribute.Id AND Attribute.StaticFieldName='title'
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			 INSERT INTO AttributeValue (AttributeId, Value, AssetId) SELECT AttributeId, Value, AssetId FROM AttributeTransferTemp
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			 INSERT INTO AttributeValue (AttributeId, Value, AssetId) SELECT AttributeId, Value, AssetId FROM AttributeTransferTemp
		</sqlStatement>
		<sqlStatement type="oracle">	
			 INSERT INTO AttributeValue (Id, AttributeId, Value, AssetId) SELECT AttributeValueSequence.NEXTVAL, AttributeId, Value, AssetId FROM AttributeTransferTemp
		</sqlStatement>

		<sqlStatement type="all">	
			 INSERT INTO AssetAttributeValue (AttributeValueId, AttributeId, AssetId) SELECT av.Id, av.AttributeId, av.AssetId FROM AttributeValue av, Attribute a WHERE av.AttributeId = a.Id AND a.StaticFieldName='title'
		</sqlStatement>


		<sqlStatement type="all">	
			 DELETE FROM AttributeTransferTemp
		</sqlStatement>


		<sqlStatement type="all">	
			 INSERT INTO AttributeTransferTemp (Value, AssetId) SELECT Description, Id FROM Asset
		</sqlStatement>


		<sqlStatement type="mysql">	
			 UPDATE AttributeTransferTemp at, Attribute a SET at.AttributeId = a.Id WHERE a.StaticFieldName='description'
		</sqlStatement>
		
		<sqlStatement type="oracle">	
			 UPDATE AttributeTransferTemp SET AttributeId = (SELECT Id FROM Attribute WHERE StaticFieldName='description')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">	
			UPDATE AttributeTransferTemp SET AttributeId = Attribute.Id FROM AttributeTransferTemp, Attribute WHERE  StaticFieldName  = 'description'
		</sqlStatement>


		<sqlStatement type="all">
			DELETE AssetAttributeValue FROM AssetAttributeValue, Attribute WHERE AssetAttributeValue.AttributeId = Attribute.Id AND Attribute.StaticFieldName='description'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE AttributeValue FROM AttributeValue, Attribute WHERE AttributeValue.AttributeId = Attribute.Id AND Attribute.StaticFieldName='description'
		</sqlStatement>

		
		<sqlStatement type="mysql">	
			 INSERT INTO AttributeValue (AttributeId, Value, AssetId) SELECT AttributeId, Value, AssetId FROM AttributeTransferTemp
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			 INSERT INTO AttributeValue (AttributeId, Value, AssetId) SELECT AttributeId, Value, AssetId FROM AttributeTransferTemp
		</sqlStatement>
		<sqlStatement type="oracle">	
			 INSERT INTO AttributeValue (Id, AttributeId, Value, AssetId) SELECT AttributeValueSequence.NEXTVAL, AttributeId, Value, AssetId FROM AttributeTransferTemp
		</sqlStatement>

		<sqlStatement type="all">	
			INSERT INTO AssetAttributeValue (AttributeValueId, AttributeId, AssetId) SELECT av.Id, av.AttributeId, av.AssetId FROM AttributeValue av, Attribute a WHERE av.AttributeId = a.Id AND a.StaticFieldName='description'
		</sqlStatement>


		<sqlStatement type="all">	
			 DROP TABLE AttributeTransferTemp
		</sqlStatement>


		<sqlStatement type="all">	
			 ALTER TABLE Asset DROP COLUMN Title
		</sqlStatement>


		<sqlStatement type="all">	
			 ALTER TABLE Asset DROP COLUMN Description
		</sqlStatement>


		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD NameAttribute TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD NameAttribute INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD NameAttribute INTEGER DEFAULT 0
		</sqlStatement>

		
		<sqlStatement type="mysql">	
			 Create table DisplayAttribute (
						DisplayLength Int ,
						AttributeId Bigint NOT NULL,
						SequenceNumber Int ,
						ShowLabel Tinyint  DEFAULT 0,
					 Primary Key (AttributeId)) TYPE = InnoDB
					ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 Create table [DisplayAttribute] (
						[DisplayLength] Integer,
						[AttributeId] Integer NOT NULL,
						[SequenceNumber] Integer,
						[ShowLabel] Integer DEFAULT 0,
						Primary Key ([AttributeId]))
		</sqlStatement>

		<sqlStatement type="oracle">	
			 Create table DisplayAttribute (
					DisplayLength Integer,
					AttributeId Double precision NOT NULL,
					SequenceNumber Integer,
					ShowLabel Integer DEFAULT 0) 
		</sqlStatement>
			
		<sqlStatement type="oracle">	
			 Alter table DisplayAttribute add primary key (AttributeId)
		</sqlStatement>

		
		<sqlStatement type="mysql">	
			Alter table DisplayAttribute add Index IX_Relationship157 (AttributeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table DisplayAttribute add Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			Alter table [DisplayAttribute] add  foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action 
		</sqlStatement>
	
		<sqlStatement type="oracle">	
			Alter table DisplayAttribute add  foreign key (AttributeId) references Attribute (Id) 
		</sqlStatement>
	

		<sqlStatement type="all">	
			 INSERT INTO DisplayAttribute (AttributeId) SELECT Id FROM Attribute WHERE StaticFieldName='assetId'
		</sqlStatement>

		<sqlStatement type="all">	
			 INSERT INTO DisplayAttribute (AttributeId) SELECT Id FROM Attribute WHERE StaticFieldName='title'
		</sqlStatement>

		<sqlStatement type="mysql">	
			 UPDATE DisplayAttribute da, Attribute a SET da.SequenceNumber=1, da.ShowLabel=1 WHERE da.AttributeId = a.Id AND a.StaticFieldName='assetId'
		</sqlStatement>
		
		<sqlStatement type="oracle">	
			 UPDATE DisplayAttribute da, Attribute a SET da.SequenceNumber=1, da.ShowLabel=1 WHERE da.AttributeId = a.Id AND a.StaticFieldName='assetId'
		</sqlStatement>
		
		<!-- fix for sqlserver -->
		<sqlStatement type="sqlserver">	
			 UPDATE DisplayAttribute SET SequenceNumber=1, ShowLabel=1 FROM DisplayAttribute, Attribute WHERE DisplayAttribute.AttributeId = Attribute.Id AND Attribute.StaticFieldName='assetId'
		</sqlStatement>
		
		

		<sqlStatement type="mysql">	
			 UPDATE DisplayAttribute da, Attribute a SET da.SequenceNumber=2, da.ShowLabel=0 WHERE da.AttributeId = a.Id AND a.StaticFieldName='title'
		</sqlStatement>
		
		<sqlStatement type="oracle">	
			 UPDATE DisplayAttribute da, Attribute a SET da.SequenceNumber=2, da.ShowLabel=0 WHERE da.AttributeId = a.Id AND a.StaticFieldName='title'
		</sqlStatement>
		
		<!-- fix for sqlserver -->
		<sqlStatement type="sqlserver">	
			 UPDATE DisplayAttribute SET SequenceNumber=2, ShowLabel=0 FROM DisplayAttribute, Attribute WHERE DisplayAttribute.AttributeId = Attribute.Id AND Attribute.StaticFieldName='title'
		</sqlStatement>
		

		<sqlStatement type="all">	
			 UPDATE Attribute SET StaticFieldName=NULL, NameAttribute=1, IsKeywordSearchable=1 WHERE StaticFieldName='title'
		</sqlStatement>

		<sqlStatement type="all">	
			 UPDATE Attribute SET StaticFieldName=NULL, IsKeywordSearchable=1 WHERE StaticFieldName='description'
		</sqlStatement>

		
		<appSettingChange type="delete" setting="show-asset-id-in-search-results" />
		
		<appSettingChange type="delete" setting="results-show-filesize" />
		
		<appSettingChange type="delete" setting="results-show-dimensions" />
		
		<appSettingChange type="delete" setting="results-show-title" />
		
		<appSettingChange type="delete" setting="results-show-description" />
		
		<appSettingChange type="delete" setting="show-image-id-on-browse" />
		
		<appSettingChange type="delete" setting="show-image-description-on-browse" />
		
		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />

	</version><version number="3.34">
		<userChangeDescription>
			Change to improve conversions of CMYK images to RGB.
		</userChangeDescription>
		<appSettingChange type="add" setting="default-cmyk-color-profile" value="WEB-INF/manager-config/color-profiles/CMYK/USWebCoatedSWOP.icc" section="Directory settings">
			<comment>
				The source CMYK color profile to use when converting a CMYK image to RGB, if the image does not contain an embedded profile. If this starts with / the it will be assumed it is a full path. Otherwise it will be assumed to be relative to the asset-bank webapp directory.
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="rgb-color-profile" value="WEB-INF/manager-config/color-profiles/RGB/sRGB.icm" section="Directory settings">
			<comment>
				The destination RGB color profile to use when converting a CMYK image to RGB. If this starts with / the it will be assumed it is a full path. Otherwise it will be assumed to be relative to the asset-bank webapp directory.
			</comment>
		</appSettingChange>
	</version><version number="3.35">
		<userChangeDescription>
			Add a DateTime attribute type and change the attribute rules scheduling to allow for datetimes.
		</userChangeDescription>
		<userChangeDescription>
			Add a setting to enable upload with approval to allow editing of own files with approval too.
		</userChangeDescription>
		<userChangeDescription>
			Add field on Group for 'Can Only Edit Own Files'.
		</userChangeDescription>

		<sqlStatement type="mysql">	
			ALTER TABLE AttributeValue ADD DateTimeValue Datetime 
		</sqlStatement>			
		<sqlStatement type="sqlserver">	
			ALTER TABLE AttributeValue ADD DateTimeValue Datetime 
		</sqlStatement>			
		<sqlStatement type="oracle">		
			ALTER TABLE AttributeValue ADD DateTimeValue Date 
		</sqlStatement>
			
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		<sqlStatement type="all">		
			 INSERT INTO AttributeType (Id,Name) VALUES (8,'Datetime')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>
		
		<sqlStatement type="all">		
			 INSERT INTO SystemSetting (Id, Value) VALUES ('lastRunSERules' , '')
		</sqlStatement>
		<sqlStatement type="all">		
			 INSERT INTO SystemSetting (Id, Value) VALUES ('lastRunCAVRules' , '')
		</sqlStatement>
		
		<appSettingChange type="delete" setting="send-alerts-when-assets-expire" />
		<appSettingChange type="delete" setting="send-expired-alerts-time-of-day" />
		<appSettingChange type="delete" setting="run-attribute-rules-time-of-day" />
	
		<appSettingChange type="add" setting="upload-with-approval-can-edit-own-with-approval" value="false" section="General config">
			<comment>
				Set this to true if the upload with approval permission should also allow editing one's own files with approval.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="users-organisation-mandatory" value="false" section="User registration/ login">
			<comment>
				Set to true to have organisation mandatory on registration (if shown).
			</comment>
		</appSettingChange>
				
		
		<sqlStatement type="mysql">		
			ALTER TABLE UserGroup ADD COLUMN CanOnlyEditOwn Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UserGroup ADD CanOnlyEditOwn Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UserGroup ADD CanOnlyEditOwn Char(1) Default 1 NOT NULL
		</sqlStatement>
		
		
	</version><version number="3.36">
		<userChangeDescription>
			Menu items, form labels and some common terms added to the content management system.
		</userChangeDescription>
		
		<userChangeDescription>
			*** NOTE: Before running this change, you should check the values of the following labels on the user registration form: Forename, Surname, Organisation, Address fields, Job Title, User Registration message.
			If these have been changed from the defaults (using settings in ApplicationSettings.properties), then the changes need to be reapplied after the update using the Content Admin section ***
		</userChangeDescription>
		
		<userPostUpdateMessage>
			After this update you should check that the correct labels are shown on the user registration form fields. 
			If these have previously been changed from the defaults, then the changes need to be reapplied using the Content Admin section.
		</userPostUpdateMessage>
		
		<!-- Note: If clients have changed the settings below to anything other than default, then this will need to be reflected in the corresponding list item -->
		<appSettingChange type="delete" setting="labelForename" />
		<appSettingChange type="delete" setting="labelSurname" />
		<appSettingChange type="delete" setting="labelOrganisation" />
		<appSettingChange type="delete" setting="labelAddress1" />
		<appSettingChange type="delete" setting="labelAddress2" />
		<appSettingChange type="delete" setting="labelTown" />
		<appSettingChange type="delete" setting="labelCounty" />
		<appSettingChange type="delete" setting="labelPostcode" />
		<appSettingChange type="delete" setting="labelFax" />
		<appSettingChange type="delete" setting="labelJobTitle" />
		<appSettingChange type="delete" setting="labelUserRegistrationMessage" />

		
		<!-- Add lists -->
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List ON
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (7, 'menu', 'Menu Copy', 'Copy for menu items',1) ]]>
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (8, 'terms', 'Common Terms', 'Common terms such as lightbox and item',1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (9, 'labels', 'Form Labels', 'Labels for form elements',1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List OFF
		</sqlStatement>
		
		<!-- Remove ID column -->
		<sqlStatement type="mysql">
			ALTER TABLE ListItem DROP COLUMN Id, MODIFY COLUMN Identifier VARCHAR(200) NOT NULL DEFAULT '', DROP PRIMARY KEY, ADD PRIMARY KEY(Identifier)
		</sqlStatement>

		<!-- In SQLServer we need to find out the name of the PK and unique constraints in order to drop them -->
		<sqlStatement type="sqlserver">
			<![CDATA[ 
							DECLARE @sql nvarchar(255)
							WHILE EXISTS(select 1 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS where table_name = 'ListItem' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%'))
							BEGIN
								 select    @sql = 'ALTER TABLE ListItem DROP CONSTRAINT ' + CONSTRAINT_NAME 
								 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS 
								 where table_name = 'ListItem' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%')
								 exec    sp_executesql @sql
							END
			 ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE ListItem DROP COLUMN Id 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE ListItem ALTER COLUMN Identifier VARCHAR(200) NOT NULL 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE ListItem ADD PRIMARY KEY(Identifier) 
		</sqlStatement>
		
		<!-- For oracle dropping the column drops the primary key, 
			there may or may not be a unique constraint on ListItem depending on what version they have.
			We don't add a primary key on Identifier since this is not possible if there is a unique constraint -->
		<sqlStatement type="oracle">
			ALTER TABLE ListItem DROP COLUMN Id 
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE ListItem MODIFY Identifier VARCHAR2(200) NOT NULL
		</sqlStatement>				
						
		
		<!-- ListItems -->				
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('custom-header-content', 1, 'Custom header content', '', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-home', 7, 'Main menu - Home', 'Home', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-search', 7, 'Main menu - Advanced Search', 'Advanced Search', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-browse', 7, 'Main menu - Browse', 'Browse', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-purchases', 7, 'Main menu - My Purchases', 'My Purchases', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-contact', 7, 'Main menu - Contact Us', 'Contact Us', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-upload', 7, 'Main menu - Upload', 'Upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-single', 7, 'Main menu - Single Upload', 'Single Upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-bulk', 7, 'Main menu - Bulk Upload', 'Bulk Upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-batch', 7, 'Main menu - Batch Update', 'Batch Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-approve', 7, 'Main menu - Approve', 'Approve', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-welcome', 7, 'Header links - Welcome', 'Welcome', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-subscriptions', 7, 'Header links - Subscriptions', 'Subscriptions', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-profile', 7, 'Header links - Your Profile', 'Your Profile', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-log-out', 7, 'Header links - Log Out', 'Log Out', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-subscribe', 7, 'Header links - Subscribe', 'Subscribe', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-register', 7, 'Header links - Register', 'Register', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-log-in', 7, 'Header links - Log In', 'Log In', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('menu-help', 7, 'Header links - Help', 'Help', 1, 2) ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-batch-update', 7, 'Tabs - Batch Update', 'Batch Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-bulk-update', 7, 'Tabs - Bulk Update', 'Bulk Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-metadata-import', 7, 'Tabs - Metadata Import', 'Metadata Import', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-browse-cats', 7, 'Tabs - Browse Categories', 'Browse Categories', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-browse-keywords', 7, 'Tabs - Browse Keywords', 'Browse Keywords', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-quick-download', 7, 'Tab - Quick Download', 'Quick Download', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-advanced-download', 7, 'Tab - Advanced Download', 'Advanced Download', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('item', 8, 'Term for item', 'item', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('items', 8, 'Plural term for item', 'items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('my-lightbox', 8, 'Term for My Lightbox', 'My Lightbox', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('pixels', 8, 'Term for pixels', 'pixels', 1, 2) ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-search', 9, 'Label - home search box', 'Search...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-username', 9, 'Label - Username', 'Username:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-password', 9, 'Label - Password', 'Password:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-name', 9, 'Label - Name', 'Name:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-email', 9, 'Label - Email Address', 'Email Address:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-tel', 9, 'Label - Telephone', 'Telephone:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-message', 9, 'Label - Message', 'Message:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-title', 9, 'Label - Title', 'Title:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-tax-number', 9, 'Label - Tax number', 'VAT Number:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-forename', 9, 'Label - Forename', 'Forename:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-surname', 9, 'Label - Surname', 'Surname:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-address1', 9, 'Label - Address 1', 'Address 1:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-address2', 9, 'Label - Address 2', 'Address 2:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-town', 9, 'Label - Town', 'Town:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-county', 9, 'Label - County', 'County:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-postcode', 9, 'Label - Postcode', 'Postcode:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-country', 9, 'Label - Country', 'Country:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-fax', 9, 'Label - Fax number', 'Fax:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-job-title', 9, 'Label - Job Title', 'Job Title:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-division', 9, 'Label - Division', 'Division:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-organisation', 9, 'Label - Organisation', 'Organisation:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-user-reg-message', 9, 'Label - User Registration Message', 'Intended Use:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-address', 9, 'Label - Address', 'Address:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-current-password', 9, 'Label - Current Password', 'Current Password:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-new-password', 9, 'Label - New Password', 'New Password:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-confirm-password', 9, 'Label - Confirm New Password', 'Confirm New Password:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-groups', 9, 'Label - Groups', 'Groups:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-request-notes', 9, 'Label - Request Notes', 'Your request notes:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-org-units', 9, 'Label - Organisational Units', 'Organisational Units:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-org-unit', 9, 'Label - Organisational Unit', 'Organisational Unit:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-auto-login', 9, 'Label - Auto login checkbox', 'Log in automatically next time', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-select-usage', 9, 'Label - Select Usage', 'Please select your intended usage for this asset', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-file-format', 9, 'Label - File Format', 'File Format:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-size', 9, 'Label - Size', 'Size:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-position', 9, 'Label - Position', 'Position:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-aspect-ratio', 9, 'Label - Lock Aspect Ratio', 'Lock Aspect Ratio:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-pixel-width', 9, 'Label - Width (pixels)', 'Width (pixels):', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-pixel-height', 9, 'Label - Height (pixels)', 'Height (pixels):', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-density', 9, 'Label - Density (DPI)', 'Density (DPI):', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-jpeg-quality', 9, 'Label - JPEG Quality', 'JPEG Quality:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-rotate', 9, 'Label - Rotate', 'Rotate:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-strip', 9, 'Label - Strip', 'Strip:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-convert-rgb', 9, 'Label - Convert to RGB', 'Convert to RGB:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-compress-file', 9, 'Label - Compress file before download', 'Compress (ZIP) the file before it is downloaded', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-email-file', 9, 'Label - Email file', 'Send this file in an email', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-x', 9, 'Label - X dimension', 'X:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-y', 9, 'Label - Y dimension', 'Y:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-w', 9, 'Label - Width (short)', 'W:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-h', 9, 'Label - Height (short)', 'H:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-lock-aspect', 9, 'Label - Lock Aspect Ratio', 'Lock Aspect Ratio:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-file-formats', 9, 'Label - File Formats', 'File Formats:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-total-size', 9, 'Label - Total Size', 'Total Size:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-max-width', 9, 'Label - Max Width', 'Max Width:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-max-height', 9, 'Label - or Max Height', 'OR Max Height:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-thumbnail', 9, 'Label - Thumbnail', 'Thumbnail:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-approved', 9, 'Label - Approved?', 'Approved?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-keywords', 9, 'Label - Keywords', 'Keywords:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-approval-status', 9, 'Label - Approval Status', 'Approval Status:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-zip-file', 9, 'Label - Zip file', 'Zip file:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-or-directory', 9, 'Label - Or directory', 'Or directory:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-populate-name', 9, 'Label - Populate name', 'Populate name from filename:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-link-items', 9, 'Label - Link Items', 'Link the items to each other?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-intended-usage-details', 9, 'Label - Intended Usage Details', 'Please enter details of your intended usage:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-featured-image', 9, 'Label - Featured Image?', 'Featured Image?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-promoted-item', 9, 'Label - Promoted Item?', 'Promoted Item?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-preview-restricted', 9, 'Label - Preview Restricted?', 'Preview Restricted?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-delete-existing-cats', 9, 'Label - Delete existing categories?', 'Delete existing categories?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-delete-access-levels', 9, 'Label - Delete existing access levels?', 'Delete existing access levels?', 1, 2) ]]>
		</sqlStatement>
		
		
	</version><version number="3.37">
		<userChangeDescription>
			Add setting for allowing only admins to edit the master keyword list.
		</userChangeDescription>
	
		<appSettingChange type="add" setting="admin-only-can-edit-keyword-list" value="false" section="Keyword taxonomy config">
			<comment>
				Set to true if only admins can edit the master keyword list.
			</comment>
		</appSettingChange>			
	</version><version number="3.38">
		<userChangeDescription>
			Make the Login page title editable in content.
		</userChangeDescription>
		<userChangeDescription>
			Add error page for case of login failure due to block on IP address.
		</userChangeDescription>
		<userChangeDescription>
			Add optional port and authentication settings for SMTP integration.
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('login-title', 8, 'Login page title', 'Login', 1, 2) ]]>
		</sqlStatement>	
		
		<appSettingChange type="add" setting="emailSMTPPort" value="" section="Server settings">
			<comment>
				SMTP PORT (leave blank for default 25)
			</comment>
		</appSettingChange>			
		<appSettingChange type="add" setting="emailSMTPUsername" value="" section="Server settings">
			<comment>
				SMTP authentication username (leave blank for no authentication)
			</comment>
		</appSettingChange>			
		<appSettingChange type="add" setting="emailSMTPPassword" value="" section="Server settings">
			<comment>
				SMTP authentication password (leave blank for no authentication)
			</comment>
		</appSettingChange>		
		
		<msgPropChange type="add" setting="failedLoginIPBlock" value="You have been prevented from logging in, since your IP address is not in the accepted range. Please contact your administrator." />
				
	</version><version number="3.39">
		<userChangeDescription>
			Added link switch to display attribute functionality. 
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>
	
		<sqlStatement type="mysql">		
			ALTER TABLE DisplayAttribute ADD COLUMN IsLink Tinyint DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			ALTER TABLE DisplayAttribute ADD IsLink Tinyint Default 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			ALTER TABLE DisplayAttribute ADD IsLink Char(1) Default 1 NOT NULL
		</sqlStatement>
		
	</version><version number="3.40" private="true">
		<userChangeDescription>
			Version released to updater.
		</userChangeDescription>
	</version><version number="3.41">
		<userChangeDescription>
			Minor usability improvements.
		</userChangeDescription>	
		<userChangeDescription>
			Make the Register and Search page titles editable in content.
		</userChangeDescription>
		<userChangeDescription>
			Added stemming capability (when searching).
		</userChangeDescription>		
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-file-size', 9, 'Label - File Size', 'File Size:', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (10, 'headings', 'Page Headings', 'Copy for page headings', 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List OFF
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-register', 10, 'Heading - Register', 'Register', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-search', 10, 'Heading - Advanced Search', 'Advanced Search', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-search-results', 10, 'Heading - Search Results', 'Search Results', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" setting="use-stemming" value="true" section="Search settings">
			<comment>
				Whether or not to use the Porter algorithm to stem when indexing and searching for keywords.
			</comment>
		</appSettingChange>	

	</version><version number="3.42">
		<userChangeDescription>
			Partial multiple and shared assetbox implementation.
		</userChangeDescription>	
		
		<sqlStatement type="all">
			ALTER TABLE AssetBox ADD Name Varchar(255)		
		</sqlStatement>
		
		<sqlStatement type="all">
			ALTER TABLE AssetBox ADD SequenceNumber Integer DEFAULT 0 NOT NULL		
		</sqlStatement>

		<sqlStatement type="mysql">	
			Create table AssetBoxShare (
				AssetBoxId Bigint NOT NULL,
				UserId Bigint NOT NULL,
				CanEdit Bool NOT NULL DEFAULT 0,
				SequenceNumber Int NOT NULL DEFAULT 0,
				Alias Varchar(255),
			 	Primary Key (AssetBoxId,UserId)) TYPE = InnoDB
				ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 Create table [AssetBoxShare]
				(
					[AssetBoxId] Integer NOT NULL,
					[UserId] Integer NOT NULL,
					[CanEdit] Tinyint Default 0 NOT NULL,
					[SequenceNumber] Integer Default 0 NOT NULL,
					[Alias] Varchar(255) NULL,
				Primary Key ([AssetBoxId],[UserId])
				) 
		</sqlStatement>

		<sqlStatement type="oracle">	
			Create table AssetBoxShare (
				AssetBoxId Double precision NOT NULL ,
				UserId Double precision NOT NULL ,
				CanEdit Char(1) Default 0 NOT NULL ,
				SequenceNumber Number Default 0 NOT NULL ,
				Alias Varchar2(255)) 
		</sqlStatement>
					
		<sqlStatement type="mysql">
			Alter table AssetBoxShare add Index IX_Relationship158 (AssetBoxId)
		</sqlStatement>

		<sqlStatement type="mysql">	
			Alter table AssetBoxShare add Foreign Key (AssetBoxId) references AssetBox (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table AssetBoxShare add Index IX_Relationship159 (UserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table AssetBoxShare add Foreign Key (UserId) references AssetBankUser (Id) on delete restrict on update restrict
		</sqlStatement>		
		
		<sqlStatement type="oracle">	
			 Alter table AssetBoxShare add foreign key (AssetBoxId) references AssetBox (Id) 
		</sqlStatement>
		
		<!-- incorrect -->
		<sqlStatement type="oracle">	
			 Alter table AssetBoxShare add foreign key (AssetBoxId) references AssetBankUser (Id)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">	
			Alter table [AssetBoxShare] add  foreign key([AssetBoxId]) references [AssetBox] ([Id])  on update no action on delete no action  
		</sqlStatement>
		
		<sqlStatement type="sqlserver">	
			Alter table [AssetBoxShare] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action  
		</sqlStatement>
	
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('a-lightbox', 8, 'Term for the Lightbox', 'Lightbox', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightboxes', 8, 'Plural term for the Lightbox', 'Lightboxes', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" setting="lightbox-name-plural" value="Lightboxes" section="Lightbox settings">
			<comment>
				A name for more than one lightbox, e.g. "Lightboxes"
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" setting="multiple-lightboxes" value="true" section="Lightbox settings">
			<comment>
				Can users have more than one lightbox? If true, users will see the 'Manage Lightboxes' page.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="shared-lightboxes" value="true" section="Lightbox settings">
			<comment>
				Can users share their lightboxes with others? (Ignored if multiple-lightboxes=false)
			</comment>
		</appSettingChange>

	</version><version number="3.43">
		<userChangeDescription>
			Added Embedded Data admin functionality
		</userChangeDescription>


		<appSettingChange type="add" setting="show-mapping-direction" value="false" section="general config">
			<comment>
				Do we want to show the mapping direction on the Embedded Data Mappings page
			</comment>
		</appSettingChange>


		<appSettingChange type="add" setting="default-mapping-direction" value="1" section="general config">
			<comment>
				Default mapping direction if we are not showing the user the options
			</comment>
		</appSettingChange>


		<sqlStatement type="mysql">		
			Create table EmbeddedDataMapping (
				EmbeddedDataValueId Bigint NOT NULL,
				MappingDirectionId Bigint NOT NULL,
				AttributeId Bigint NOT NULL,
			 Primary Key (EmbeddedDataValueId,AttributeId,MappingDirectionId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		<sqlStatement type="mysql">		
			Create table EmbeddedDataValue (
				Id Bigint NOT NULL AUTO_INCREMENT,
				EmbeddedDataTypeId Bigint NOT NULL,
				Name Varchar(100) ,
				Expression Varchar(250) ,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		<sqlStatement type="mysql">		
			Create table EmbeddedDataType (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(100) NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		<sqlStatement type="mysql">		
			Create table MappingDirection (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(100) ,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">		
			Alter table EmbeddedDataMapping add Index IX_Relationship160 (AttributeId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataMapping add Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataMapping add Index IX_Relationship159 (EmbeddedDataValueId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataMapping add Foreign Key (EmbeddedDataValueId) references EmbeddedDataValue (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataValue add Index IX_Relationship158 (EmbeddedDataTypeId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataValue add Foreign Key (EmbeddedDataTypeId) references EmbeddedDataType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataMapping add Index IX_Relationship161 (MappingDirectionId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table EmbeddedDataMapping add Foreign Key (MappingDirectionId) references MappingDirection (Id) on delete  restrict on update  restrict
		</sqlStatement>



		<sqlStatement type="oracle">		
			Create table EmbeddedDataMapping (
				EmbeddedDataValueId Double precision NOT NULL,
				MappingDirectionId Double precision NOT NULL,
				AttributeId Double precision NOT NULL)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Create table EmbeddedDataValue (
				Id Double precision NOT NULL ,
				EmbeddedDataTypeId Double precision NOT NULL ,
				Name Varchar2(100),
				Expression Varchar2(250)) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Create table EmbeddedDataType (
				Id Double precision NOT NULL ,
				Name Varchar2(100)) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Create table MappingDirection (
				Id Double precision NOT NULL ,
				Name Varchar2(100)) 
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table EmbeddedDataMapping add primary key (EmbeddedDataValueId, AttributeId, MappingDirectionId) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table EmbeddedDataValue add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table EmbeddedDataType add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table MappingDirection add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table EmbeddedDataMapping add  foreign key (EmbeddedDataValueId) references EmbeddedDataValue (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table EmbeddedDataMapping add  foreign key (MappingDirectionId) references MappingDirection (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table EmbeddedDataMapping add  foreign key (AttributeId) references Attribute (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table EmbeddedDataValue add  foreign key (EmbeddedDataTypeId) references EmbeddedDataType (Id)
		</sqlStatement>
		

			
		<sqlStatement type="sqlserver">		
			Create table [EmbeddedDataMapping]
			(
				[EmbeddedDataValueId] Integer NOT NULL,
				[MappingDirectionId] Integer NOT NULL,
				[AttributeId] Integer NOT NULL,
				Primary Key ([EmbeddedDataValueId],[AttributeId],[MappingDirectionId])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Create table [EmbeddedDataValue]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[EmbeddedDataTypeId] Integer NOT NULL,
				[Name] Varchar(100) NOT NULL,
				[Expression] Varchar(250) NOT NULL,
				Primary Key ([Id])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Create table [EmbeddedDataType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Varchar(100) NOT NULL,
				Primary Key ([Id])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Create table [MappingDirection]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Varchar(100) NOT NULL,
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Alter table [EmbeddedDataMapping] add  foreign key([EmbeddedDataValueId]) references [EmbeddedDataValue] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Alter table [EmbeddedDataMapping] add  foreign key([MappingDirectionId]) references [MappingDirection] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Alter table [EmbeddedDataMapping] add  foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Alter table [EmbeddedDataValue] add  foreign key([EmbeddedDataTypeId]) references [EmbeddedDataType] ([Id])  on update no action on delete no action 
		</sqlStatement>
		

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT MappingDirection ON
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO MappingDirection (Id, Name) VALUES (1, 'Upload')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO MappingDirection (Id, Name) VALUES (2, 'Download')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT MappingDirection OFF
		</sqlStatement>
		
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType ON
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataType (Id, Name) VALUES (1, 'EXIF')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataType (Id, Name) VALUES (2, 'IPTC')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataType (Id, Name) VALUES (3, 'XMP')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType OFF
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (1, 1, 'Artist', 'Artist')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (2, 1, 'BitsPerSample', 'BitsPerSample')	
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (3, 1, 'Compression', 'Compression')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (4, 1, 'ColorSpace', 'ColorSpace')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (5, 1, 'ComponentsConfiguration', 'ComponentsConfiguration')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (6, 1, 'CompressedBitsPerPixel', 'CompressedBitsPerPixel')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (7, 1, 'Contrast', 'Contrast')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (8, 1, 'Copyright', 'Copyright')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (9, 1, 'CustomRendered', 'CustomRendered')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (10, 1, 'DateTime', 'DateTime')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (11, 1, 'DateTimeDigitized', 'DateTimeDigitized')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (12, 1, 'DateTimeOriginal', 'DateTimeOriginal')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (13, 1, 'DigitalZoomRatio', 'DigitalZoomRatio')
		</sqlStatement>			
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (14, 1, 'ExifVersion', 'ExifVersion')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (15, 1, 'ExifImageLength', 'ExifImageLength')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (16, 1, 'ExifImageWidth', 'ExifImageWidth')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (17, 1, 'ExifOffset', 'ExifOffset')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (18, 1, 'ExposureBiasValue', 'ExposureBiasValue')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (19, 1, 'ExposureMode', 'ExposureMode')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (20, 1, 'ExposureProgram', 'ExposureProgram')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (21, 1, 'ExposureTime', 'ExposureTime')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (22, 1, 'FileSource', 'FileSource')
		</sqlStatement>			
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (23, 1, 'Flash', 'Flash')
		</sqlStatement>			
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (24, 1, 'FlashpixVersion', 'FlashpixVersion')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (25, 1, 'FNumber', 'FNumber')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (26, 1, 'FocalLength', 'FocalLength')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (27, 1, 'GainControl', 'GainControl')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (28, 1, 'JPEGInterchangeFormat', 'JPEGInterchangeFormat')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (29, 1, 'JPEGInterchangeFormatLength', 'JPEGInterchangeFormatLength')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (30, 1, 'ImageDescription', 'ImageDescription')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (31, 1, 'ImageLength', 'ImageLength')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (32, 1, 'ImageWidth', 'ImageWidth')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (33, 1, 'ImageUniqueID', 'ImageUniqueID')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (34, 1, 'InteroperabilityOffset', 'InteroperabilityOffset')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (35, 1, 'InteroperabilityIndex', 'InteroperabilityIndex')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (36, 1, 'InteroperabilityVersion', 'InteroperabilityVersion')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (37, 1, 'ISOSpeedRatings', 'ISOSpeedRatings')
		</sqlStatement>			
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (38, 1, 'Orientation', 'Orientation')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (39, 1, 'LightSource', 'LightSource')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (40, 1, 'Make', 'Make')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (41, 1, 'MakerNote', 'MakerNote')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (42, 1, 'MaxApertureValue', 'MaxApertureValue')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (43, 1, 'MeteringMode', 'MeteringMode')
		</sqlStatement>			
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (44, 1, 'Model', 'Model')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (45, 1, 'PhotometricInterpretation', 'PhotometricInterpretation')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (46, 1, 'PixelXDimension', 'PixelXDimension')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (47, 1, 'PixelYDimension', 'PixelYDimension')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (48, 1, 'PlanarConfiguration', 'PlanarConfiguration')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (49, 1, 'PrimaryChromaticities', 'PrimaryChromaticities')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (50, 1, 'PrintImageMatching', 'PrintImageMatching')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (51, 1, 'ReferenceBlackWhite', 'ReferenceBlackWhite')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (52, 1, 'RelatedSoundFile', 'RelatedSoundFile')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (53, 1, 'ResolutionUnit', 'ResolutionUnit')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (54, 1, 'RowsPerStrip', 'RowsPerStrip')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (55, 1, 'SamplesPerPixel', 'SamplesPerPixel')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (56, 1, 'Saturation', 'Saturation')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (57, 1, 'SceneCaptureType', 'SceneCaptureType')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (58, 1, 'Sharpness', 'Sharpness')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (59, 1, 'Software', 'Software')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (60, 1, 'StripByteCounts', 'StripByteCounts')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (61, 1, 'StripOffsets', 'StripOffsets')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (62, 1, 'SubSecTime', 'SubSecTime')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (63, 1, 'SubSecTimeDigitized', 'SubSecTimeDigitized')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (64, 1, 'SubSecTimeOriginal', 'SubSecTimeOriginal')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (65, 1, 'Tainted', 'Tainted')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (66, 1, 'TransferFunction', 'TransferFunction')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (67, 1, 'UserComment', 'UserComment')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (68, 1, 'WhitePoint', 'WhitePoint')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (69, 1, 'WhiteBalance', 'WhiteBalance')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (70, 1, 'WinXP-Author', 'WinXP-Author')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (71, 1, 'WinXP-Comments', 'WinXP-Comments')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (72, 1, 'WinXP-Keywords', 'WinXP-Keywords')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (73, 1, 'WinXP-Subject', 'WinXP-Subject')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (74, 1, 'WinXP-Title', 'WinXP-Title')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (75, 1, 'XResolution', 'XResolution')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (76, 1, 'YCbCrCoefficients', 'YCbCrCoefficients')
		</sqlStatement>		
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (77, 1, 'YCbCrSubSampling', 'YCbCrSubSampling')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (78, 1, 'YCbCrPositioning', 'YCbCrPositioning')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (79, 1, 'YResolution', 'YResolution')
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (80, 2, 'Object Type Reference', '2:03')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (81, 2, 'Object Name (Title)', '2:05')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (82, 2, 'Edit Status', '2:07')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (83, 2, 'Editorial Update', '2:08')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (84, 2, 'Urgency', '2:10')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (85, 2, 'Subject Reference', '2:12')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (86, 2, 'Category', '2:15')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (87, 2, 'Supplemental Category', '2:20')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (88, 2, 'Fixture Identifier', '2:22')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (89, 2, 'Keywords', '2:25')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (90, 2, 'Content Location Code', '2:26')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (91, 2, 'Content Location Name', '2:27')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (92, 2, 'Release Date', '2:30')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (93, 2, 'Release Time', '2:35')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (94, 2, 'Expiration Date', '2:37')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (95, 2, 'Expiration Time', '2:35')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (96, 2, 'Special Instructions', '2:40')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (97, 2, 'Action Advised', '2:42')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (98, 2, 'Reference Service', '2:45')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (99, 2, 'Reference Date', '2:47')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (100, 2, 'Reference Number', '2:50')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (101, 2, 'Date Created', '2:255')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (102, 2, 'Time Created', '2:60')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (103, 2, 'Digital Creation Date', '2:62')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (104, 2, 'Digital Creation Time', '2:63')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (105, 2, 'Originating Program', '2:65')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (106, 2, 'Program Version', '2:70')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (107, 2, 'Object Cycle', '2:75')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (108, 2, 'By-Line', '2:80')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (109, 2, 'By-Line Title', '2:85')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (110, 2, 'City', '2:90')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (111, 2, 'Sub-Location', '2:92')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (112, 2, 'Province/State', '2:95')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (113, 2, 'Country/Primary Location Code', '2:100')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (114, 2, 'Country/Primary Location Name', '2:101')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (115, 2, 'Original Transmission Reference', '2:103')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (116, 2, 'Headline', '2:105')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (117, 2, 'Credit', '2:110')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (118, 2, 'Source', '2:115')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (119, 2, 'Copyright Notice', '2:116')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (120, 2, 'Contact', '2:118')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (121, 2, 'Caption/Abstract', '2:120')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (122, 2, 'Caption Writer/Editor', '2:122')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (123, 2, 'Rasterized Caption', '2:125')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (124, 2, 'Image Type', '2:130')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (125, 2, 'Image Orientation', '2:131')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (126, 2, 'Language Identifier', '2:135')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (127, 2, 'Audio Type', '2:150')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (128, 2, 'Audio Sampling Rate', '2:151')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (129, 2, 'Audio Sampling Resolution', '2:152')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (130, 2, 'Audio Duration', '2:153')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (131, 2, 'Audio Outcue', '2:154')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (132, 2, 'ObjectData Preview File Format', '2:200')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (133, 2, 'ObjectData Preview File Format Version', '2:201')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (134, 2, 'ObjectData Preview Data', '2:202')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO EmbeddedDataMapping (EmbeddedDataValueId, MappingDirectionId, AttributeId)
			SELECT edv.Id, 1, a.Id
			FROM Attribute a, EmbeddedDataValue edv
			WHERE a.EXIFFieldName=edv.Name AND
			edv.EmbeddedDataTypeId=1 AND
			EXIFFieldName IS NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO EmbeddedDataMapping (EmbeddedDataValueId, MappingDirectionId, AttributeId)
			SELECT edv.Id, 1, a.Id
			FROM Attribute a, EmbeddedDataValue edv
			WHERE a.IPTCFieldName=edv.Name AND
			edv.EmbeddedDataTypeId=2 AND
			IPTCFieldName IS NOT NULL
		</sqlStatement>

	</version><version number="3.44">
		<userChangeDescription>
			Add setting for function to bulk update the lightbox.
		</userChangeDescription>

		<appSettingChange type="delete" setting="show-image-title-on-lightbox" />

		<appSettingChange type="add" setting="show-bulk-update" value="false" section="Lightbox settings">
			<comment>
				Whether to show a button for Bulk Update in the lightbox
			</comment>
		</appSettingChange>
	
	</version><version number="3.45">
		<userChangeDescription>
			Add support for XMP mappings.
		</userChangeDescription>
		<userChangeDescription>
			Add register date field to user.
		</userChangeDescription>

		<sqlStatement type="all">
			ALTER TABLE Attribute DROP COLUMN EXIFFieldName
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE Attribute DROP COLUMN IPTCFieldName
		</sqlStatement>

		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetBankUser ADD RegisterDate DATE
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetBankUser ADD RegisterDate DATETIME
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE AssetBankUser ADD RegisterDate DATE
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (200, 3, 'dc:format', '/*/rdf:RDF/rdf:Description/dc:format|/*/rdf:RDF/rdf:Description/@dc:format')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (201, 3, 'dc:title', '/*/rdf:RDF/rdf:Description/dc:title/rdf:Alt/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (202, 3, 'dc:creator', '/*/rdf:RDF/rdf:Description/dc:creator/rdf:Seq/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (203, 3, 'dc:description', '/*/rdf:RDF/rdf:Description/dc:description/rdf:Alt/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (204, 3, 'dc:subject', '/*/rdf:RDF/rdf:Description/dc:subject/rdf:Bag/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (205, 3, 'dc:rights', '/*/rdf:RDF/rdf:Description/dc:rights/rdf:Alt/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (206, 3, 'xap:CreatorTool', '/*/rdf:RDF/rdf:Description/xap:CreatorTool|/*/rdf:RDF/rdf:Description/@xap:CreatorTool')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (207, 3, 'xap:CreateDate', '/*/rdf:RDF/rdf:Description/xap:CreateDate|/*/rdf:RDF/rdf:Description/@xap:CreateDate')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (208, 3, 'xap:ModifyDate', '/*/rdf:RDF/rdf:Description/xap:ModifyDate|/*/rdf:RDF/rdf:Description/@xap:ModifyDate')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (209, 3, 'xap:MetadataDate', '/*/rdf:RDF/rdf:Description/xap:MetadataDate|/*/rdf:RDF/rdf:Description/@xap:MetadataDate')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (210, 3, 'xapMM:DocumentID', '/*/rdf:RDF/rdf:Description/xapMM:DocumentID|/*/rdf:RDF/rdf:Description/@xapMM:DocumentID')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (211, 3, 'xapMM:InstanceID', '/*/rdf:RDF/rdf:Description/xapMM:InstanceID|/*/rdf:RDF/rdf:Description/@xapMM:InstanceID')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (212, 3, 'photoshop:ColorMode', '/*/rdf:RDF/rdf:Description/photoshop:ColorMode|/*/rdf:RDF/rdf:Description/@photoshop:ColorMode')
		</sqlStatement>	
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (213, 3, 'photoshop:ICCProfile', '/*/rdf:RDF/rdf:Description/photoshop:ICCProfile|/*/rdf:RDF/rdf:Description/@photoshop:ICCProfile')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (214, 3, 'photoshop:AuthorsPosition', '/*/rdf:RDF/rdf:Description/photoshop:AuthorsPosition|/*/rdf:RDF/rdf:Description/@photoshop:AuthorsPosition')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (215, 3, 'photoshop:CaptionWriter', '/*/rdf:RDF/rdf:Description/photoshop:CaptionWriter|/*/rdf:RDF/rdf:Description/@photoshop:CaptionWriter')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (216, 3, 'photoshop:Category', '/*/rdf:RDF/rdf:Description/photoshop:Category|/*/rdf:RDF/rdf:Description/@photoshop:Category')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (217, 3, 'photoshop:Headline', '/*/rdf:RDF/rdf:Description/photoshop:Headline|/*/rdf:RDF/rdf:Description/@photoshop:Headline')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (218, 3, 'photoshop:DateCreated', '/*/rdf:RDF/rdf:Description/photoshop:DateCreated|/*/rdf:RDF/rdf:Description/@photoshop:DateCreated')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (219, 3, 'photoshop:City', '/*/rdf:RDF/rdf:Description/photoshop:City|/*/rdf:RDF/rdf:Description/@photoshop:City')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (220, 3, 'photoshop:State', '/*/rdf:RDF/rdf:Description/photoshop:State|/*/rdf:RDF/rdf:Description/@photoshop:State')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (221, 3, 'photoshop:Country', '/*/rdf:RDF/rdf:Description/photoshop:Country|/*/rdf:RDF/rdf:Description/@photoshop:Country')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (222, 3, 'photoshop:TransmissionReference', '/*/rdf:RDF/rdf:Description/photoshop:TransmissionReference|/*/rdf:RDF/rdf:Description/@photoshop:TransmissionReference')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (223, 3, 'photoshop:Instructions', '/*/rdf:RDF/rdf:Description/photoshop:Instructions|/*/rdf:RDF/rdf:Description/@photoshop:Instructions')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (224, 3, 'photoshop:Credit', '/*/rdf:RDF/rdf:Description/photoshop:Credit|/*/rdf:RDF/rdf:Description/@photoshop:Credit')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (225, 3, 'photoshop:Source', '/*/rdf:RDF/rdf:Description/photoshop:Source|/*/rdf:RDF/rdf:Description/@photoshop:Source')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (226, 3, 'photoshop:SupplementalCategories', '/*/rdf:RDF/rdf:Description/photoshop:SupplementalCategories/rdf:Bag/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (227, 3, 'photoshop:History', '/*/rdf:RDF/rdf:Description/photoshop:History|/*/rdf:RDF/rdf:Description/@photoshop:History')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (228, 3, 'xapRights:Marked', '/*/rdf:RDF/rdf:Description/xapRights:Marked|/*/rdf:RDF/rdf:Description/@xapRights:Marked')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (229, 3, 'xapRights:WebStatement', '/*/rdf:RDF/rdf:Description/xapRights:WebStatement|/*/rdf:RDF/rdf:Description/@xapRights:WebStatement')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (230, 3, 'xapRights:UsageTerms', '/*/rdf:RDF/rdf:Description/xapRights:UsageTerms/rdf:Alt/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (231, 3, 'Iptc4xmpCore:IntellectualGenre', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:IntellectualGenre|/*/rdf:RDF/rdf:Description/@Iptc4xmpCore:IntellectualGenre')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (232, 3, 'Iptc4xmpCore:Location', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:Location|/*/rdf:RDF/rdf:Description/@Iptc4xmpCore:Location')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (233, 3, 'Iptc4xmpCore:CountryCode', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CountryCode|/*/rdf:RDF/rdf:Description/@Iptc4xmpCore:CountryCode')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (234, 3, 'Iptc4xmpCore:CreatorContactInfo:CiAdrExtadr', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiAdrExtadr|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiAdrExtadr')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (235, 3, 'Iptc4xmpCore:CreatorContactInfo:CiAdrCity', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiAdrCity|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiAdrCity')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (236, 3, 'Iptc4xmpCore:CreatorContactInfo:CiAdrRegion', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiAdrRegion|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiAdrRegion')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (237, 3, 'Iptc4xmpCore:CreatorContactInfo:CiAdrPcode', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiAdrPcode|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiAdrPcode')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (238, 3, 'Iptc4xmpCore:CreatorContactInfo:CiAdrCtry', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiAdrCtry|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiAdrCtry')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (239, 3, 'Iptc4xmpCore:CreatorContactInfo:CiTelWork', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiTelWork|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiTelWork')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (240, 3, 'Iptc4xmpCore:CreatorContactInfo:CiEmailWork', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiEmailWork|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiEmailWork')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (241, 3, 'Iptc4xmpCore:CreatorContactInfo:CiUrlWork', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/Iptc4xmpCore:CiUrlWork|/*/rdf:RDF/rdf:Description/Iptc4xmpCore:CreatorContactInfo/@Iptc4xmpCore:CiUrlWork')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (242, 3, 'Iptc4xmpCore:SubjectCode', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:SubjectCode/rdf:Bag/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (243, 3, 'Iptc4xmpCore:Scene', '/*/rdf:RDF/rdf:Description/Iptc4xmpCore:Scene/rdf:Bag/rdf:li')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (244, 3, 'tiff:Orientation', '/*/rdf:RDF/rdf:Description/tiff:Orientation|/*/rdf:RDF/rdf:Description/@tiff:Orientation')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (245, 3, 'tiff:XResolution', '/*/rdf:RDF/rdf:Description/tiff:XResolution|/*/rdf:RDF/rdf:Description/@tiff:XResolution')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (246, 3, 'tiff:YResolution', '/*/rdf:RDF/rdf:Description/tiff:YResolution|/*/rdf:RDF/rdf:Description/@tiff:YResolution')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (247, 3, 'tiff:ResolutionUnit', '/*/rdf:RDF/rdf:Description/tiff:ResolutionUnit|/*/rdf:RDF/rdf:Description/@tiff:ResolutionUnit')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (248, 3, 'tiff:NativeDigest', '/*/rdf:RDF/rdf:Description/tiff:NativeDigest|/*/rdf:RDF/rdf:Description/@tiff:NativeDigest')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (249, 3, 'exif:PixelXDimension', '/*/rdf:RDF/rdf:Description/exif:PixelXDimension|/*/rdf:RDF/rdf:Description/@exif:PixelXDimension')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (250, 3, 'exif:PixelYDimension', '/*/rdf:RDF/rdf:Description/exif:PixelYDimension|/*/rdf:RDF/rdf:Description/@exif:PixelYDimension')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (251, 3, 'exif:ColorSpace', '/*/rdf:RDF/rdf:Description/exif:ColorSpace|/*/rdf:RDF/rdf:Description/@exif:ColorSpace')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (252, 3, 'exif:NativeDigest', '/*/rdf:RDF/rdf:Description/exif:NativeDigest|/*/rdf:RDF/rdf:Description/@exif:NativeDigest')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-user-register-date', 9, 'Label - Register Date', 'Register Date:', 1, 2) ]]>
		</sqlStatement>
		
		
	</version><version number="3.46">
		
		<userChangeDescription>
			Add delimiter and sequence field to EmbeddedDataMapping table - setup sequences for existing records
		</userChangeDescription>
		
		<sqlStatement type="all">	
			 ALTER TABLE EmbeddedDataMapping ADD Delimiter Varchar(50)
		</sqlStatement>	

	</version><version number="3.47">
		
		<userChangeDescription>
			Change date created to a dynamic attribute instead of a static attribute.
		</userChangeDescription>
		<userChangeDescription>
			*** NOTE: You will need to check that the file /WEB-INF/lib/lucene-core-2.0.0.jar has been deleted after running this update 
			and before restarting the web application ***
		</userChangeDescription>
		<userPostUpdateMessage>
			NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILE HAS BEEN DELETED, BEFORE RESTARTING THE WEBAPP: 
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/lucene-core-2.0.0.jar
		</userPostUpdateMessage>
		
		<appFileChange type="delete" file="/WEB-INF/lib/lucene-core-2.0.0.jar" />

		<sqlStatement type="all">
			UPDATE Attribute SET AttributeTypeId=3, IsStatic=0, IsKeywordSearchable=0 WHERE StaticFieldName='dateCreated'
		</sqlStatement>

		<sqlStatement type="all">	
			 DELETE AssetAttributeValue FROM AssetAttributeValue, Attribute WHERE AssetAttributeValue.AttributeId = Attribute.Id AND Attribute.StaticFieldName='dateCreated'
		</sqlStatement>
		<sqlStatement type="all">	
	  		 DELETE AttributeValue FROM AttributeValue, Attribute WHERE AttributeValue.AttributeId = Attribute.Id AND Attribute.StaticFieldName='dateCreated'
		</sqlStatement>

		<sqlStatement type="mysql">	
			 INSERT INTO AttributeValue (AttributeId, DateValue, AssetId) SELECT a.Id,ass.DateCreated,ass.Id FROM Attribute a, Asset ass WHERE StaticFieldName='dateCreated'
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			 INSERT INTO AttributeValue (AttributeId, DateValue, AssetId) SELECT a.Id,ass.DateCreated,ass.Id FROM Attribute a, Asset ass WHERE StaticFieldName='dateCreated'
		</sqlStatement>
		<sqlStatement type="oracle">	
			 INSERT INTO AttributeValue (Id, AttributeId, DateValue, AssetId) SELECT AttributeValueSequence.NEXTVAL, a.Id,ass.DateCreated,ass.Id FROM Attribute a, Asset ass WHERE StaticFieldName='dateCreated'
		</sqlStatement>

		<sqlStatement type="all">	
			 INSERT INTO AssetAttributeValue (AttributeValueId, AttributeId, AssetId) SELECT  av.Id, av.AttributeId, av.AssetId FROM AttributeValue av, Attribute a WHERE av.AttributeId = a.Id AND a.StaticFieldName='dateCreated'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Attribute SET StaticFieldName=NULL WHERE StaticFieldName='dateCreated'
		</sqlStatement>
		
		<!-- TODO: drop Asset.DateCreated -->
		
	</version><version number="3.48">
		
		<userChangeDescription>
			Add sequence field to EmbeddedDataMapping table - setup sequences for existing records
		</userChangeDescription>

		<sqlStatement type="all">	
			 ALTER TABLE EmbeddedDataMapping ADD Sequence INTEGER DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			CREATE TABLE MappingTemp (
				Sequence Integer AUTO_INCREMENT,
				EmbeddedDataValueId Bigint,
				MappingDirectionId Bigint,
				AttributeId Bigint,
				Delimiter Varchar(50), 
				PRIMARY KEY(Sequence) )
		</sqlStatement>

		<sqlStatement type="mysql">	
			INSERT INTO MappingTemp (EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter)
			SELECT EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter FROM EmbeddedDataMapping
		</sqlStatement>

		<sqlStatement type="mysql">	
			DELETE FROM EmbeddedDataMapping
		</sqlStatement>

		<sqlStatement type="mysql">	
			INSERT INTO EmbeddedDataMapping (EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter, Sequence)
			SELECT EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter, Sequence FROM MappingTemp
		</sqlStatement>

		<sqlStatement type="mysql">	
			DROP TABLE MappingTemp
		</sqlStatement>


		<sqlStatement type="sqlserver">		
			Create table [MappingTemp]
			(
				[Sequence] Integer NOT NULL Identity(1,1),
				[EmbeddedDataValueId] Integer NULL,
				[MappingDirectionId] Integer NULL,
				[AttributeId] Integer NULL,
				[Delimiter] Varchar(50),
				Primary Key ([Sequence])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			INSERT INTO MappingTemp (EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter)
			SELECT EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter FROM EmbeddedDataMapping
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			DELETE FROM EmbeddedDataMapping
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			INSERT INTO EmbeddedDataMapping (EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter, Sequence)
			SELECT EmbeddedDataValueId, MappingDirectionId, AttributeId, Delimiter, Sequence FROM MappingTemp
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			DROP TABLE MappingTemp
		</sqlStatement>
	
		<sqlStatement type="oracle">
			CREATE SEQUENCE MappingTempSeq START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="oracle">
			UPDATE EmbeddedDataMapping SET Sequence=MappingTempSeq.NEXTVAL
		</sqlStatement>

		<sqlStatement type="oracle">
			DROP SEQUENCE MappingTempSeq
		</sqlStatement>

	</version><version number="3.49">
		
		<userChangeDescription>
			Made webmaster email address a configurable setting.
		</userChangeDescription>

		<appSettingChange type="add" setting="webmaster-email" value="support@bright-interactive.com" section="Names and Spellings">
			<comment>
				Webmaster email address
			</comment>
		</appSettingChange>
		
	</version><version number="3.50">		
		<userChangeDescription>
			Enhance XMP mappings.
		</userChangeDescription>
	</version><version number="3.51">		
		<userChangeDescription>
			Enable XMP mappings in bulk upload.
		</userChangeDescription>
	</version><version number="3.52">		
		<userChangeDescription>
			Added basic help text for display attributes
		</userChangeDescription>
	
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('displayAttributes', 2, 'Display Attributes Help', 'Display Attributes Help', '<h2>Display Attributes</h2><p>The Display Attribute admin page enables you to define which attribute values are shown for each asset when browsing or searching.</p><p>When selecting which attribute values to display on the search/browse results you can choose to limit the number of characters that are shown, select whether the value should be displayed as a link to the assets view page and select whether to display the attribute label before the value.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('displayAttributes', 2, 'Display Attributes Help', 'Display Attributes Help', '<h2>Display Attributes</h2><p>The Display Attribute admin page enables you to define which attribute values are shown for each asset when browsing or searching.</p><p>When selecting which attribute values to display on the search/browse results you can choose to limit the number of characters that are shown, select whether the value should be displayed as a link to the assets view page and select whether to display the attribute label before the value.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('displayAttributes', 2, 'Display Attributes Help', 'Display Attributes Help', '<h2>Display Attributes</h2><p>The Display Attribute admin page enables you to define which attribute values are shown for each asset when browsing or searching.</p><p>When selecting which attribute values to display on the search/browse results you can choose to limit the number of characters that are shown, select whether the value should be displayed as a link to the assets view page and select whether to display the attribute label before the value.</p>', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.53">		
		<userChangeDescription>
			Enhance bulk update to validate for mandatory fields.
		</userChangeDescription>	
	</version><version number="3.54">		
		<userChangeDescription>
			Update attribute inline help
		</userChangeDescription>	
		
		<!-- Causes data truncation errors
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Manage Attributes</h2>  <p>Items have a set of attributes associated with them. To change the sequence in which attributes appear to users on the view and edit item screens, use the [up] and [down] links on the "Manage Attributes" page.</p>    <h3>Standard attributes</h3>  <p>Standard attributes such as "title" and "size" are always present, and cannot be deleted. However you can change the way they appear to users, for example the label.Click [edit] by a standard attribute to configure it.</p><h3>Flexible attributes</h3><p>Flexible attributes can be added using the "Add a new attribute" link, or deleted using [X].Asset Bank comes with a number of pre configured flexible attributes, including the following:</p>  <ul class="bulleted"><li><strong>Author</strong>: usually this will be the photographer.</li><li><strong>Usage Rights</strong>: describes how items are meant be used.</li><li><strong>Notes</strong>: optional descriptive Textarea field.</li><li><strong>Quality</strong>: optional descriptive Dropdown field.</li><li><strong>Metadata status</strong>: describes how complete the item data is. This should be set to "Incomplete" when using the Bulk Upload feature, or when an item is not quite ready for viewing yet.</li><li><strong>Active status</strong>: describes the activation of items - ie, whether they should be visible or not to users.</li><li><strong>Activation date</strong>: the date an item becomes active for users to see (see Date attribute rules below).</li><li><strong>Expiry date</strong>: the date an item expires (see Date attribute rules below).</li></ul><p>When adding a new flexible attribute, you can choose the type, eg Textfield or Dropdown.</p><h3>Attribute configuration</h3><p>To configure an attribute, click the [edit] link. You can change some or all of the following aspects, depending on the type of attribute.</p>  <ul class="bulleted"> <li><strong>Label</strong>: how the attribute is labelled when viewing or editing items.</li><li><strong>Mandatory</strong>: make it mandatory when adding/editing items.</li><li><strong>Help text</strong>: rollover text shown to users who add or edit an asset. Use this to explain what they should enter into a particular field, if it not obvious.</li><li><strong>Default value</strong>: default value of the flexible attribute - this will be preset when a user is uploading a new item.</li><li><strong>Value if not visible</strong>: value set for a flexible attribute, when a user is adding a new item but does not have the right to see the attribute.</li><li><strong>Show on search</strong>: users can use the field in the advanced search.</li><li><strong>Highlight on view</strong>: whether or not to make this field more prominent on the "View Asset" page.</li><li><strong>Include in keyword searches</strong>: this field is to be included when searching by keyword.</li><li><strong>Visible only to super-users</strong>: make a standard attribute visible only to super-users.</li></ul><p>For Dropdown and Checklist attributes, click [edit list values] to define the possible values for the attribute. For keyword picker attributes, click [edit keywords] to define the keywords/synonyms that can be selected as values.</p><h3>Date attribute rules</h3><p>For Date type attributes, you can add rules using the [edit rules] link. The "Manage Rules" page describes how you can add rules that are triggered automatically accordingto the value of the date attribute.</p><p>Asset Bank comes with two preconfigured rules:</p><ul class="bulleted"><li><strong>Activation date: Activate item</strong>: this rule changes the "Active state" of an item to "Active",when the Activation date of the item passes.</li><li><strong>Expiry date: Expire item</strong>: this rule changes the "Active state" of an item to "Expired",when the Expiry date of the item passes.</li></ul>' WHERE Identifier='attributes' AND ListId=2 ]]>
		</sqlStatement>
		-->
		
		<appSettingChange type="add" setting="download-filename-use-original" value="false" section="Download options">
			<comment>
				Whether or not to use the original filename as the filename of assets as they are downloaded. If not, the 'name' attribute of the asset is used, if set. If not set, the id of the asset is used.
			</comment>
		</appSettingChange>
		
	</version><version number="3.56">
	
		<userChangeDescription>
			Add content for multiple and shared lightboxes.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('tab-manage-lightboxes', 8, 'Manage Lightbox tab title', 'Manage Lightboxes', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBoxAsset ADD COLUMN AddedByUserId Bigint
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table AssetBoxAsset add Index IX_Relationship162 (AddedByUserId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table AssetBoxAsset add constraint FK_AssetBoxAsset_User Foreign Key (AddedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetBoxAsset ADD AddedByUserId Integer NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AssetBoxAsset] add foreign key([AddedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE AssetBoxAsset ADD AddedByUserId Double precision NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table AssetBoxAsset add foreign key (AddedByUserId) references AssetBankUser (Id)
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('manage-lightboxes', 2, 'Manage Lightboxes help text', 'The help text for Manage Lightboxes', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('manage-lightboxes', 2, 'Manage Lightboxes help text', 'The help text for Manage Lightboxes', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('manage-lightboxes', 2, 'Manage Lightboxes help text', 'The help text for Manage Lightboxes', '<p></p>', 1, 1) ]]>
		</sqlStatement>		
		
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('manage-lightboxes-can-share', 2, 'Manage Lightboxes (inc. Sharing) help text', 'The help text for Manage Lightboxes (inc. Sharing)', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('manage-lightboxes-can-share', 2, 'Manage Lightboxes (inc. Sharing) help text', 'The help text for Manage Lightboxes (inc. Sharing)', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('manage-lightboxes-can-share', 2, 'Manage Lightboxes (inc. Sharing) help text', 'The help text for Manage Lightboxes (inc. Sharing)', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightbox', 2, 'Share Lightbox help text', 'The help text for Share Lightbox', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightbox', 2, 'Share Lightbox help text', 'The help text for Share Lightbox', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightbox', 2, 'Share Lightbox help text', 'The help text for Share Lightbox', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightbox-add-user', 2, 'Share Lightbox: Add User help text', 'The help text for Share Lightbox: Add User', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightbox-add-user', 2, 'Share Lightbox: Add User help text', 'The help text for Share Lightbox: Add User', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightboxes-add-user', 2, 'Share Lightbox: Add User help text', 'The help text for Share Lightbox: Add User', '<p></p>', 1, 1) ]]>
		</sqlStatement>
		
		<appSettingChange type="delete" setting="lightbox-name" />
		<appSettingChange type="delete" setting="lightbox-name-plural" />
				
	</version><version number="3.57">
		
		<!-- Email templates -->
		<userChangeDescription>
			Email templates can be customized through the admin interface
		</userChangeDescription>	
		
		<sqlStatement type="mysql">		
			DROP TABLE IF EXISTS EmailTemplate
		</sqlStatement>
			
		<sqlStatement type="oracle">		
			DROP TABLE EmailTemplate
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			If Object_Id('EmailTemplate') is Not Null
			DROP TABLE EmailTemplate
		</sqlStatement>
		
		<sqlStatement type="mysql">				
			CREATE TABLE EmailTemplate 
			(
				Id Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Code Varchar(50) ,
				AddrFrom Varchar(255) ,
				AddrTo Varchar(255) ,
				AddrCc Varchar(255) ,
				AddrBcc Varchar(255) ,
				Subject Varchar(255) ,
				Body Text ,
				TextId Varchar(255) ,
				Primary Key (Id)
			)
			TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			CREATE TABLE EmailTemplate 
			(
				Id Double precision NOT NULL UNIQUE,
				LanguageId Double precision NOT NULL,
				Code Varchar2(50) ,
				AddrFrom Varchar2(255) ,
				AddrTo Varchar2(255) ,
				AddrCc Varchar2(255) ,
				AddrBcc Varchar2(255) ,
				Subject Varchar2(255) ,
				Body Varchar2(4000) ,
				TextId Varchar2(255) 
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Create table [EmailTemplate] 
			(
				[Id] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Code] Varchar(50) ,
				[AddrFrom] Varchar(255) ,
				[AddrTo] Varchar(255) ,
				[AddrCc] Varchar(255) ,
				[AddrBcc] Varchar(255) ,
				[Subject] Varchar(255) ,
				[Body] Varchar(4000) ,
				[TextId] Varchar(255) ,
				Primary Key (Id)				
			) 
		</sqlStatement>
		
		
		<sqlStatement type="mysql">		
			DROP TABLE IF EXISTS Language
		</sqlStatement>
			
		<sqlStatement type="oracle">		
			DROP TABLE Language
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			If Object_Id('Language') is Not Null
			DROP TABLE Language
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			Create table Language 
			(
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(255) ,
				Code Varchar(20) ,
				Primary Key (Id)
			)
			TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
			
		<sqlStatement type="oracle">		
			Create table Language 
			(
				Id Double precision NOT NULL UNIQUE,
				Name Varchar2(255) ,
				Code Varchar2(20)
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Create table [Language] 
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Varchar(255) ,
				[Code] Varchar(20) ,
				Primary Key (Id)				
			) 
		</sqlStatement>		
			
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO Language (Id, Name, Code) VALUES (1, 'English', 'ENG') ]]>
		</sqlStatement>	
		
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO Language (Id, Name, Code) VALUES (1, 'English', 'ENG') ]]>
		</sqlStatement>	
				
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Language ON	
			<![CDATA[ INSERT INTO Language (Id, Name, Code) VALUES (1, 'English', 'ENG') ]]>
			SET IDENTITY_INSERT Language OFF	
		</sqlStatement>			
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE List SET Name='E-Mail Copy (e-commerce)' WHERE Identifier='email' ]]>
		</sqlStatement>	
		
		<!-- Password expire -->
		<userChangeDescription>
			Added option to allow user passwords to expire
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetBankUser ADD DateChangedPassword DATETIME
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetBankUser ADD DateChangedPassword DATETIME
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE AssetBankUser ADD DateChangedPassword DATE
		</sqlStatement>
		
		<sqlStatement type="mysql">
			UPDATE AssetBankUser SET DateChangedPassword=CURRENT_DATE()
		</sqlStatement>		
		<sqlStatement type="sqlserver">		
			UPDATE AssetBankUser SET DateChangedPassword=GETDATE()
		</sqlStatement>
		<sqlStatement type="oracle">
			UPDATE AssetBankUser SET DateChangedPassword=CURRENT_DATE
		</sqlStatement>	
		
		<appSettingChange type="add" setting="force-password-change-after" value="0" section="User registration/ login">
			<comment>
				Force users to change password after specified number of days (specify 0 to disable)	
			</comment>
		</appSettingChange>	
		
		<!-- Bulk upload applet -->
		<userChangeDescription>
			Bulk uploads can be performed using a Java applet
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="bulk-upload-use-applet" value="false" section="Directory settings">
			<comment>
				Display java applet to bulk upload instead of FTP		
			</comment>
		</appSettingChange>
		
		<!-- Credit strip -->
		<userChangeDescription>
			Credit strip can be displayed on images
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="credit-strip-enabled" value="false" section="Download options">
			<comment>
				Display credit strip when user downloads a file (except the original)
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" setting="credit-background-colour" value="grey" section="Download options">
			<comment>
				Set the background colour of the credit strip
			</comment>
		</appSettingChange>		
		
		<appSettingChange type="add" setting="credit-text-colour" value="black" section="Download options">
			<comment>
				Set the text colour of the credit strip
			</comment>
		</appSettingChange>				

		<appSettingChange type="add" setting="credit-text" value="this image is copyright" section="Download options">
			<comment>
				Set the credit strip text
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" setting="credit-attribute-id" value="0" section="Download options">
			<comment>
				Create a new attribute to save the copyright info in. Then set this value to the value of the attribute
			</comment>
		</appSettingChange>		
		
		<!-- Scheduled report -->
		<userChangeDescription>
			Scheduled reports can be setup
		</userChangeDescription>
		
		<sqlStatement type="all">
			 <![CDATA[ UPDATE ListItem SET Body='<h2>Reports</h2>  <p>The &quot;Reports&quot; pages enable you to run various reports against the database. For some reports you must enter a date range, in order to narrow down the results. There are 3 main types of report:</p>    <h3>Usage Reports</h3>  <p>Usage reports provide a detailed overview of how the system is being used. From here you can find out the most popular item in Asset Bank, calculated by how many times it has been viewed or downloaded, which can be further organised by user and group. You can also find out how many uploads different users are performing.</p><p>You can run a usage report to view immidiately by selecting &#39;view report&#39; and selecting a date range. Alternatively, you can chose to schedule a report to be sent on a regular basis to the user groups of your choice. The reports will be generated automatically for the timescale you specify (daily, weekly or monthly). </p>    <h3>Search Reports</h3>  <p>These reports are useful for gauging what search terms users are using to find items, and the success rate of searches.</p>  <p>A grouped report will display the frequency of different search terms to enable you to see the most popular searches. You can filter your results to display only successful or only failed searches.</p><p>You may specify a date range to further refine your results. If you don&quot;t, the system will return all the data available. </p>  <h3>Asset Reports</h3>  <p>Asset reports provide details of the items that exist in the system. There are two types of asset report:</p>  <ul>  <li>Assets by Category - This returns all the items in the system organised by category. You can order the data by a given attribute if you require, but a suitable attribute must have been set up (in the Attributes section of the admin area) for this to work. </li><li>Assets by Date - specify a date range and choose whether you want to see items that were uploaded, created or modified in this date range.</li>  </ul>' WHERE Identifier='reports' ]]>
		</sqlStatement>		
		
		<sqlStatement type="mysql">		
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, Subject, Body, TextId) VALUES (30, 1, 'send report', 'imagebank@bright-interactive.com','#recipients#;','Asset Bank: Automated Report Generated','A report has been generated automatically from Asset Bank.<br><br>Please find the report attached to this email.<br><br>To disable report generation please login to the admin area on asset-bank.<br><br>Kind regards,<br>Asset Bank Admin','send_report')]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, Subject, Body, TextId) VALUES (30, 1, 'send report', 'imagebank@bright-interactive.com','#recipients#;','Asset Bank: Automated Report Generated','A report has been generated automatically from Asset Bank.<br><br>Please find the report attached to this email.<br><br>To disable report generation please login to the admin area on asset-bank.<br><br>Kind regards,<br>Asset Bank Admin','send_report')]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">	
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, Subject, Body, TextId) VALUES (30, 1, 'send report', 'imagebank@bright-interactive.com','#recipients#;','Asset Bank: Automated Report Generated','A report has been generated automatically from Asset Bank.<br><br>Please find the report attached to this email.<br><br>To disable report generation please login to the admin area on asset-bank.<br><br>Kind regards,<br>Asset Bank Admin','send_report')]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, Subject, Body, TextId) VALUES (31, 1, 'send report no data', 'imagebank@bright-interactive.com','#recipients#;','Asset Bank: Automated Report Generated','A report has been generated automatically from Asset Bank.<br><br>There was no data available for the requested report.<br><br>To disable report generation please login to the admin area on asset-bank.<br><br>Kind regards,<br>Asset Bank Admin','send_report')]]>
		</sqlStatement>			
		
		<sqlStatement type="oracle">	
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, Subject, Body, TextId) VALUES (31, 1, 'send report no data', 'imagebank@bright-interactive.com','#recipients#;','Asset Bank: Automated Report Generated','A report has been generated automatically from Asset Bank.<br><br>There was no data available for the requested report.<br><br>To disable report generation please login to the admin area on asset-bank.<br><br>Kind regards,<br>Asset Bank Admin','send_report')]]>
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">	
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, Subject, Body, TextId) VALUES (31, 1, 'send report no data', 'imagebank@bright-interactive.com','#recipients#;','Asset Bank: Automated Report Generated','A report has been generated automatically from Asset Bank.<br><br>There was no data available for the requested report.<br><br>To disable report generation please login to the admin area on asset-bank.<br><br>Kind regards,<br>Asset Bank Admin','send_report')]]>
		</sqlStatement>				
		
		<sqlStatement type="mysql">		
			CREATE TABLE ScheduledReport
			(
				Id Bigint NOT NULL AUTO_INCREMENT,
				NextSendDate DATETIME NOT NULL,
				ReportPeriod VARCHAR(100) NOT NULL,
				ReportType VARCHAR(100) NOT NULL,
				ReportName VARCHAR(100) NOT NULL,
				Primary Key (Id)
			)
			TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			CREATE TABLE [ScheduledReport] (
				[Id] Integer NOT NULL Identity(100,1),
				[NextSendDate] DATETIME NOT NULL,
				[ReportPeriod] Varchar(100) NOT NULL,
				[ReportType] Varchar(100) NOT NULL,
				[ReportName] Varchar(100) NOT NULL,
				UNIQUE ([Id]),
				Primary Key (Id) ) 
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE TABLE ScheduledReport (
				Id Double precision NOT NULL UNIQUE,
				NextSendDate DATE NOT NULL,
				ReportPeriod Varchar2(100) NOT NULL ,
				ReportType Varchar2(100) NOT NULL, 
				ReportName Varchar2(100) NOT NULL)
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			CREATE SEQUENCE ScheduledReportSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			CREATE TABLE ScheduledReportGroup (
				ReportId Bigint NOT NULL,
				GroupId Bigint NOT NULL,
				PRIMARY KEY (ReportId,GroupId)) TYPE = InnoDB
				ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			CREATE TABLE [ScheduledReportGroup] (
				[ReportId] Integer NOT NULL,
				[GroupId] Integer NOT NULL
			)
		</sqlStatement>

		<sqlStatement type="oracle">		
			CREATE TABLE ScheduledReportGroup (
				ReportId Double precision,
				GroupId Double precision NOT NULL )
		</sqlStatement>
		
		<appSettingChange type="add" setting="hour-to-schedule-reports" value="1" section="General config">
			<comment>
				Hour of day to process scheduled reports
			</comment>
		</appSettingChange>			
		
		<!-- Add asset from exising asset option -->
		<userChangeDescription>
			Add asset from exising asset option
		</userChangeDescription>
		
		<appSettingChange type="add" setting="add-asset-from-existing-enabled" value="false" section="Download options">
			<comment>
				Allow adding an asset from an existing asset
			</comment>
		</appSettingChange>	
		
	</version><version number="3.58">
	
		<appSettingChange type="add" setting="marketing-enabled" value="false" section="Marketing">
			<comment>
				Is marketing functionality enabled? If not, the marketing menu will not be shown
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="marketing-groups-enabled" value="false" section="Marketing">
			<comment>
				Is the marketing group functionality enabled? If not, users will not see any marketing groups that have been set up
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">		
			Create table MarketingGroup (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(60) NOT NULL,
				Description Varchar(255) ,
				Purpose Varchar(255) ,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default;
		</sqlStatement>
		<sqlStatement type="mysql">		
			Create table UserInMarketingGroup (
				UserId Bigint NOT NULL,
				MarketingGroupId Bigint NOT NULL,
			 Primary Key (UserId,MarketingGroupId)) TYPE = InnoDB
			ROW_FORMAT = Default;
		</sqlStatement>		
	
		<sqlStatement type="mysql">		
			Alter table UserInMarketingGroup add Index IX_Relationship1662 (MarketingGroupId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table UserInMarketingGroup add constraint FK_UserInMarketingGroup_Group Foreign Key (MarketingGroupId) references MarketingGroup (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table UserInMarketingGroup add Index IX_Relationship172 (UserId)
		</sqlStatement>
		<sqlStatement type="mysql">		
			Alter table UserInMarketingGroup add constraint FK_UserInMarketingGroup_User Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			Create table MarketingGroup (
				Id Double precision NOT NULL,
				Name Varchar2(60) NOT NULL,
				Description Varchar2(255),
				Purpose Varchar2(255))
		</sqlStatement>
		<sqlStatement type="oracle">		
			Create table UserInMarketingGroup (
				MarketingGroupId Double precision NOT NULL ,
				UserId Double precision NOT NULL)
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table MarketingGroup add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table UserInMarketingGroup add primary key (MarketingGroupId, UserId) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table UserInMarketingGroup add  foreign key (MarketingGroupId) references MarketingGroup (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table UserInMarketingGroup add  foreign key (UserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [MarketingGroup]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Varchar(60) NOT NULL,
				[Description] Varchar(255) NULL,
				[Purpose] Varchar(255) NULL,
				Primary Key ([Id])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Create table [UserInMarketingGroup]
			(
				[MarketingGroupId] Integer NOT NULL,
				[UserId] Integer NOT NULL,
				Primary Key ([MarketingGroupId],[UserId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			Alter table [UserInMarketingGroup] add  foreign key([MarketingGroupId]) references [MarketingGroup] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Alter table [UserInMarketingGroup] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
	
	</version><version number="3.59">		
		<userChangeDescription>
			Recently registered users and filtering functionality
		</userChangeDescription>	

		<userChangeDescription>
			Modified Metadata Import help text
		</userChangeDescription>

		<appSettingChange type="add" setting="recently-registered-days" value="1" section="User registration/ login">
			<comment>
				The number of days to check for recently registered users...
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">	
			Create table Filter (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(200) ,
				IsDefault Tinyint  DEFAULT 0,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">	
			Create table FilterAttributeValue (
				FilterId Bigint NOT NULL,
				AttributeValueId Bigint NOT NULL,
				ListAttribute Tinyint DEFAULT 0,
			 Primary Key (FilterId,AttributeValueId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">	
			Alter table FilterAttributeValue add Index IX_Relationship165 (AttributeValueId)
		</sqlStatement>
		<sqlStatement type="mysql">	
			Alter table FilterAttributeValue add constraint FK_FilterAttributeValue_AttVal Foreign Key (AttributeValueId) references AttributeValue (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">	
			Alter table FilterAttributeValue add Index IX_Relationship164 (FilterId)
		</sqlStatement>
		<sqlStatement type="mysql">	
			Alter table FilterAttributeValue add constraint FK_FilterAttributeValue_Filter Foreign Key (FilterId) references Filter (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE AttributeValue ADD COLUMN FilterValue TINYINT DEFAULT 0
		</sqlStatement>
		

		<sqlStatement type="sqlserver">		
			Create table [Filter]
			(
				[Id] Integer NOT NULL Identity(1,1),
				[Name] Varchar(200),
				[IsDefault] Integer DEFAULT 0,
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Create table [FilterAttributeValue]
			(
				[FilterId] Integer NOT NULL,
				[AttributeValueId] Integer NOT NULL,
				[ListAttribute] Tinyint DEFAULT 0 NOT NULL,
				Primary Key ([FilterId],[AttributeValueId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			Alter table [FilterAttributeValue] add  foreign key([FilterId]) references [Filter] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			Alter table [FilterAttributeValue] add  foreign key([AttributeValueId]) references [AttributeValue] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE AttributeValue ADD FilterValue Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		

		<sqlStatement type="oracle">		
			Create table Filter (
				Id Double precision NOT NULL ,
				Name Varchar2(200),
				IsDefault Integer DEFAULT 0) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Create table FilterAttributeValue (
				FilterId Double precision NOT NULL,
				AttributeValueId Double precision NOT NULL,
				ListAttribute Char(1) DEFAULT 0 NOT NULL)
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			Alter table Filter add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table FilterAttributeValue add  foreign key (FilterId) references Filter (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table FilterAttributeValue add  foreign key (AttributeValueId) references AttributeValue (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table FilterAttributeValue add primary key (FilterId, AttributeValueId) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE AttributeValue ADD FilterValue Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Metadata Import</h2><p>A metadata import is achieved by uploading a data file to the server using the file upload control on this page.</p><h3>Data File Format</h3><p>The data file must conform to the following formatting rules:</p><p><ul><li>It must be a plain-text file.</li><li>All fields (columns) should be separated by a tab character.</li><li>Each record should start on a new line.</li><li>The first line of the file is ignored, and can be used for adding human-readable data if required ( e.g. date, contact details, description, etc.). If no data is required on this line, a blank line must be added.</li><li>The second line of the file should contain the column headers that identify the fields of the record being updated. There are several standard headers for standard attributes, and you can also add headers that match your custom metadata fields. A description of how this is done can be found in the next section.</li><li>An "Id" column must be present in the imported data file to identify the record in the system. This will typically be the filename of the asset without the file extension.</li><li>Where either the Categories or AccessLevels columns are present, data should be included as follows: separate categories should be delimited using a semi-colon (;). If the category is not at the root level, the name of its parent(s) should be included in front of its name, separated by a forward-slash (/). For example, if you have a subcategory of "Animals" called "Cats", the field value to specify this category should be "Animals/Cats". To also include this record in a "Photo" category the complete field value would be "Animals/Cats;Photo"</li><li>Where a date is provided, it should be in the format "DD/MM/YYYY HH:MM"</li></ul></p><h3>Data Column Headers</h3><p>Each column in the data file requires a header, entered on the second line of the file. These headers will either be one of the standard headers, or a custom one matching an attribute under your control. The standard headers (relating to the standard attributes) are listed below:</p><p><ul><li>AccessLevels</li><li>DescriptiveCategories</li><li>AddedByUser</li><li>DateAdded</li><li>DateCreated</li><li>DateModified</li></ul></p><p>In order to populate a custom attribute from the data file, the column header for the attribute must start with "att:" followed by the attribute name. For example, to populate an attribute "Keywords", a column header for the data must be called "att:Keywords". Note that the attribute name should match the name in the application exactly, including any spaces and capitalisation.</p><h3>Creating a Tab Delimited File using Excel</h3><p>You can generate a tab-delimited text file from Excel by choosing "Save as..." and then selecting "Text (Tab delimited)" for the field "Save as type".</p><p>When you have generated the text file from Excel you should check it using a text editor. Use "search and replace" to replace any characters that Excel may have added to the data - for example, it often adds " characters around fields.</p>' WHERE Identifier='metadata-import' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">		
			UPDATE AssetBox SET Name = 'Lightbox'
		</sqlStatement>		
		
	</version><version number="3.60">		
		<userChangeDescription>
			Enhance the watch directory functionality so that assets can be added in automatically.
		</userChangeDescription>
		
		<appSettingChange type="add" setting="watch-directory-auto-add" value="false" section="Directory settings">
			<comment>
				Whether or not to automatically add files in the watch directory into the repository.
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="watch-directory-access-levels" value="1" section="Directory settings">
			<comment>
				If watch-directory-auto-add is true then this property is the access levels the assets will be added to. Should contain a comma delimited list of ids.
			</comment>
		</appSettingChange>			
		
	</version><version number="3.61">	
	
		<userChangeDescription>
			Additional changes for shared lightboxes.
		</userChangeDescription>
		
		<appSettingChange type="add" setting="share-lightbox-group-only" value="true" section="Lightbox">
			<comment>
				Can non-admin users share their lightboxes with other members of their group only? (Ignored if multiple-lightboxes=false or shared-lightboxes=false)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (32,1,'shared assetbox','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: You have been granted access to a shared #lightboxname#','Dear #greetname# (#username#)<br><br>You have been granted access to a shared #lightboxname#.<br><br>To view the #lightboxname# click the link below:<br><br>#url#<br>#message#<br>Kind regards,<br>Asset Bank Admin','shared_assetbox')]]>
		</sqlStatement>	
		
		<sqlStatement type="oracle">
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (32,1,'shared assetbox','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: You have been granted access to a shared #lightboxname#','Dear #greetname# (#username#)<br><br>You have been granted access to a shared #lightboxname#.<br><br>To view the #lightboxname# click the link below:<br><br>#url#<br><br>Kind regards,<br>Asset Bank Admin','shared_assetbox')]]>
		</sqlStatement>		
		
		<sqlStatement type="sqlserver">
		
			<![CDATA[ 
				DECLARE @sql nvarchar(255)
				WHILE EXISTS(select 1 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%'))
				BEGIN
					select    @sql = 'ALTER TABLE EmailTemplate DROP CONSTRAINT ' + CONSTRAINT_NAME 
					from INFORMATION_SCHEMA.TABLE_CONSTRAINTS 
					where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%')
					exec    sp_executesql @sql
					select    @sql = 'ALTER TABLE EmailTemplate DROP COLUMN Id'
					exec    sp_executesql @sql
				END
			 ]]>
			 
			<![CDATA[INSERT INTO EmailTemplate (LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,'shared assetbox','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: You have been granted access to a shared #lightboxname#','Dear #greetname# (#username#)<br><br>You have been granted access to a shared #lightboxname#.<br><br>To view the #lightboxname# click the link below:<br><br>#url#<br><br>Kind regards,<br>Asset Bank Admin','shared_assetbox')]]>
		</sqlStatement>									
		
	</version><version number="3.61.1" private="true">	
		<!-- normal (i.e. non ecommerce) email copy is never used so remove list for time being -->
		<sqlStatement type="all">
			DELETE FROM List WHERE Identifier = 'email'
		</sqlStatement>
	</version><version number="3.62">		
		<userChangeDescription>
			Enable admin to restrict number of downloads per day for groups
		</userChangeDescription>
				
		<sqlStatement type="all">
			ALTER TABLE UserGroup ADD DailyDownloadLimit INTEGER DEFAULT 0
		</sqlStatement>
		
		<msgPropChange type="add" setting="GroupNoDownloadsLeft" value="Sorry, you don't have any downloads left for today. Please try tomorrow." />
	
		<msgPropChange type="add" setting="AssetBoxNoDownloadsLeft" value="Sorry, these downloads take you over your daily limit. Please remove some items or try again tomorrow." />
	</version><version number="3.63">		
		<userChangeDescription>
			Show copy on login page if user has been redirected there through not having permission to access a page
		</userChangeDescription>
				
		<sqlStatement type="mysql">
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('login-as-no-permission', 1, 'Login copy - user needs permission', 'Copy shown on the login page when the user requires extra permissions', '<p>You need to log in to access that page (your session may have expired). Please login below, or try returning to the <a href="viewHome" title="Home page">home page</a>.</p>', 1, 1) ]]>
		</sqlStatement>

		<appSettingChange type="add" setting="post-login-redirect-exceptions" value="/action/viewHome;/action/logout" section="User registration/ login">
			<comment>
				Don't remove these these values! Actions to which the user won't be redirected after login even if these were originally requested (before the login page was shown).
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="watch-directory-count" value="1" section="Directory settings">
			<comment>
				The number of watch directories.
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" setting="watch-directory-count" value="1" section="Directory settings">
			<comment>
				The number of watch directories.
			</comment>
		</appSettingChange>			
	</version><version number="3.64">	
	
		<userChangeDescription>
			Additional changes for shared lightboxes.
		</userChangeDescription>
		
		<appSettingChange type="add" setting="email-user-upon-lightbox-share" value="true" section="Lightbox">
			<comment>
				Should an email be sent to users to inform them that a lightbox has been shared with them?
			</comment>
		</appSettingChange>				
		
	</version><version number="3.65">	
	
		<userChangeDescription>
			Strong password validation optional
		</userChangeDescription>
		
		<appSettingChange type="add" setting="force-strong-password" value="false" section="User registration/ login">
			<comment>
				Should the system force the user to select a strong password when they change their password.
			</comment>
		</appSettingChange>		
		
		<msgPropChange type="add" setting="failedValidationSecurePassword" value="The password must contain at least one number, one capital letter and be a minimum of 8 characters long." />		
		
	</version><version number="3.66">	
	
		<userChangeDescription>
			Filter code updates
		</userChangeDescription>
		
	</version><version number="3.67">	
	
		<userChangeDescription>
			Update filter code to work with featured image
		</userChangeDescription>

		<userChangeDescription>
			*** NOTE: The assets need reindexing after this update ***
		</userChangeDescription>

	</version><version number="3.68">	
		<userChangeDescription>
			The user can specify a website in their profile
		</userChangeDescription>
		
		<appSettingChange type="add" setting="users-have-website" value="false" section="User registration/ login">
			<comment>
				Set to true if you want a user website field to be shown
			</comment>
		</appSettingChange>	
			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-website', 9, 'Label - Website', 'Website:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			 ALTER TABLE AssetBankUser ADD COLUMN Website Varchar(200) DEFAULT NULL
		</sqlStatement>	 
		<sqlStatement type="sqlserver">		
			 ALTER TABLE AssetBankUser ADD Website Varchar(200) NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			 ALTER TABLE AssetBankUser ADD Website Varchar2(200)
		</sqlStatement>	
		
		<userChangeDescription>
			The user can be notified of admin changes to their profile
		</userChangeDescription>		
		
		<sqlStatement type="mysql">
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (33, 1,'user details updated by admin','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: Your details have been updated','Dear #greetname# (#username#)<br><br>Your user details have been updated by an admin user.<br><br>#message#<br><br>Kind regards,<br>Asset Bank Admin','user_updated_admin')]]>
		</sqlStatement>	
		
		<sqlStatement type="oracle">
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (33, 1,'user details updated by admin','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: Your details have been updated','Dear #greetname# (#username#)<br><br>Your user details have been updated by an admin user.<br><br>#message#<br><br>Kind regards,<br>Asset Bank Admin','user_updated_admin')]]>
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">
			<![CDATA[ 
				DECLARE @sql nvarchar(255)
				WHILE EXISTS(select 1 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%'))
				BEGIN
					select    @sql = 'ALTER TABLE EmailTemplate DROP CONSTRAINT ' + CONSTRAINT_NAME 
					from INFORMATION_SCHEMA.TABLE_CONSTRAINTS 
					where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%')
					exec    sp_executesql @sql
					select    @sql = 'ALTER TABLE EmailTemplate DROP COLUMN Id'
					exec    sp_executesql @sql
				END
			 ]]>	
			
			<![CDATA[INSERT INTO EmailTemplate (LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,'user details updated by admin','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: Your details have been updated','Dear #greetname# (#username#)<br><br>Your user details have been updated by an admin user.<br><br>#message#<br><br>Kind regards,<br>Asset Bank Admin','user_updated_admin')]]>
		</sqlStatement>	
		
	</version><version number="3.69">
		
		<userChangeDescription>
			Setup functionality to allow empty assets
		</userChangeDescription>

		<appSettingChange type="add" setting="allow-empty-assets" value="false" section="general config">
			<comment>
				Allow empty assets...
			</comment>
		</appSettingChange>	

	</version><version number="3.70">
	
		<userChangeDescription>
			Add error messages for shared and multiple lightboxes
		</userChangeDescription>

		<msgPropChange type="add" setting="assetBoxNotAvailable" value="The shared 0 you selected is no longer available." />
		<msgPropChange type="add" setting="assetBoxRemoved" value="The shared 0 you were using is no longer available." />
		<msgPropChange type="add" setting="assetBoxesOutOfDate" value="Your available 0 have changed since the page was loaded - please try again." />
		<msgPropChange type="add" setting="assetboxNameNotUnique" value="The name you have entered is already in use." />		
		<msgPropChange type="add" setting="assetboxNameRequired" value="Please enter a name." />
		<msgPropChange type="add" setting="marketingGroupNameRequired" value="Please enter a name for the marketing group." />
		
	</version><version number="3.71">
		
		<userChangeDescription>
			Added help and cms text for filter functionality
		</userChangeDescription>


		<sqlStatement type="mysql">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('filters', 2, 'Filters help text', 'The help text for the filtering functionality', '<h2>Manage Filters</h2>  <p>A filter is a collection of attribute values that, when applied to the Asset Bank, restrict what a user can see (the user will only be able to see assets that have attribute values that match the values defined for the filter).</p><p>When you create a filter you need to define the set of attribute values that you want the filter to apply and give it a descriptive name that will enable users to determine what the filter does when they are selecting a filter to apply.</p><p>Once you have created a filter you can edit or delete it from the filter management page.</p><p>Filters apply to quick searches, browsing assets, promoted assets, featured assets and recent assets. Filters are also applied to the Advanced Search form.</p><h3>Default filter</h3><p>The default filter is the one that is applied to the asset bank by default when a user logs in.</p><p>Users can change the filter that is applied to their asset bank using the filter selector that appears underneath the menu when filters are added to Asset Bank.</p><p>If there are no filters setup in Asset Bank then no filtering is applied to the assets and the filter selector is not shown.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('filters', 2, 'Filters help text', 'The help text for the filtering functionality', '<h2>Manage Filters</h2>  <p>A filter is a collection of attribute values that, when applied to the Asset Bank, restrict what a user can see (the user will only be able to see assets that have attribute values that match the values defined for the filter).</p><p>When you create a filter you need to define the set of attribute values that you want the filter to apply and give it a descriptive name that will enable users to determine what the filter does when they are selecting a filter to apply.</p><p>Once you have created a filter you can edit or delete it from the filter management page.</p><p>Filters apply to quick searches, browsing assets, promoted assets, featured assets and recent assets. Filters are also applied to the Advanced Search form.</p><h3>Default filter</h3><p>The default filter is the one that is applied to the asset bank by default when a user logs in.</p><p>Users can change the filter that is applied to their asset bank using the filter selector that appears underneath the menu when filters are added to Asset Bank.</p><p>If there are no filters setup in Asset Bank then no filtering is applied to the assets and the filter selector is not shown.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="oracle">		
			 <![CDATA[  INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('filters', 2, 'Filters help text', 'The help text for the filtering functionality', '<h2>Manage Filters</h2>  <p>A filter is a collection of attribute values that, when applied to the Asset Bank, restrict what a user can see (the user will only be able to see assets that have attribute values that match the values defined for the filter).</p><p>When you create a filter you need to define the set of attribute values that you want the filter to apply and give it a descriptive name that will enable users to determine what the filter does when they are selecting a filter to apply.</p><p>Once you have created a filter you can edit or delete it from the filter management page.</p><p>Filters apply to quick searches, browsing assets, promoted assets, featured assets and recent assets. Filters are also applied to the Advanced Search form.</p><h3>Default filter</h3><p>The default filter is the one that is applied to the asset bank by default when a user logs in.</p><p>Users can change the filter that is applied to their asset bank using the filter selector that appears underneath the menu when filters are added to Asset Bank.</p><p>If there are no filters setup in Asset Bank then no filtering is applied to the assets and the filter selector is not shown.</p>', 1, 1) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">		
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('filter-search-text', 1, 'Filter search text', '<p>The filter <b>?filterName?</b> has been applied to the form below. Select from the list box underneath the menu or edit the form below to change the filtering.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('filter-search-text', 1, 'Filter search text', '<p>The filter <b>?filterName?</b> has been applied to the form below. Select from the list box underneath the menu or edit the form below to change the filtering.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="oracle">		
			 <![CDATA[  INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('filter-search-text', 1, 'Filter search text', '<p>The filter <b>?filterName?</b> has been applied to the form below. Select from the list box underneath the menu or edit the form below to change the filtering.</p>', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.72">
		
		<userChangeDescription>
			Fixed problem with keywords
		</userChangeDescription>

	</version><version number="3.73" private="true">
		
		<userChangeDescription>
			Added edit display attribute functionality and fix defect with ordering
		</userChangeDescription>

	</version><version number="3.74">
		
		<userChangeDescription>
			Adds setting to restrict shared lightbox functionality to admin users only
		</userChangeDescription>

		<appSettingChange type="add" setting="shared-lightboxes-admin-only" value="false" section="Lightbox">
			<comment>
				Is the 'share lightbox' functionality only available to admin users?
			</comment>
		</appSettingChange>
		
	</version><version number="3.75" private="true">
		
		<userChangeDescription>
			Fixes to filter and empty asset functionality
		</userChangeDescription>
	</version><version number="3.76" private="true">
		
		<userChangeDescription>
			Fix to permission checking for asset updating
		</userChangeDescription>
	</version><version number="3.77" private="true">
		
		<userChangeDescription>
			Fix to permission checking
		</userChangeDescription>
	</version><version number="3.78">
		
		<userChangeDescription>
			Changes to the filtering functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="filters-affect-featured" value="false" section="Browse settings">
			<comment>
				Do the filters affect the featured image?
			</comment>
		</appSettingChange>

	</version><version number="3.79" private="true">
		
		<userChangeDescription>
			Fix for password expiry
		</userChangeDescription>
	</version><version number="3.80" private="true">		
		<userChangeDescription>
			Update copy shown on login page when session expires, and add message for SQL Server and Oracle as they were missed above.
		</userChangeDescription>

		<sqlStatement type="oracle">
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('login-as-no-permission', 1, 'Login copy - user needs permission', 'Copy shown on the login page when the user requires extra permissions', '<p>You need to log in to access that page (your session may have expired). Please login below, or try returning to the <a href="viewHome" title="Home page">home page</a>.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('login-as-no-permission', 1, 'Login copy - user needs permission', 'Copy shown on the login page when the user requires extra permissions', '<p>You need to log in to access that page (your session may have expired). Please login below, or try returning to the <a href="viewHome" title="Home page">home page</a>.</p>', 1, 1) ]]>
		</sqlStatement>
				
		<sqlStatement type="mysql">
			 <![CDATA[ UPDATE ListItem SET Body = '<p>You need to log in to access that page (your session may have expired). Please login below, or try returning to the <a href="viewHome" title="Home page">home page</a>.</p>' WHERE Identifier='login-as-no-permission']]>
		</sqlStatement>
	</version><version number="3.81" private="true">
		
		<userChangeDescription>
			Fix for color space issue
		</userChangeDescription>
	</version><version number="3.82">
		
		<userChangeDescription>
			Addition of help text for lightbox management functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			 <![CDATA[ UPDATE ListItem SET Body = '<h2>Manage Lightboxes</h2><p>This page allows you to manage your lightboxes. </p><p>Initially you will have a single lightbox called &quot;My Lightbox&quot;, but you may add further lightboxes if you wish, in order to further organise your assets. This can be done by entering a name for the new lightbox in the appropriate box and clicking the &quot;Add&quot; button. Names that you give to your new lightboxes must be unique and cannot be longer than 17 characters.</p><p>You may also rename any existing lightboxes, but again the name you provide for each must be unique and no longer than 17 characters.</p><p>When you have more than one lightbox in your list you may reorder them using the &quot;up&quot; and &quot;down&quot; links - this will change their order in the drop-down list that appears in the lightbox summary on each page.</p><p>If you no longer need a lightbox (and providing it is not the last one in the list) you may remove it by clicking on its &quot;delete&quot; link. Note that this operation cannot be reversed.</p><h4>Shared Lightboxes</h4><p>Depending on your AssetBank configuration, you may be able to share your lightboxes with other users. If so, any lightboxes that other users have shared with you will also appear in your list of lightboxes. You may reorder, rename and remove these shared lightboxes in a similar way to your own, although doing so will not affect other users who can also see the same lightbox.</p><p>If sharing is allowed you will also see a &quot;share&quot; link alongside your own lightboxes in the list, allowing you to share your lightboxes with other users of the application.</p>' WHERE Identifier='manage-lightboxes']]>
		</sqlStatement>
		<sqlStatement type="all">
			 <![CDATA[ UPDATE ListItem SET Body = '<h2>Share Lightbox</h2><p>You may share your lightbox with other users by adding them to the list of sharing users on this page. Once in the list, users will be able to see the lightbox in their list of lightboxes, and the assets within it (providing they have the appropriate permissions).</p><p>In order to control whether users are able to add (and subsequently remove) items to this lightbox, you may use the links in the &quot;Can edit?&quot; column. The values toggle between &quot;yes&quot; and &quot;no&quot; indicating that the user does or doesn&#39;t have the right to add items.</p><p>Users can be removed from the list by clicking the &quot;remove&quot; link. All sharing users can be removed from the list by clicking the &quot;Remove all users&quot; link below the list.</p><p>In order to add users to the list of those sharing, click the &quot;Add users&quot; or &quot;Add more users&quot; links, also below the user list.</p>' WHERE Identifier='share-lightbox']]>
		</sqlStatement>
		
		<!-- Dealt with separately to fix problem with previous insert using wrong id -->
		<sqlStatement type="mysql">
			 <![CDATA[ UPDATE ListItem SET Body = '<h2>Share Lightbox: Add Users</h2><p>This page allows you to search for users with whom to share the selected lightbox. In order to find users you may provide all or part of their: forename, surname, username or email address. Depending on your application configuration, country and group may also be selected. Clicking &quot;Find&quot; will find users based on your criteria.</p><p>When a list of matching users is displayed, you may add them to the list of sharing users by pressing the &quot;Add Selected Users&quot; button. By default, all users matched in the search are selected, but you may refine the selection by checking or unchecking the checkboxes against each matching user. When you press the &quot;Add Selected Users&quot; button, only the selected users (i.e. those whose checkbox is checked) will be added.</p><p>In order to allow the added users to add (and subsequently remove) items to the shared lightbox, check the &quot;Added users can edit the Lightbox&quot; checkbox. Leaving the checkbox unselected will result in any added users being able to see the lightbox in &quot;read-only&quot; mode.</p><p>It is worth noting that, when performing a search, users who are already sharing the lightbox may also appear in the match list. Adding the same user twice in this way will not result in them seeing the lightbox twice, and has no detrimental effects.</p>' WHERE Identifier='share-lightbox-add-user']]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			 <![CDATA[ UPDATE ListItem SET Body = '<h2>Share Lightbox: Add Users</h2><p>This page allows you to search for users with whom to share the selected lightbox. In order to find users you may provide all or part of their: forename, surname, username or email address. Depending on your application configuration, country and group may also be selected. Clicking &quot;Find&quot; will find users based on your criteria.</p><p>When a list of matching users is displayed, you may add them to the list of sharing users by pressing the &quot;Add Selected Users&quot; button. By default, all users matched in the search are selected, but you may refine the selection by checking or unchecking the checkboxes against each matching user. When you press the &quot;Add Selected Users&quot; button, only the selected users (i.e. those whose checkbox is checked) will be added.</p><p>In order to allow the added users to add (and subsequently remove) items to the shared lightbox, check the &quot;Added users can edit the Lightbox&quot; checkbox. Leaving the checkbox unselected will result in any added users being able to see the lightbox in &quot;read-only&quot; mode.</p><p>It is worth noting that, when performing a search, users who are already sharing the lightbox may also appear in the match list. Adding the same user twice in this way will not result in them seeing the lightbox twice, and has no detrimental effects.</p>' WHERE Identifier='share-lightbox-add-user']]>
		</sqlStatement>
		<sqlStatement type="oracle">		
			 <![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('share-lightbox-add-user', 2, 'Share Lightbox: Add User help text', 'The help text for Share Lightbox: Add User', '<h2>Share Lightbox: Add Users</h2><p>This page allows you to search for users with whom to share the selected lightbox. In order to find users you may provide all or part of their: forename, surname, username or email address. Depending on your application configuration, country and group may also be selected. Clicking &quot;Find&quot; will find users based on your criteria.</p><p>When a list of matching users is displayed, you may add them to the list of sharing users by pressing the &quot;Add Selected Users&quot; button. By default, all users matched in the search are selected, but you may refine the selection by checking or unchecking the checkboxes against each matching user. When you press the &quot;Add Selected Users&quot; button, only the selected users (i.e. those whose checkbox is checked) will be added.</p><p>In order to allow the added users to add (and subsequently remove) items to the shared lightbox, check the &quot;Added users can edit the Lightbox&quot; checkbox. Leaving the checkbox unselected will result in any added users being able to see the lightbox in &quot;read-only&quot; mode.</p><p>It is worth noting that, when performing a search, users who are already sharing the lightbox may also appear in the match list. Adding the same user twice in this way will not result in them seeing the lightbox twice, and has no detrimental effects.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			 <![CDATA[ DELETE FROM ListItem WHERE Identifier='share-lightboxes-add-user']]>
		</sqlStatement>
		
	</version><version number="3.83">
		
		<userChangeDescription>
			Update to enable max size of files uploaded using applet to be configured
		</userChangeDescription>
		
		<appSettingChange type="add" setting="upload-applet-max-filesize" value="2000000000" section="Server settings">
			<comment>
				The maximum file size of any single file by the applet, in bytes (default below is 2GB)
			</comment>
		</appSettingChange>		
	</version><version number="3.84">
		
		<userChangeDescription>
			Update to external data synch functionality
		</userChangeDescription>
		
	</version><version number="3.85">
		
		<userChangeDescription>
			Update filtering functionality to set default filter on first request rather than login
		</userChangeDescription>
		
	</version><version number="3.86">
		
		<userChangeDescription>
			Added keyword filter selection functionality
		</userChangeDescription>


		<sqlStatement type="all">		
			 ALTER TABLE Attribute ADD DefaultKeywordFilter Varchar(5)
		</sqlStatement>	 
		
		
	</version><version number="3.87">
		
		<userChangeDescription>
			Users can now delete files from their bulk upload directory
		</userChangeDescription>
		
	</version><version number="3.88">
		
		<userChangeDescription>
			Enhancement for filters
		</userChangeDescription>
		
	</version><version number="3.89" private="true">
		
		<userChangeDescription>
			Enhancement for filters
		</userChangeDescription>
		
		<msgPropChange type="add" setting="noFilterName" value="You need to provide a name for this filter" />
		
	</version><version number="3.89.1" private="true">		
		<userChangeDescription>
			Add refdata script items
		</userChangeDescription>		
	</version><version number="3.89.2" private="true">		
		<userChangeDescription>
			Enable upload applet on Linux/Unix
		</userChangeDescription>		
	</version><version number="3.89.3">
		
		<userChangeDescription>
			Admins can leave notes on users
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			 ALTER TABLE AssetBankUser ADD COLUMN AdminNotes TEXT
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			 ALTER TABLE AssetBankUser ADD AdminNotes Varchar(4000)
		</sqlStatement>	
		<sqlStatement type="oracle">	
			 ALTER TABLE AssetBankUser ADD AdminNotes Varchar2(4000)
		</sqlStatement>			
		
	</version><version number="3.89.4">
		
		<userChangeDescription>
			Last modified by field in user data
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetBankUser ADD LastModifiedById BIGINT
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetBankUser ADD LastModifiedById INTEGER
		</sqlStatement>

		<sqlStatement type="oracle">		
			ALTER TABLE AssetBankUser ADD LastModifiedById Double precision
		</sqlStatement>	
	
	</version><version number="3.89.5">
		
		<userChangeDescription>
			Send messages to individual users
		</userChangeDescription>
		
	</version><version number="3.89.6">
		
		<userChangeDescription>
			Enable admin to suspend users
		</userChangeDescription>
		
	</version><version number="3.89.7">
		
		<userChangeDescription>
			Allows admin to send the user a message when they are deleted
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (34,1,'user deleted by admin','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: Your account has been deleted','Dear #greetname# (#username#)<br><br>Your account has been deleted. The admin user included this message:<br><br>#message#<br><br>Kind regards,<br>Asset Bank Admin','user_deleted_admin')]]>
		</sqlStatement>	
		
		<sqlStatement type="oracle">
			<![CDATA[INSERT INTO EmailTemplate (Id, LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (34,1,'user deleted by admin','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: Your account has been deleted','Dear #greetname# (#username#)<br><br>Your account has been deleted. The admin user included this message:<br><br>#message#<br><br>Kind regards,<br>Asset Bank Admin','user_deleted_admin')]]>
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">
		
			<![CDATA[ 
				DECLARE @sql nvarchar(255)
				WHILE EXISTS(select 1 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%'))
				BEGIN
					select    @sql = 'ALTER TABLE EmailTemplate DROP CONSTRAINT ' + CONSTRAINT_NAME 
					from INFORMATION_SCHEMA.TABLE_CONSTRAINTS 
					where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%')
					exec    sp_executesql @sql
					select    @sql = 'ALTER TABLE EmailTemplate DROP COLUMN Id'
					exec    sp_executesql @sql
				END
			 ]]>	
			 
			<![CDATA[INSERT INTO EmailTemplate (LanguageId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,'user deleted by admin','imagebank@bright-interactive.com','#recipients#;',NULL,NULL,'Asset Bank: Your account has been deleted','Dear #greetname# (#username#)<br><br>Your account has been deleted. The admin user included this message:<br><br>#message#<br><br>Kind regards,<br>Asset Bank Admin','user_deleted_admin')]]>
		</sqlStatement>	
		
	</version><version number="3.89.8" private="true">
		
		<userChangeDescription>
			Enhancements to delete user functionality	
		</userChangeDescription>
			
			<sqlStatement type="mysql">		
				Alter table AssetBankUser add Index IX_Relationship173 (LastModifiedById)
			</sqlStatement>

			<sqlStatement type="mysql">		
				Alter table AssetBankUser add constraint FK_AssetBankUser_LastModified Foreign Key (LastModifiedById) references AssetBankUser (Id) on delete  restrict on update  restrict
			</sqlStatement>

			<sqlStatement type="sqlserver">		
				Alter table AssetBankUser add  foreign key(LastModifiedById) references AssetBankUser (Id)  on update no action on delete no action 
			</sqlStatement>

			<sqlStatement type="oracle">		
				Alter table AssetBankUser add  foreign key (LastModifiedById) references AssetBankUser (Id) 
			</sqlStatement>

	</version><version number="3.89.9" private="true">
		
		<userChangeDescription>
			Edit user enhancements
		</userChangeDescription>
		
	</version><version number="3.89.10" private="true">
		
		<userChangeDescription>
			Email template enhancements
		</userChangeDescription>
	
	<!-- Remove ID column -->
		<sqlStatement type="mysql">
			ALTER TABLE EmailTemplate DROP COLUMN Id
		</sqlStatement>

		<!-- In SQLServer we need to find out the name of the PK and unique constraints in order to drop them -->
		<sqlStatement type="sqlserver">
			<![CDATA[ 
				DECLARE @sql nvarchar(255)
				WHILE EXISTS(select 1 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%'))
				BEGIN
					select    @sql = 'ALTER TABLE EmailTemplate DROP CONSTRAINT ' + CONSTRAINT_NAME 
					from INFORMATION_SCHEMA.TABLE_CONSTRAINTS 
					where table_name = 'EmailTemplate' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%')
					exec    sp_executesql @sql
					select    @sql = 'ALTER TABLE EmailTemplate DROP COLUMN Id'
					exec    sp_executesql @sql
				END
			 ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE EmailTemplate DROP COLUMN Id 
		</sqlStatement>
	</version><version number="3.89.11" private="true">
		
		<userChangeDescription>
			Enhancements to processing files after bulk upload
		</userChangeDescription>
		
		<userChangeDescription>
			Allow files to be uploaded with no extension
		</userChangeDescription>
		
	</version><version number="3.89.12" private="true">
		
		<userChangeDescription>
			Enhancements to processing files after bulk upload
		</userChangeDescription>
		
	</version><version number="3.89.13" private="true">
		
		<userChangeDescription>
			Enhancements to bulk upload
		</userChangeDescription>
		
	</version><version number="3.89.14" updaterChanged="true" fileArchive="app.zip">
	
		<userChangeDescription>
			Updater changed to allow applying different app setting changes for different databases
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />
	
	</version><version number="3.89.15">
		
		<userChangeDescription>
			Allows user to chose between applet, flash and ftp uploaders
		</userChangeDescription>
		
		<appSettingChange type="add" setting="bulk-upload-use-flash" value="true" section="Directory settings">
			<comment>
				Allow uploads using the Flash uploader - user gets choice if more than one upload option enabled
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="bulk-upload-use-ftp" value="true" section="Directory settings">
			<comment>
				Allow uploads using FTP - user gets choice if more than one upload option enabled
			</comment>
		</appSettingChange>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />
		
	</version><version number="3.89.16">
		
		<userChangeDescription>
			Added custom field functionality
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			Create table CustomFieldType (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Description Varchar(50) ,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table CustomField (
				FieldName Varchar(100) ,
				UsageTypeId Bigint NOT NULL,
				TypeId Bigint NOT NULL,
				Id Bigint NOT NULL AUTO_INCREMENT,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table CustomFieldValueMapping (
				ItemId Bigint NOT NULL,
				ListValue Bigint,
				CustomFieldId Bigint NOT NULL,
				TextValue Text) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table CustomFieldUsageType (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Description Varchar(100) ,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table CustomFieldValue (
				Id Bigint NOT NULL AUTO_INCREMENT,
				CustomFieldId Bigint NOT NULL,
				Value Varchar(200) ,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table CustomField add Index IX_Relationship187 (TypeId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomField add constraint FK_CustomField_Type Foreign Key (TypeId) references CustomFieldType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomFieldValueMapping add Index IX_Relationship189 (CustomFieldId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomFieldValueMapping add constraint FK_CustomFieldValueMapping_Field Foreign Key (CustomFieldId) references CustomField (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomField add Index IX_Relationship190 (UsageTypeId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomField add constraint FK_CustomField_UsageType Foreign Key (UsageTypeId) references CustomFieldUsageType (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table CustomFieldValueMapping add Index IX_Relationship192 (ListValue)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomFieldValueMapping add constraint FK_CustomFieldValueMapping_Value Foreign Key (ListValue) references CustomFieldValue (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomFieldValue add Index IX_Relationship191 (CustomFieldId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomFieldValue add constraint FK_CustomFieldValue_Field Foreign Key (CustomFieldId) references CustomField (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table CustomFieldValueMapping add unique UniqueCheck (ListValue,CustomFieldId,ItemId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [CustomFieldType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Description] Varchar(50) NULL,
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [CustomField]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[FieldName] Varchar(100) NULL,
				[UsageTypeId] Integer NOT NULL,
				[TypeId] Integer NOT NULL,
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [CustomFieldValueMapping]
			(
				[ItemId] Integer NOT NULL,
				[CustomFieldId] Integer NOT NULL,
				[ListValue] Integer,
				[TextValue] Text
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [CustomFieldUsageType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Description] Varchar(100) NULL,
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [CustomFieldValue] 
			(
				[Id] Integer NOT NULL Identity(100,1),
				[CustomFieldId] Integer NOT NULL,
				[Value] Varchar(200),
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [CustomField] add  foreign key([TypeId]) references [CustomFieldType] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE [CustomFieldValueMapping] add  foreign key([CustomFieldId]) references [CustomField] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE [CustomField] add  foreign key([UsageTypeId]) references [CustomFieldUsageType] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [CustomFieldValueMapping] add Foreign Key ([ListValue]) references [CustomFieldValue] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE [CustomFieldValue] add Foreign Key ([CustomFieldId]) references [CustomField] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [CustomFieldValueMapping] ADD CONSTRAINT UniqueCheck UNIQUE (ListValue,CustomFieldId,ItemId)
		</sqlStatement>


		<sqlStatement type="oracle">
			CREATE SEQUENCE CustomFieldTypeSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		<sqlStatement type="oracle">
			CREATE SEQUENCE CustomFieldSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		<sqlStatement type="oracle">
			CREATE SEQUENCE CustomFieldUsageTypeSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			Create table CustomFieldType 
			(
				Id Double precision NOT NULL,
				Description Varchar2(50)
			)
		</sqlStatement>

		<sqlStatement type="oracle">		
			Create table CustomField 
			(
				Id Double precision NOT NULL,
				FieldName Varchar2(100),
				UsageTypeId Double precision NOT NULL ,
				TypeId Double precision NOT NULL
			)
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			Create table CustomFieldValueMapping 
			(
				ItemId Double precision NOT NULL,
				CustomFieldId Double precision NOT NULL,
				ListValue Double precision,
				TextValue Varchar2(4000)
			)
		</sqlStatement>

		<sqlStatement type="oracle">		
			Create table CustomFieldUsageType 
			(
				Id Double precision NOT NULL,
				Description Varchar2(100)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table CustomFieldValue 
			(
				Id Double precision NOT NULL,
				CustomFieldId Double precision NOT NULL,
				Value Varchar2(200)
			)
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table CustomFieldType add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table CustomField add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table CustomFieldUsageType add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table CustomFieldValue add primary key (Id) 
		</sqlStatement>

		<sqlStatement type="oracle">		
			Alter table CustomField add  foreign key (TypeId) references CustomFieldType (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table CustomFieldValueMapping add  foreign key (CustomFieldId) references CustomField (Id)
		</sqlStatement>
		<sqlStatement type="oracle">		
			Alter table CustomField add  foreign key (UsageTypeId) references CustomFieldUsageType (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table CustomFieldValueMapping add Foreign Key (ListValue) references CustomFieldValue (Id)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table CustomFieldValue add Foreign Key (CustomFieldId) references CustomField (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE CustomFieldValueMapping ADD CONSTRAINT cfvm_unique UNIQUE (ListValue,CustomFieldId,ItemId)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT CustomFieldUsageType ON
		</sqlStatement>
		
		<sqlStatement type="all">		
			INSERT INTO CustomFieldUsageType (Id, Description) VALUES (1, 'Asset Bank User Field')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT CustomFieldUsageType OFF
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT CustomFieldType ON
		</sqlStatement>
		
		<sqlStatement type="all">		
			INSERT INTO CustomFieldType (Id, Description) VALUES (1, 'Textfield')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO CustomFieldType (Id, Description) VALUES (2, 'Textarea')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO CustomFieldType (Id, Description) VALUES (3, 'Dropdown list')
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO CustomFieldType (Id, Description) VALUES (4, 'Checkbox list')
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT CustomFieldType OFF
		</sqlStatement>
		
	</version><version number="3.89.17" private="true">
		
		<userChangeDescription>
			Added required switch to custom field functionality
		</userChangeDescription>
	
		<sqlStatement type="mysql">		
			ALTER TABLE CustomField ADD COLUMN Required TINYINT DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE CustomField ADD Required Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE CustomField ADD Required Char(1) Default 1 NOT NULL
		</sqlStatement>

	</version><version number="3.89.18" private="true">
		
		<userChangeDescription>
			Added setting to switch off custom fields and validation messages
		</userChangeDescription>

		<appSettingChange type="add" setting="use-custom-fields" value="false" section="General config">
			<comment>
				Do we want the custom fields functionality available?
			</comment>
		</appSettingChange>
	</version><version number="3.89.19">
		
		<userChangeDescription>
			Added message for users that aren't logged in - controlled by an app setting
		</userChangeDescription>
	
		<appSettingChange type="add" setting="show-not-logged-in-message" value="false" section="User registration/ login">
			<comment>
				Show a predefined cms message on the homepage to users who aren't logged in...
			</comment>
		</appSettingChange>	

		<sqlStatement type="all">
			INSERT INTO ListItem (Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('homepage-not-logged-in', 1, 'Home Page not logged in text', 'The text shown on the home page for users that are not logged in', '', 1, 1)
		</sqlStatement>	
		
	</version><version number="3.89.20" private="true">
		
		<userChangeDescription>
			Removed logged in setting
		</userChangeDescription>
	
		<appSettingChange type="delete" setting="show-not-logged-in-message" />

	</version><version number="3.89.21" private="true">
		
		<userChangeDescription>
			Flash uploader enhancements
		</userChangeDescription>

	</version><version number="3.89.22">
		
		<userChangeDescription>
			Choice of using FTP for bulk upload
		</userChangeDescription>
		
		<appSettingChange type="add" setting="bulk-upload-use-ftp-or-unc" value="true" section="Directory settings">
			<comment>
				Allow uploads using FTP or UNC - user gets choice if more than one upload option enabled
			</comment>
		</appSettingChange>

	</version><version number="3.89.23" private="true">
		
		<userChangeDescription>
			Change so that Active Directory users can register and get a registration date.
		</userChangeDescription>
		
	</version><version number="3.89.24">
		
		<userChangeDescription>
			Javascript zoom functionality
		</userChangeDescription>
		
		<appSettingChange type="add" setting="large-image-has-zoom" value="false" section="Asset View settings">
			<comment>
				Whether to enable the javascript zoom functionality.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="zoom-initial-size" value="800" section="Asset View settings">
			<comment>
				The initial size of the 'view full size' and 'view full size' if zoom is enabled.
			</comment>
		</appSettingChange>
		
	</version><version number="3.89.25">
		
		<userChangeDescription>
			Added Click and Buy to available PSPs.
		</userChangeDescription>
		
		<sqlStatement type="mysql">	
			 ALTER TABLE ABOrder ADD PSPUserId varchar(255)
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">	
			 ALTER TABLE ABOrder ADD PSPUserId varchar(255)
		</sqlStatement>	
		
		<sqlStatement type="oracle">		
			 ALTER TABLE ABOrder ADD PSPUserId varchar2(255)
		</sqlStatement>

	</version><version number="3.89.26" private="true">
		
		<userChangeDescription>
			Bulk upload enhancements
		</userChangeDescription>
	
	</version><version number="3.89.27" private="true">
		
		<userChangeDescription>
			Watermark downloaded images change
		</userChangeDescription>
	
	</version><version number="3.89.28">
		
		<userChangeDescription>
			Added category import functionality
		</userChangeDescription>
	
	</version><version number="3.89.29" private="true">
		
		<userChangeDescription>
			Fixed flash uploader problem with spaces in usernames
		</userChangeDescription>
	
	</version><version number="3.90" private="true">
		
		<userChangeDescription>
			Change to errors messages, logged in message and NoHTMLMarkup field
		</userChangeDescription>

		<sqlStatement type="mysql">	
			 ALTER TABLE List ADD NoHTMLMarkup TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE List ADD NoHTMLMarkup INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE List ADD NoHTMLMarkup INTEGER DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT List ON
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew, NoHTMLMarkup) VALUES (15, 'system', 'System Messages', 'Copy for system messages', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT List OFF
		</sqlStatement>
		
		<sqlStatement type="all">		
			INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('customFieldName', 15, 'customFieldName', 'You need to provide a name for this custom field', 1, 2)
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('customFieldType', 15, 'customFieldType', 'You need to provide a type for this custom field', 1, 2)
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO ListItem ( Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('customFieldUsageType', 15, 'customFieldUsageType', 'You need to provide a usage type for this custom field', 1, 2)
		</sqlStatement>
		<sqlStatement type="all">		
			INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('customFieldValueValue', 15, 'customFieldValueValue', 'You need to provide a value', 1, 2)
		</sqlStatement>

	</version><version number="3.91">
		
		<userChangeDescription>
			Lots more content added to content management system.
		</userChangeDescription>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT List ON
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (11, 'buttons', 'Button Values', 'Copy for buttons', 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (12, 'links', 'Links Text', 'Copy for links throughout the application', 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (13, 'snippets', 'Snippets', 'Miscellaneous snippets of copy', 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT List OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('you-are-here', 8, 'Start of Breadcrumb', 'You are here:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('company-name', 8, 'Company Name', 'Asset Bank', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-filename', 9, 'Label - Filename', 'Filename:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-method', 9, 'Label - Method', 'Method:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-to', 9, 'Label - To', 'To:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-username-email', 9, 'Label - Username or Email', 'Username or Email:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-included-in-search', 9, 'Label - included in search', 'To be included in your search*:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-available', 9, 'Label - available', 'Available:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-contact', 10, 'Heading - Contact Us', 'Contact Us', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-promoted', 10, 'Heading - Promoted Items', 'Promoted Items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-recent', 10, 'Heading - Recent Items', 'Recent Items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-approve-items', 10, 'Heading - Approve Items', 'Approve Items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-your-profile', 10, 'Heading - Your Profile', 'Your Profile', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-profile-changed', 10, 'Heading - Profile Changed', 'Profile Changed', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-your-password', 10, 'Heading - Your Password', 'Your Password', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-password-changed', 10, 'Heading - Password Changed', 'Password Changed', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-step-1-upload', 10, 'Heading - Step 1: Upload File', 'Step 1: Upload File', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-step-2-metadata', 10, 'Heading - Step 2: Add Metadata', 'Step 2: Add Metadata', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-step-2-thumbnail', 10, 'Heading - Step 2: Select preview thumbnail', 'Step 2: Select preview thumbnail', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-upload', 10, 'Heading - Upload', 'Upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-upload-success', 10, 'Heading - Upload Success', 'Upload Success', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-step-3-metadata', 10, 'Heading - Step 3: Add Metadata', 'Step 3: Add Metadata', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-select-video-thumbnail', 10, 'Heading - Select Video Thumbnail', 'Select Video Thumbnail', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-bulk-upload', 10, 'Heading - Bulk Upload', 'Bulk Upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-start-import', 10, 'Heading - Start Import', 'Start Import', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-bulk-update', 10, 'Heading - Bulk Update', 'Bulk Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-bulk-update-batch', 10, 'Heading - Bulk Update: Batch Selection', 'Bulk Update: Batch Selection', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-bulk-update-run-update', 10, 'Heading - Bulk Update: Bulk Update: Run an Update', 'Bulk Update: Run an Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-bulk-update-status', 10, 'Heading - Bulk Update: Status', 'Bulk Update: Status', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-bulk-update-search', 10, 'Heading - Bulk Update: Create Batch Using Search', 'Bulk Update: Create Batch Using Search', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-image-details', 10, 'Heading - Image Details', 'Image Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-video-details', 10, 'Heading - Video Details', 'Video Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-audio-details', 10, 'Heading - Audio Details', 'Audio Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-asset-details', 10, 'Heading - Asset Details', 'Asset Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-approval-notes', 10, 'Heading - Approval Notes', 'Approval Notes', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-purchase-notes', 10, 'Heading - Purchase Notes', 'Purchase Notes', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-download', 10, 'Heading - Download', 'Download', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-preparing', 10, 'Heading - Preparing', 'Preparing', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-download-image', 10, 'Heading - Download Image', 'Download Image', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-download-file', 10, 'Heading - Download File', 'Download File', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-browse', 10, 'Heading - Browse', 'Browse', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-batch-update', 10, 'Heading - Batch Update', 'Batch Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-left-batch', 10, 'Heading - left in batch', 'left in batch', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-last-batch', 10, 'Heading - last in current batch', 'last in current batch', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-batch-update-finished', 10, 'Heading - Batch Update Finished', 'Batch Update Finished', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-update', 10, 'Heading - Update', 'Update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-update-success', 10, 'Heading - Upload/Update Success', 'Upload/Update Success', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-about', 10, 'Heading - About', 'About', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-download-failure', 10, 'Heading - Download Failure', 'Download Failure', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-download-image-preview', 10, 'Heading - Download Image Preview', 'Download Image Preview', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-email-item', 10, 'Heading - Email Item', 'Email Item', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-email-sent', 10, 'Heading - Email Sent', 'Email Sent', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-not-found', 10, 'Heading - Asset Not Found', 'Asset Not Found', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-forgotten-password', 10, 'Heading - Forgotten Password', 'Forgotten Password', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-request-approval', 10, 'Heading - Request Approval', 'Request Approval', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-move-keyword', 10, 'Heading - Move Keyword', 'Move Keyword', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-keywords', 10, 'Heading - Keywords', 'Keywords', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-promoted-items', 10, 'Subheading - Promoted Items', 'Promoted #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-recently-added', 10, 'Subheading - Recently added', 'Recently added', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-approve-uploaded-items', 10, 'Subhead - Approve uploaded items', 'Approve uploaded #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-approve-items-download', 10, 'Subhead - Approve items for download', 'Approve #items# for download', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-update-actions', 10, 'Subhead - Update Actions', 'Update Actions', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-ready-download', 10, 'Subhead - Ready to Download', 'Ready to download', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-purchase-required', 10, 'Subhead - Purchase required', 'Purchase required', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-approval-required', 10, 'Subhead - Approval required', 'Approval required', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-pending-approval', 10, 'Subhead - Pending approval', 'Pending approval', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-approval-rejected', 10, 'Subhead - Approval rejected', 'Approval rejected', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-view-only', 10, 'Subhead - View only', 'View only', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-prev-added', 10, 'Subhead - Previously added', 'Previously added', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-purchase-rejected', 10, 'Subhead - Purchase rejected', 'Purchase rejected', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-my-purchase', 10, 'Subhead - My Purchase', 'My Purchase', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-download-original', 10, 'Subhead - Download Original', 'Download Original', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-convert', 10, 'Subhead - Convert', 'Convert', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-crop', 10, 'Subhead - Crop', 'Crop', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-resize', 10, 'Subhead - Resize', 'Resize', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-adv-options', 10, 'Subhead - Advanced Options', 'Advanced Options', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-download-file', 10, 'Subhead - Download File', 'Download File', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-download-convert-images', 10, 'Subhead -Download & Convert Images', 'Download &amp; Convert Images', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-download-originals', 10, 'Subhead - Download Originals', 'Download Originals', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-search-by', 10, 'Subhead - Search by', 'Search by', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('heading-all-cats', 10, 'Heading - All Categories', 'All Categories', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-upload-help', 10, 'Subhead - Upload Help', 'Upload Help', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-subcats-cats', 10, 'Subhead - Subcategories of categories', 'Sub?browseablesName? of ?catName?', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-login', 11, 'Button - Login', 'Login', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-cancel', 11, 'Button - Cancel', 'Cancel', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-register', 11, 'Button - Register', 'Register', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-remind-me', 11, 'Button - Remind me', 'Remind me', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-search', 11, 'Button - Search', 'Search', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-go', 11, 'Button - Go', 'Go', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-submit', 11, 'Button - Submit', 'Submit', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-add', 11, 'Button - Add', 'Add', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-remove', 11, 'Button - Remove', 'Remove', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-download-all', 11, 'Button - Download all', 'Download all', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-send', 11, 'Button - Send', 'Send', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-upload', 11, 'Button - Upload', 'Upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-download', 11, 'Button - Download', 'Download', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-edit', 11, 'Button - Edit', 'Edit', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-delete', 11, 'Button - Delete', 'Delete', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-save', 11, 'Button - Save', 'Save', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-start-import', 11, 'Button - Start Import', 'Start Import', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-close', 11, 'Button - Close', 'Close', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-skip', 11, 'Button - Skip', 'Skip &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-delete2', 11, 'Button - Delete with arrow', 'Delete &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-save-continue', 11, 'Button - Save and Continue', 'Save & Continue &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-keyword-chooser', 11, 'Button - Keyword Chooser', 'Keyword Chooser...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-manage-master', 11, 'Button - Manage Master List', 'Manage Master List...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-move-keyword', 11, 'Button - Move Keyword', 'Move Keyword', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-go-arrow', 11, 'Heading - Go with arrow', 'Go &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-download-now', 11, 'Button - Download now', 'Download now', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-download-originals', 11, 'Button - Download Originals', 'Download Originals', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-download-original', 11, 'Button - Download Original', 'Download Original', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-preview', 11, 'Button - Preview', 'Preview &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-back', 11, 'Button - Back', '&laquo; Back', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-crop', 11, 'Button - Crop & Close', 'Crop & Close', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-next', 11, 'Button - Next', 'Next &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-add-arrow', 11, 'Button - Add arrow', 'Add &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-request-approval', 11, 'Button - Request Approval', 'Request Approval', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-resubmit', 11, 'Button - Resubmit', 'Resubmit', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('button-link-assets', 11, 'Button - Link Assets', 'Link #items#', 1, 2) ]]>
		</sqlStatement>



		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-contents', 12, 'Link - View contents (of lightbox)', 'View contents &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-see-promoted', 12, 'Link - See Promoted Items', 'See all promoted #items# &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-see-recent', 12, 'Link - See Recent Items', 'See all recent #items# &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-advanced-search', 12, 'Link - Advanced Search', 'Advanced search &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-forgot-password', 12, 'Link - Forgotten Password', 'Forgotten your password?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove-all', 12, 'Link - Remove All', 'Remove all', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-details', 12, 'Link - View details', 'View details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove', 12, 'Link - Remove', 'Remove', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-approval-details', 12, 'Link - Approval Details', 'Approval details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-larger', 12, 'Link - view larger size', 'view larger size', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-full-size', 12, 'Link - view full size', 'view full size', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-asset-usage', 12, 'Link - View asset usage', 'View #item# usage...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-embedded', 12, 'Link - View Embedded Data', 'View embedded data &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-select-crop', 12, 'Link - Select Crop Area', 'Select crop area...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-clear-crop', 12, 'Link - Clear Crop Area', 'Clear crop area...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove-all-promoted', 12, 'Link - Remove all from promoted', 'Remove all from promoted &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove-from-promoted', 12, 'Link - Remove from promoted', 'Remove from promoted', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-lightbox', 12, 'Link - Back to lightbox', '&laquo; Back to #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-start-data-import', 12, 'Link - Start new data import', 'Start a new data import &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-login', 12, 'Link - Back to login', '&laquo; Back to login', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-search-again', 12, 'Link - Search again', 'Search again &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-add-to-lightbox', 12, 'Link - Add to lightbox', 'Add to #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-add-to-mylightbox', 12, 'Link - Add to My lightbox', 'Add to #my-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-dl-image', 12, 'Link - Back to Download Image', '&laquo; Back to Download Image', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-image-details', 12, 'Link - Back to image details', '&laquo; Back to Image Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-all-cats', 12, 'Link - View all categories', 'View all categories &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-prev', 12, 'Link - Prev', '&laquo; Prev', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-next', 12, 'Link - Next', 'Next &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-add-all', 12, 'Link - Add all to lightbox', 'add all to #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back', 12, 'Link - Back', '&laquo; Back', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-item', 12, 'Link - Back to item details', '&laquo; Back to #item# details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-all-cats', 12, 'Link - Back to all cats', '&laquo; Back to all categories', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-back-my-lightbox', 12, 'Link - Back to my lightbox', '&laquo; Back to #my-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove-my-lightbox', 12, 'Link - Remove from my lightbox', 'Remove from #my-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove-lightbox', 12, 'Link - Remove from lightbox', 'Remove from #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-remove-link', 12, 'Link - Remove Link', 'Remove Link', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-in-lightbox', 12, 'Link - In Lightbox', 'In #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-in-my-lightbox', 12, 'Link - In My Lightbox', 'In #my-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-upload-more-files', 12, 'Link - Upload more files', '&laquo; Upload more files', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-show-help', 12, 'Link - Show help ', 'Show help for using Windows Explorer to upload your files &raquo;', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-show-help-ftp', 12, 'Link - Show help (ftp true)', 'Show help for using an FTP client to upload your files &raquo;', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-hide-help', 12, 'Link - Hide help', '&laquo; Hide help', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-single-upload', 1, 'Intro - Single upload page', '<p>Please click &quot;Browse&quot; to locate the file you want to add, and then click &quot;Upload&quot; to upload the file.<br />Once the file has been uploaded you will be able to enter metadata about the #item#, and add it to categories.</p>', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-upload', 1, 'Intro - Bulk upload page', '<p>The data import enables you to bulk load #items# from a zip file or a directory on the server.</p><p>There is no import currently in progress.</p>', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-upload-success', 1, 'Intro - Upload Success page', '<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="viewAsset?id=?assetId?">view the new asset</a>, <a href="../action/viewUploadAssetFile">add another file</a> or use the site navigation to continue.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-change-profile', 1, 'Intro - Change Profile', '<p>Change your profile details in the form below. </p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-change-password', 1, 'Intro - Change Password', '<p>To change your password, please enter your existing password and new password in the fields provided below.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-request-approval-success', 1, 'Intro - Request Approval Success', '<p>Your request has been sent to the administrator. <br />Check your #a-lightbox# when you next log in to track the approval status of the images.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-preview-image', 1, 'Intro - Preview download image', '<p>Click the download button to save the image to your computer.</p> ', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-update-actions', 1, 'Lightbox - Update Actions copy', '<p>These actions apply to all #items# in the #a-lightbox# that you have permission to update.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-downloadable', 1, 'Lightbox - Downloadable items', '<p>Downloadable #items#.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-downloadable-with-approval', 1, 'Lightbox - Downloadable items after approval', '<p>If there is further information about approval status, then you can click on &quot;Approval details&quot; to see it, (access may be temporary or subject to certain conditions).</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-pending-approval', 1, 'Lightbox - Pending approval copy', '<p>These #items# are pending approval from the administrator before you can download them.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-require-approval', 1, 'Lightbox - Require approval copy', '<p>#items# requiring approval to download.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-approval-rejected', 1, 'Lightbox - Approval rejected copy', '<p>#items# for which download approval has been rejected.</p><p>Click on &quot;Approval details&quot; for further information about approval status. <br />To request approval again click the &quot;Resubmit&quot; button.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('lightbox-view-only', 1, 'Lightbox - View only copy', '<p>These #items# are available to view only.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-all-cats', 1, 'Intro - All Categories', '<p>Listed below are all of the categories in the system in alphabetical order. Alternatively return to <a href="browseItems?categoryId=-1&categoryTypeId=1">category tree view &raquo;</a></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-forgot-pwd', 1, 'Intro - Forgotten Password', '<p>Please enter your username  or your email address and we will email your password to you.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-forgot-pwd-isemail', 1, 'Intro - Forgotten Password username is email', '<p>Please enter your username (your email address) and we will email your password to you.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-upload-1', 1, 'Intro - Bulk Upload step1', '<h2>Step 1: Upload files</h2><p>To import files in bulk, you first need to transfer the files to the server. Click the browse button below and then browse to and select the files you want to import. Then click upload to transfer the files to the server. When you have finished uploading files, click the next button to enter metadata.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-upload-1-noapp', 1, 'Intro - Bulk Upload step 1 (no applet)', '<p>If it supports it, you can <a href="?FTPPath?" target="_blank">use your browser to transfer the files</a>  simply drag and drop the files you want to upload into the popup window.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-upload-2', 1, 'Intro - Bulk Upload step 2', '<h2>Step 2: Start import</h2><p>Select the zip file or directory that contains the files, and (optionally) attributes that will be added to all of the #items#.<br/>You must select at least one category for the #items#.</p><p>We recommend that you set Metadata Status to &quot;Incomplete&quot;, so that you can identify all the #items# in the batch for updating. </p>', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-applet-instruct-1', 1, 'Bulk Upload - applet instructions 1', '<p>To upload files to the server click browse below and select your files. You can select multiple files at once then click upload.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-applet-instruct-2', 1, 'Bulk Upload - applet instructions 2', '<p>Once files have finished uploading you will be redirected to the import page. To access the import page directly, <a href="../action/viewStartImport?uploaded=1">click here</a> - and then select files from the dropdowns for processing.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-upload-help', 1, 'Bulk Upload - upload help', '<p>An easy way to open your bulk upload directory in Windows Explorer is as follows:</p><ul><li>Go to the Windows &quot;Start&quot; menu.</li><li>Select &quot;Run ...&quot;</li><li>Copy the following, and paste into the &quot;Open&quot; field:<br/><strong>explorer ?FTPPath?</strong></li><li>Click OK.</li></ul>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-upload-help-ftp1', 1, 'Bulk Upload - upload help ftp 1', '<h3>Windows</h3><p>If you are using a browser that does not provide read-write access to FTP sites then you can use Windows Explorer instead.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-upload-help-ftp2', 1, 'Bulk Upload - upload help ftp 2', '<p><strong>Note:</strong> by default Internet Explorer 7 gives you access to an FTP site in read-only mode.</p><h3>Mac Users</h3><p>You need to install an FTP client (or use the command line if you know how) and connect using the following details:</p><ul><li><strong>Host:</strong> ?ftpHost?</li><li><strong>Username:</strong> ?ftpUsername?</li><li><strong>Password:</strong> ?ftpPassword?</li></ul><br /><p>Once connected, move into your personal upload directory - i.e. the directory with the same name as your username.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-otherwise-ftp', 1, 'Bulk - Otherwise ftp', 'Otherwise, you need to connect using an FTP client.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('bulk-otherwise-win', 1, 'Bulk - Otherwise windows', 'Otherwise, you need to connect using Windows Explorer.', 1, 1) ]]>
		</sqlStatement>



		<sqlStatement type="mysql">
			UPDATE ListItem SET Body=CONCAT(Body, '<p>Please use the form below to send us your comments and suggestions.</p>') WHERE Identifier='contact-details'
		</sqlStatement>

		<sqlStatement type="oracle">
			UPDATE ListItem SET Body = Body || '<p>Please use the form below to send us your comments and suggestions.</p>' WHERE Identifier='contact-details'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListId = 10 WHERE Identifier = 'login-title'
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE ListItem SET Title = 'Heading - Login Page' WHERE Identifier = 'login-title'
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-batch-update', 1, 'Intro - Batch Update', '<p>The batch update feature enables you to search for #items# and then update their metadata quickly.</p><p>If another user has started a batch update then you will not see the #items# that are in their batch, to stop you from updating the same #item#.</p><p>Each batch is limited to ?maxBatchUpdateResults? #items# &#8211; once you have finished updating the #items# in your batch you can start a new one.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-update', 1, 'Intro - Bulk Update', '<p>The bulk update feature enables you to create a batch of #items# and then update their metadata in bulk using specified values.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('copy-bulk-update-1', 1, 'Copy - Bulk Update 1', '<p><strong>You currently have a bulk update batch defined.</strong><br />Please note that #items# in this batch are locked by you, so that other users cannot perform bulk updates on them until you click &quot;Finish with this batch&quot;.</p><p>There are <strong>?numInBatch?</strong> #items# in the batch.<br />There are <strong>?numSelUpdate?</strong> #items# marked for update.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-batch-specify-items', 1, 'Intro - Batch update specify items', '<p>Specify the criteria for the #items# that will be included in the batch using the form below.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-batch-use-search', 1, 'Intro - Batch use search results', '<p>Alternatively, you can <a href="../action/createNewBatch?restart=true&amp;admin=1&amp;cachedCriteria=1">use your last search results</a>.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-items-not-in-cat', 9, 'Label -  Find only items not in a category', 'find only #items# that are not in any category', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-id', 9, 'Label -Id', 'Id:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-added', 9, 'Label - Added', 'Added -', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-by', 9, 'Label - By', 'by:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-on', 9, 'Label - On', 'on:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-item-in-cat', 10, 'Subhead - One Item in Category', '?browseHits? #item# in ?catName?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-items-in-cat', 10, 'Subhead - Multiple Items in Category', '?browseHits? #items# in ?catName?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-current-filter', 10, 'Subhead - Current filter', 'Current filter:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-recent-listed-below', 10, 'Subhead - Recent items listed below', 'There are ?numRecentItems? recently added #items# listed below', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-promoted-listed-below', 10, 'Subhead - Promoted items listed below', 'There are ?numPromotedItems? promoted #items# listed below', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-return-current-batch', 12, 'Link - Return to current batch update', 'Return to your current batch update &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-cancel-current-batch', 12, 'Link - Cancel current batch update &raquo;', 'Cancel current batch update &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-start-new-batch-update', 12, 'Link - Start new batch update', 'Start a new batch update &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-select-items-bulk', 12, 'Link - select items for bulk update', 'Select #items# in batch for update &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-run-update-batch', 12, 'Link - Run update on batch', 'Run an update on this batch &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-finish-batch', 12, 'Link - Finish with batch', 'Finish with this batch &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view-status', 12, 'Link - View status', 'View status &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-start-new-bulk-update', 12, 'Link - Start new bulk update', 'Start a new bulk update &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-refresh-view', 12, 'Link - Refresh view', 'Refresh my view &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-linking-items-note', 13, 'Snippet - linking items note', '<p><em>Linking #items# means that when an #item# is viewed, all other #items# from the batch will be shown as related #items#.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-bulk-in-progress', 13, 'Snippet - Bulk Update in progress', 'You have a <a href="../action/viewManageBulkUpdate">Bulk Update</a> in progress.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-batch-in-progress', 13, 'Snippet - Batch Update in progress', 'You have a <a href="../action/viewManageBatchUpdate">Batch Update</a> in progress.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-currently-batch-progress', 13, 'Snippet - Currenlty have a batch update in progress', 'You currently have a batch update in progress.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-so-items-available', 13, 'Snippet - so items can be updated', '(so that the #items# can be updated by other users).', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-batch-not-in-progress', 13, 'Snippet - batch not in progress', 'You currently do not have a batch update in progress.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-batch-bulk-note', 13, 'Snippet - Batch and bulk update note', 'Please note that you can only run one Batch Update or Bulk Update operation at once. These functions lock the #items# in the batch so that they cannot be used in another user&quot;s batch.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-batch-exceeds-size', 13, 'Snippet - Batch exceeds max size', 'There is no option to select #items# in this batch since the batch size exceeds ?maxSizeForSelection?.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-bulk-executing', 13, 'Snippet - Bulk Update executing', 'A bulk update is executing.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-bulk-finished', 13, 'Snippet - Last Bulk update finished', 'Your last bulk update operation has finished.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-bulk-not-in-progress', 13, 'Snippet - Bulk not in progress', 'You currently do not have a bulk update in progress.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-please-wait-update', 13, 'Snippet - Please wait while changes are saved', '<p>Please wait while your changes are saved. If you are adding a large file this may take a few minutes.<br />If there is no further activity then please check that the value in the File field is empty or represents a valid file.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-req-fields', 13, 'Snippet - Complete required fields', '<em>Please complete all fields marked with an asterisk (<span class="required">*</span>).</em>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-choose-diff-filter', 13, 'Snippet - Choose another filter', '<p>Choose another filter from the options above.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-curr-filter-removed', 13, 'Snippet - Current filter removed', '<p>Your filter is currently set to <strong>&quot;?currFilter?&quot;</strong> which has now been removed from the system.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-update-metadata', 1, 'Intro - Bulk Update Metadata', '<p>There are ?numForUpdate? #items# for update in your batch. Please enter the metadata below for the fields that you want to update in bulk.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-update-in-progress', 1, 'Intro - Bulk Update in progress', '<p>The bulk update is in progress.</p><p>This page will automatically refresh every 10 seconds until the update process finishes. If for some reason this does not happen you may <a href="bulkUpdateViewStatus">update the page</a> manually to check the status.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-bulk-update-finished', 1, 'Intro - Bulk Update finished', '<p>The bulk update has finished.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-approve-items', 1, 'Intro - Approve Items', '<p>There are ?uploadedAssets? #items# awaiting approval. You can approve #items# by <a href="../action/createNewBatch?restart=true&approvalStatus=3&approval=true&finishedUrl=/action/viewAssetApproval&cancelUrl=../action/viewAssetApproval">starting a new batch update &raquo;</a></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-approve-items-none', 1, 'Intro - Approve Items (no aitems)', '<p>There are no uploaded or changed #items# awaiting approval.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('intro-approve-items-p2', 1, 'Intro - Approve Items Page 2', '<p>Approval requests from ?fullName?</p><p>Select Approval Status &quot;Unapproved&quot; to reject the request, or &quot;Approved&quot; to approve it.Optionally you may add a message to the user when approving or rejecting the request.</p>', 1, 1) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-date', 9, 'Label - Date', 'Date:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-intended-usage', 9, 'Label - Intended Usage', 'Intended Usage:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-message-from-user', 9, 'Label - Message from the user', 'Message from the user:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-message-to-user', 9, 'Label - Message to the user', 'Your message to the user:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-approval-expires', 9, 'Label - Approval expires on', 'Approval expires on:', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-not-yet-updated', 10, 'Subhead - Not yet updated', 'Not yet updated', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-already-updated', 10, 'Subhead - Already updated', 'Already updated', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-enter-metadata', 10, 'Subhead - Enter Metadata', 'Enter Metadata', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('subhead-log', 10, 'Subhead - Log', 'Log:', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-select-all', 12, 'Link - Select all', 'Select all', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-unselect-all', 12, 'Link - Unselect all', 'Unselect all', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-select-items-bulk-again', 12, 'Link - Select items for another update', 'Select #items# in batch for another update &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-run-another-update', 12, 'Link - Run another update on batch', 'Run another update on this batch &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-view', 12, 'Link - View', 'view', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-no-items-batch', 13, 'Snippet - No items in batch', 'There are no #items# in your batch.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-check-item-update-again', 13, 'Snippet - Check images to update again', 'Check the #items# you want to update again and click &quot;Next &raquo;&quot;.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-check-item-update', 13, 'Snippet - Check images to update', 'Check the #items# you want to update and click &quot;Next &raquo;&quot;.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-bulk-meta-instruct', 13, 'Snippet - Bulk Metadata instructions', '<p>For each attribute that you want to be updated in bulk, tick the checkbox in the left-hand column, then fill in the new value in the right-hand column. Attributes will not be updated unless the corresponding left-hand checkbox is ticked.</p> <p>Please note that if a checked attribute has a blank field value in the right-hand column, then the attribute value will be set to empty on all #items# in the batch.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-batch-meta-instruct', 13, 'Snippet - Batch Metadata instructions', '<p><em>Please fill in attributes to be applied to all #items# in the batch.</em> </p>	', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-if-changed', 13, 'Snippet - (if changed)', '(if changed)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-not-approve-all', 13, 'Snippet - No permission to approve all', '<p>You may not have permission to approve all or any of these #items#.</p>', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-no-items-approval', 13, 'Snippet - No items awaiting approval', '<p>There are no #items# awaiting approval.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-users-items-approval', 13, 'Snippet - Users submitted items for approval', '<p>The following users have submitted #items# for download approval:</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-note-cancel-batch', 13, 'Snippet - Note this will cancel current batch', '<p>Please note: this will cancel your current batch update.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('snippet-blank-30-days', 13, 'Snippet - Leave blank for 30 days', '(leave blank for the default of 30 days)', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.92" private="true">
		
		<userChangeDescription>
			Update to stop markup coming out for certain lists
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE List SET NoHTMLMarkup=1 WHERE Identifier='buttons'
		</sqlStatement>

	</version><version number="3.93" private="true">
		
		<userChangeDescription>
			Fix to shared lightbox email template for SQLServer and Oracle
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE EmailTemplate SET Body='Dear #greetname# (#username#)<br><br>You have been granted access to a shared #lightboxname#.<br><br>To view the #lightboxname# click the link below:<br><br>#url#<br>#message#<br>Kind regards,<br>Asset Bank Admin' WHERE TextId='shared_assetbox' ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE EmailTemplate SET Body='Dear #greetname# (#username#)<br><br>You have been granted access to a shared #lightboxname#.<br><br>To view the #lightboxname# click the link below:<br><br>#url#<br>#message#<br>Kind regards,<br>Asset Bank Admin' WHERE TextId='shared_assetbox' ]]>
		</sqlStatement>

	</version><version number="3.94" private="true">
		
		<userChangeDescription>
			Partial implementation of multiple language support
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Create table TranslatedAttribute (
				AttributeId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Label Varchar(255),
				DefaultValue Varchar(255) ,
				ValueIfNotVisible Varchar(255) ,
				HelpText Varchar(255) ,
			 Primary Key (AttributeId,LanguageId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedAttributeValue (
				LanguageId Bigint NOT NULL,
				AttributeValueId Bigint NOT NULL,
				Value Text,
			 Primary Key (LanguageId,AttributeValueId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedCategory (
				CategoryId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Text ,
				Description Text ,
				Summary Varchar(255) ,
			 Primary Key (CategoryId,LanguageId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedCategory ADD Index IX_Relationship177 (CategoryId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedCategory add constraint FK_TranslatedCategory_Cat Foreign Key (CategoryId) references CM_Category (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedCategory ADD Index IX_Relationship178 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedCategory add constraint FK_TranslatedCategory_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttributeValue ADD Index IX_Relationship176 (AttributeValueId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttributeValue add constraint FK_TranslatedAttribute_Value Foreign Key (AttributeValueId) references AttributeValue (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttributeValue ADD Index IX_Relationship175 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttributeValue add constraint FK_TranslatedAttributeValue_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttribute ADD Index IX_Relationship173 (AttributeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttribute add constraint FK_TranslatedAttribute_Attribute Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttribute ADD Index IX_Relationship174 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttribute add constraint FK_TranslatedAttribute_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language Add IsSuspended Bool DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language Add IsDefault Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language MODIFY COLUMN Id Bigint NOT NULL AUTO_INCREMENT
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language MODIFY COLUMN Name Varchar(255) UNIQUE NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language MODIFY COLUMN Code Varchar(20) UNIQUE NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser Add COLUMN LanguageId Bigint DEFAULT 1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser ADD Index IX_Relationship180 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser add constraint FK_AssetBankUser_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			UPDATE Language SET Code='en' WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			UPDATE Language SET IsDefault=1 WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ListItem ADD LanguageId Bigint DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ListItem ADD Index IX_Relationship179 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ListItem add constraint FK_ListItem_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ListItem DROP Primary Key
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ListItem ADD Primary Key (Identifier,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedAttribute]
			(
				[AttributeId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Label] Varchar(255) NULL,
				[DefaultValue] Varchar(255) NULL,
				[ValueIfNotVisible] Varchar(255) NULL,
				[HelpText] Varchar(255) NULL,
			Primary Key ([AttributeId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedAttributeValue]
			(
				[LanguageId] Integer NOT NULL,
				[AttributeValueId] Integer NOT NULL,
				[Value] Varchar(4000) NULL,
			Primary Key ([LanguageId],[AttributeValueId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedCategory]
			(
				[CategoryId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Varchar(4000) NULL,
				[Description] Varchar(4000) NULL,
				[Summary] Varchar(255) NULL,
			Primary Key ([CategoryId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedCategory] add  foreign key([CategoryId]) references [CM_Category] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedCategory] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedAttributeValue] add  foreign key([AttributeValueId]) references [AttributeValue] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedAttributeValue] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedAttribute] add  foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedAttribute] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language Add IsSuspended Tinyint DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language Add IsDefault Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ALTER COLUMN Name Varchar(255) NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ALTER COLUMN Code Varchar(20) NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ADD UNIQUE(Name)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ADD UNIQUE(Code)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetBankUser Add LanguageId Integer DEFAULT 1 	NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [AssetBankUser] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			UPDATE Language SET Code='en' WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			UPDATE Language SET IsDefault=1 WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE ListItem ADD LanguageId Integer DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [ListItem] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			DECLARE @sql nvarchar(255)
			WHILE EXISTS(select 1 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS where table_name = 'ListItem' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%'))
			BEGIN
				 select    @sql = 'ALTER TABLE ListItem DROP CONSTRAINT ' + CONSTRAINT_NAME 
				 from INFORMATION_SCHEMA.TABLE_CONSTRAINTS 
				 where table_name = 'ListItem' AND (CONSTRAINT_NAME LIKE 'PK%' OR CONSTRAINT_NAME LIKE 'UQ%')
				 exec    sp_executesql @sql
			END
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE ListItem ADD PRIMARY KEY(Identifier,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedAttribute (
				AttributeId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Label Varchar2(255),
				DefaultValue Varchar2(255),
				ValueIfNotVisible Varchar2(255),
				HelpText Varchar2(255))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedAttributeValue (
				LanguageId Double precision NOT NULL ,
				AttributeValueId Double precision NOT NULL ,
				Value Varchar2(4000))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedCategory (
				CategoryId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(4000),
				Description Varchar2(4000),
				Summary Varchar2(255))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedCategory ADD  Foreign Key (CategoryId) references CM_Category (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedCategory ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedCategory ADD Primary Key (CategoryId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttributeValue ADD  Foreign Key (AttributeValueId) references AttributeValue (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttributeValue ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttributeValue ADD Primary Key (AttributeValueId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttribute ADD  Foreign Key (AttributeId) references Attribute (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttribute ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttribute ADD Primary Key (AttributeId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language ADD IsSuspended Char(1) DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language ADD IsDefault Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language MODIFY Name Varchar(255) UNIQUE NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language MODIFY Code Varchar(20) UNIQUE NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			CREATE SEQUENCE LanguageSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetBankUser ADD LanguageId Double precision DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetBankUser ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			UPDATE Language SET Code='en' WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="oracle">
			UPDATE Language SET IsDefault='1' WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE ListItem ADD LanguageId Double precision DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE ListItem ADD Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE ListItem ADD Primary Key (Identifier,LanguageId)
		</sqlStatement>
		
		<msgPropChange type="add" setting="languageNameRequired" value="Please enter a name for the language." />

		<msgPropChange type="add" setting="languageCodeRequired" value="Please enter a code for the language." />

		<msgPropChange type="add" setting="languageNameNotUnique" value="The name you entered for the language is already in use." />

		<msgPropChange type="add" setting="languageCodeNotUnique" value="The code you entered for the language is already in use." />

	</version><version number="3.95" private="true">
	
		<sqlStatement type="mysql">
			Create table TranslatedUsageType (
				UsageTypeId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Description Varchar(255) ,
				Message Text ,
			 Primary Key (UsageTypeId,LanguageId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
	
		<sqlStatement type="mysql">
			Alter table TranslatedUsageType add Index IX_Relationship181 (UsageTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedUsageType add constraint FK_TranslatedUsageType_Type Foreign Key (UsageTypeId) references UsageType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedUsageType add Index IX_Relationship182 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedUsageType add constraint FK_TranslatedUsageType_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language ADD NativeName Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language ADD IsRightToLeft Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language ADD IconFilename Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedUsageType]
			(
				[UsageTypeId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Description] Varchar(255) NULL,
				[Message] Varchar(4000) NULL,
			Primary Key ([UsageTypeId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedUsageType] add  foreign key([UsageTypeId]) references [UsageType] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedUsageType] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ADD NativeName Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ADD IsRightToLeft Tinyint DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ADD IconFilename Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedUsageType (
				UsageTypeId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Description Varchar2(255),
				Message Varchar2(4000))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedUsageType ADD  Foreign Key (UsageTypeId) references UsageType (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedUsageType ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedUsageType ADD Primary Key (UsageTypeId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language ADD NativeName Varchar2(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language ADD IsRightToLeft Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language ADD IconFilename Varchar2(255)
		</sqlStatement>
	
		<sqlStatement type="mysql">
			Create table TranslatedUsageTypeFormat (
				UsageTypeFormatId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Description Varchar(200) ,
			 Primary Key (UsageTypeFormatId,LanguageId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
	
		<sqlStatement type="mysql">
			Alter table TranslatedUsageTypeFormat add Index IX_Relationship183 (UsageTypeFormatId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedUsageTypeFormat add constraint FK_TranslatedUsageTypeFormat_Format Foreign Key (UsageTypeFormatId) references UsageTypeFormat (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedUsageTypeFormat add Index IX_Relationship184 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedUsageTypeFormat add constraint FK_TranslatedUsageTypeFormat_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedUsageTypeFormat]
			(
				[UsageTypeFormatId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Description] Varchar(200) NULL,
			Primary Key ([UsageTypeFormatId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedUsageTypeFormat] add  foreign key([UsageTypeFormatId]) references [UsageTypeFormat] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedUsageTypeFormat] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedUsageTypeFormat (
				UsageTypeFormatId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Description Varchar2(200)
			)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedUsageTypeFormat ADD  Foreign Key (UsageTypeFormatId) references UsageTypeFormat (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedUsageTypeFormat ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedUsageTypeFormat ADD Primary Key (UsageTypeFormatId,LanguageId)
		</sqlStatement>
		
		<appSettingChange type="add" section="Directory settings" setting="languageIconDir" value="images/standard/languages">
			<comment>
				The directory in which language icons located
			</comment>
		</appSettingChange>
	
	</version><version number="3.96" private="true">
		<userChangeDescription>
			More content made editable. Application settings name-for-item, companyName and applicationName turned into 'common terms' content items
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT List ON
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew, NoHTMLMarkup) VALUES (14, 'javascript', 'Javascript Messages', 'Copy in javascript pop-ups', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT List OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'bulk-upload-in-progress', 1, 'Bulk upload - Import in progress', '<p>The import is in progress.</p><p>This page will automatically refresh every 20 seconds until the import process finishes. If for some reason this does not happen you may <a href="viewDataImport">update the page</a> manually to check the status.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-import-all-files', 9, 'Label - Import all files inc zips', 'Import all files as #items# - including zips (?fileCount? files)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-extract-import-zip', 9, 'Label - Extract and import zip', 'Extract and import the contents of a zip file', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-import-from-directory', 9, 'Label - Import assets from a directory', 'Import assets from a directory', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-user-group', 9, 'Label - User Group', 'User Group:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-import-log', 10, 'Subhead - Import Log', 'Import Log:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-find-users', 10, 'Subhead - Find Users', 'Find Users', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-bulk-update-batch', 12, 'Link - Bulk update last batch', 'Bulk update the last imported batch &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-return-cms', 12, 'Link - Return to CMS', '&laquo; Return to CMS', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-import-not-started', 13, 'Snippet - Import not started', 'Your data import could not be started. Please check that an import is not in progress already.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-errors-during-import', 13, 'Snippet - Errors during import', 'The following errors occurred during import:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-errors-starting-import', 9, 'Snippet - Errors starting import', 'The following errors occurred when trying to start the import:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-please-wait-file', 13, 'Snippet - Please wait while file processed', '<p>Please wait while your file is processed.<br />If there is no further activity then please check that the value in the File field represents a valid file.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-please-wait-upload', 13, 'Snippet - Please wait while file uploaded', '<p>Please wait while your file is uploaded. If you are uploading a large file this may take a few minutes.<br />If there is no further activity then please check that the value in the File field represents a valid file and click upload again.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-browse-file-again', 13, 'Snippet - Note: need to browse for file again', '(Please note: for browser security reasons you will need to browse to your file again.)', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-close-browser', 13, 'Snippet - CMS close browser window', 'To return to the CMS, please close this browser window.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-share-lb-other-users', 13, 'Snippet - share lightbox with users', '<p>Share #a-lightbox# <b>?lightboxName?</b> with other users</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-users-found', 13, 'Snippet - No users found', 'There are no users in the system whose details match your criteria.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-contains-x-items', 13, 'Snippet - Contains x items', 'contains <strong>?numAssetsLb?</strong> #items#', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-contains-x-item', 13, 'Snippet - Contains x item', 'contains <strong>?numAssetsLb?</strong> #item#', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-asset', 14, 'Javascript - Confirm delete asset?', 'Are you sure you want to permenantly delete this #item#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-lightbox', 14, 'Javascript - Confirm delete lightbox', 'Are you sure you want to delete this #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-add-cat-items-lightbox', 14, 'Javascript - Add all items in category to lightbox', 'Are you sure you want to add all #items# in this category to your #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-remove-all-lightbox', 14, 'Javascript - Confirm remove all from lightbox', 'Are you sure you want to remove all the #items# from your #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-link-assets', 14, 'Javascript - Confirm link assets', 'Are you sure you want to link these assets?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-remove-lightbox', 14, 'Javascript - Confirm remove lightbox', 'Are you sure you want to remove this #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-remove-all-promoted', 14, 'Javascript - Confirm remove all promoted', 'Are you sure you want to remove all promoted #items#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-add-search-lightbox', 14, 'Javascript - Add all search results to lightbox', 'Are you sure you want to add all #items# in your search results to your #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-lose-changes', 14, 'Javascript - Confirm lose changes', 'Clicking this link after making changes to the details below will cause you to lose the changes you have made. Continue?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-add-users', 14, 'Javascript - Confirm add all selected users', 'Are you sure you want to add all selected users?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-remove-all-users', 14, 'Javascript - confirm remove all users', 'Are you sure you want to remove all users?', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-contact-success', 1, 'Contact Success copy', '<p>Thank you for getting in touch. </p><p>If your message requires a response we shall be in contact as soon as possible. </p><p>Please use the menu on the left to continue using #app-name#. </p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-request-cd', 1, 'Intro - Request on Cd', '<p>Please complete the details below to request the items in your #a-lightbox# on a CD.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-manage-lightboxes', 1, 'Intro - Manage Lightboxes', '<p>Here you may add, remove, rename and reorder #lightboxes#.</p><p>Note, when you only have one #a-lightbox# it will appear as &quot;#my-lightbox#&quot;.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-manage-lightboxes-shared', 1, 'Intro - Manage Lightboxes (shared)', '<p>Here you may add, remove, rename and reorder #lightboxes#. You can also share your #lightboxes# with other users.</p><p>Note, when you only have one #a-lightbox# it will appear as &quot;#my-lightbox#&quot;. You may rename it if you wish any sharing users to see a different name.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-rename-lightbox', 1, 'Intro - Rename lightbox', '<p>Rename #a-lightbox# <strong>?prevName?</strong></p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-current-lightbox', 7, 'Tab - Current Lightbox', 'Current Lightbox', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'app-name', 8, 'Application Name', 'Asset Bank', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-add-comments', 9, 'Label - Additional comments', 'Additional comments:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-add-lightbox', 9, 'Label - Add new lightbox', 'Add a new #a-lightbox#:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-name-nc', 9, 'Label - Name (no colon)', 'Name', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-num-sharing', 9, 'Label - No. sharing', '# Sharing', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-actions', 9, 'Label - Actions', 'Actions', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-my-alias', 9, 'Label - My Alias', 'My Alias', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-owner', 9, 'Label - Owner', 'Owner', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-editable', 9, 'Label - Editable', 'Editable', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-new-name', 9, 'Label - New Name', 'New Name:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-can-edit', 9, 'Label - Can edit', 'Can edit?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-request-cd', 10, 'Heading - Request Images on CD', 'Request Images on CD', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-your-details', 10, 'Subhead - Your details', 'Your details:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-up', 12, 'Link - up', 'up', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-down', 12, 'Link - down', 'down', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-rename', 12, 'Link - rename', 'rename', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-delete', 12, 'Link - delete', 'delete', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-share', 12, 'Link - share', 'share', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-more-users', 12, 'Link - Add more users', 'Add more users &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-users', 12, 'Link - Add users', 'Add users &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-remove-all-users', 12, 'Link - Remove all users', 'Remove all users', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-yes', 12, 'Link - yes', 'yes', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-no', 12, 'Link - no', 'no', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-lb-not-shared', 13, 'Snippet - lightbox not shared', 'This #a-lightbox# is not currently shared with any other users.', 1, 3) ]]>
		</sqlStatement>

		<appSettingChange type="delete" setting="name-for-asset" />
		<appSettingChange type="delete" setting="companyName" />
		<appSettingChange type="delete" setting="applicationName" />

	</version><version number="3.97">
		
		<userChangeDescription>
			Changed reindexing to include 'quick' option and status monitor
		</userChangeDescription>

	</version><version number="3.98" private="true">
		
		<userChangeDescription>
			Customisation of application messages
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidation', 15, 'failedValidation', 'Please complete all mandatory fields.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationForField', 15, 'failedValidationForField', 'Please enter a value for the field:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationForTitle', 15, 'failedValidationForTitle', 'Please enter a value for the field: Title', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationForename', 15, 'failedValidationForename', 'Please provide a valid forename.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSurname', 15, 'failedValidationSurname', 'Please provide a valid surname.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationEmailAddress', 15, 'failedValidationEmailAddress', 'Please provide a valid email address.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationPasswords', 15, 'failedValidationPasswords', 'The password cannot be empty - please enter a value in all fields.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationPasswordsDontMatch', 15, 'failedValidationPasswordsDontMatch', 'The two new passwords you have entered do not match.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationGroupName', 15, 'failedValidationGroupName', 'You need to provide a name for the group.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationGroupDiscount', 15, 'failedValidationGroupDiscount', 'You need to specify the discount as a valid whole number.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationGroupDiscountPercent', 15, 'failedValidationGroupDiscountPercent', 'You need to specify the discount as a valid percentage between 0 and 100.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationPassword', 15, 'failedValidationPassword', 'You need to provide a password.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationDuplicateUsername', 15, 'failedValidationDuplicateUsername', 'The selected username is already in use - please try a different one, or contact us for a password reminder.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationExistingPassword', 15, 'failedValidationExistingPassword', 'Please provide the existing password as a security check.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationListValue', 15, 'failedValidationListValue', 'The list value cannot be blank.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationDateFormat', 15, 'failedValidationDateFormat', 'Please ensure dates are provided in the correct format.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationDateOrder', 15, 'failedValidationDateOrder', 'You need to make sure the start date is before the end date.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationReportType', 15, 'failedValidationReportType', 'You need to select a report type.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationUsageType', 15, 'failedValidationUsageType', 'The Usage Type value cannot be blank.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSearchCriteria', 15, 'failedValidationSearchCriteria', 'Please specify at least one search criteria.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'searchCriteriaIdRangeTooLarge', 15, 'searchCriteriaIdRangeTooLarge', 'The id range is too large. The difference between the lower and upper id should be a maximum of', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationZipDir', 15, 'failedValidationZipDir', 'You must select a zip file OR a directory.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationUsage', 15, 'failedValidationUsage', 'Please select your intended usage from the list.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationUsageTypeFormat', 15, 'failedValidationUsageTypeFormat', 'Please make sure you have provided a description and that the width and height sizes are numbers (greater than zero).', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationUse', 15, 'failedValidationUse', 'Please enter your intended use in the box provided.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationConditions', 15, 'failedValidationConditions', 'Please indicate that you accept the Conditions of Use.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationFile', 15, 'failedValidationFile', 'You need to select a valid, non-empty file to upload.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationFileExtension', 15, 'failedValidationFileExtension', 'Files added to the Image Bank must have a file extension.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationFileTypeChange', 15, 'failedValidationFileTypeChange', 'You cannot change the file type of this asset.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationUsernameExists', 15, 'failedValidationUsernameExists', 'The selected username is already in use. Please select another.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationPrice', 15, 'failedValidationPrice', 'Please enter a valid value for price.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationTALength', 15, 'failedValidationTALength', 'The text area fields have a maximum length of [0]. Please adjust the content you are trying to save.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationMustAddGroup', 15, 'failedValidationMustAddGroup', 'You must assign the user to an org unit group so that you can manage them.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationActiveDirectoryUsernamePatternMatch', 15, 'failedValidationActiveDirectoryUsernamePatternMatch', 'The format of that username cannot be used since it is reserved for Active Directory users, please try a different username.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationEmailRuleDaysBefore', 15, 'failedValidationEmailRuleDaysBefore', 'The Number of days field must be a number zero or greater.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInvalidJpegQuality', 15, 'failedValidationInvalidJpegQuality', 'The JPEG Quality must be a number between 1 and 100', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationRecipients', 15, 'failedValidationRecipients', 'Please enter one or more recipients for this email, separated by semi-colons.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAssetBoxImageSizes', 15, 'failedValidationAssetBoxImageSizes', 'Please ensure that either the height or width fields (or both) contain a value. ', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationCannotGeneratePassword', 15, 'failedValidationCannotGeneratePassword', 'You must specify a password if the user is not to be notified via email.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationBrandNotGiven', 15, 'failedValidationBrandNotGiven', 'Please select the group that you would like to register for.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationGroupNotGiven', 15, 'failedValidationGroupNotGiven', 'Please select the group that you would like to register for.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAccessLevel', 15, 'failedValidationAccessLevel', 'You need to make sure this image is in at least one access level.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSecurePassword', 15, 'failedValidationSecurePassword', 'The password must contain at least one number, one capital letter and be a minimum of 8 characters long.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorMissingId', 15, 'categoryErrorMissingId', 'Category or CategoryTree Id is missing from form parameters.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorInvalidId', 15, 'categoryErrorInvalidId', 'The ID of the category or category tree to be displayed is invalid.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorBlankName', 15, 'categoryErrorBlankName', 'The name cannot be blank.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'accessLevelErrorBlankName', 15, 'accessLevelErrorBlankName', 'An access level may not have a blank name.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorParentIdMissing', 15, 'categoryErrorParentIdMissing', 'The parent id of the category to be added is missing.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorDuplicateName', 15, 'categoryErrorDuplicateName', 'A subcategory already exists in this category with the same name.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorDuplicateAccessLevelName', 15, 'categoryErrorDuplicateAccessLevelName', 'An access level already exists at this level with the same name.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorIdToDelete', 15, 'categoryErrorIdToDelete', 'The IdToDelete parameter is missing.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryErrorIdParam', 15, 'categoryErrorIdParam', 'The Id parameter is missing (used as root category when forward to CategoryAdminAction).', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'userErrorInvalidOldPassword', 15, 'userErrorInvalidOldPassword', 'The old password you entered is incorrect.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'userErrorPasswordNotificationFailed', 15, 'userErrorPasswordNotificationFailed', 'Unable to send password notification - the email address may be invalid. The password has not been updated.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'fileError', 15, 'fileError', 'There was a problem processing the file you provided. It is possible that the file is corrupt or has the wrong file extension.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'imageFileError', 15, 'imageFileError', 'There was a problem processing the file you provided. Please ensure the file is a valid, supported image file.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'uploadedFileNotFoundError', 15, 'uploadedFileNotFoundError', 'The uploaded file could not be found, as it has been deleted. This is likely to have happen because the time between uploading the file and submitting the metadata was too long.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'fileErrorPreview', 15, 'fileErrorPreview', 'It is not possible to preview this file format in a web browser. To view the converted image you must first download it to your computer.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'imageErrorZero', 15, 'imageErrorZero', 'The image height and width must be numeric and greater than 0', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'imageErrorMax', 15, 'imageErrorMax', 'The maximum height or width of a downloaded image cannot exceed ', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetBoxNotAvailable', 15, 'assetBoxNotAvailable', 'The shared 0 you selected is no longer available.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetBoxRemoved', 15, 'assetBoxRemoved', 'The shared 0 you were using is no longer available.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetBoxErrorPermission', 15, 'assetBoxErrorPermission', 'You do not have download permission on any of the items in your lightbox.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetBoxesOutOfDate', 15, 'assetBoxesOutOfDate', 'Your available 0 have changed since the page was loaded - please try again.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'adminUserCannotBeInGroups', 15, 'adminUserCannotBeInGroups', 'If this user is an administrator then they cannot be in a group.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'relatedAssets', 15, 'relatedAssets', 'The links between the assets have been successfully created. This will be reflected when you view the detail page for any of the linked assets.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'relatedAssetsFailure', 15, 'relatedAssetsFailure', 'You need more that 1 asset to setup links.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'relatedAssetSubset1', 15, 'relatedAssetSubset1', 'Your links have been setup.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'relatedAssetSubset2', 15, 'relatedAssetSubset2', 'of the assets were not included in the links because you do not have permission to update them.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'relatedAssetSubset2Singular', 15, 'relatedAssetSubset2Singular', 'of the assets was not included in the links because you do not have permission to update it.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'relatedAssetNoPermission', 15, 'relatedAssetNoPermission', 'The links could not be setup because you need to have permission to update at least 2 of the assets in your folder.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keywordErrorDuplicateName', 15, 'keywordErrorDuplicateName', 'That keyword is already in the list.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keywordErrorKeywordNotInList', 15, 'keywordErrorKeywordNotInList', '&quot;%&quot; is not in the keyword list. Please change the keyword or add it to the master list. ', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keywordErrorKeywordIsSynonym', 15, 'keywordErrorKeywordIsSynonym', '&quot;%&quot; is a synonym of the following keyword(s): ', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keywordMissingTree', 15, 'keywordMissingTree', 'Unable to find the keyword tree to browse', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'requestUserUpdateOrgUnitLine', 15, 'requestUserUpdateOrgUnitLine', 'Selected Organisational Unit: ', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedEmailSend', 15, 'failedEmailSend', 'The email could not be sent to the administrator, please try again. If this error continues please contact the administrator.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'ecommerceValidationSelectUsage', 15, 'ecommerceValidationSelectUsage', 'Please select either personal use or commercial use to continue.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'taxInvalidPercent', 15, 'taxInvalidPercent', 'Please enter a valid number for tax percent.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subModelInvalidPrice', 15, 'subModelInvalidPrice', 'Please enter a valid price.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subModelInvalidNumDownloads', 15, 'subModelInvalidNumDownloads', 'Please enter a valid number for number of downloads.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subModelInvalidDuration', 15, 'subModelInvalidDuration', 'Please enter a valid number for duration.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subInvalidDate', 15, 'subInvalidDate', 'Please enter a valid start date, either today or in the future.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subInvalidModel', 15, 'subInvalidModel', 'Please select a subscription model.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subInvalidTsandcs', 15, 'subInvalidTsandcs', 'You must accept the conditions of the subscription to continue.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subInvalidEmailAddress', 15, 'subInvalidEmailAddress', 'You do not have a valid email address - please update your profile.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subInvalidCountry', 15, 'subInvalidCountry', 'You do not have a valid country in your address - please update your profile.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subInvalidTaxLookup', 15, 'subInvalidTaxLookup', 'Tax details could not be found for your home country. Please contact us to resolve this.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subNoDownloadsLeft', 15, 'subNoDownloadsLeft', 'You do not have enough downloads left on your subscription! Click the Subscriptions link to manage your subscriptions.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandInvalidBasePrice', 15, 'priceBandInvalidBasePrice', 'Please enter a valid value for the base price.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandInvalidUnitPrice', 15, 'priceBandInvalidUnitPrice', 'Please enter a valid value for the unit price.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandInvalidMaxQuantity', 15, 'priceBandInvalidMaxQuantity', 'Please enter a valid value for max quantity.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandInvalidShippingCost', 15, 'priceBandInvalidShippingCost', 'Please enter valid values for the shipping cost entries.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandInvalidQuantity', 15, 'priceBandInvalidQuantity', 'Please enter a valid quantity.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandMaxQuantity', 15, 'priceBandMaxQuantity', 'You can only request a maximum of % prints for each format', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandNoneSelected', 15, 'priceBandNoneSelected', 'Please select one of the options.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandMixedUsages', 15, 'priceBandMixedUsages', 'You cannot proceed with both commercial and non-commercial usages for this image. Please purchase images for commercial use separately than those from non-commercial use.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandInvalidName', 15, 'priceBandInvalidName', 'Please enter a name for the Price Band.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'GroupNoDownloadsLeft', 15, 'GroupNoDownloadsLeft', 'Sorry, you do not have any downloads left for today. Please try tomorrow.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'AssetBoxNoDownloadsLeft', 15, 'AssetBoxNoDownloadsLeft', 'Sorry, these downloads take you over your daily limit. Please remove some items or try again tomorrow.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'commercialOptionInvalidPrice', 15, 'commercialOptionInvalidPrice', 'Please enter a valid value for the price.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'commercialOptionInvalidName', 15, 'commercialOptionInvalidName', 'Please enter a name for the Commercial Option.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'commercialPurchaseNoUserNotes', 15, 'commercialPurchaseNoUserNotes', 'You must enter some notes describing your intended uses.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInvalidFormatForCms', 15, 'failedValidationInvalidFormatForCms', 'The selected file is not of a format suitable for use in the CMS', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'thumbnailFileNotImage', 15, 'thumbnailFileNotImage', 'The thumbnail file is not in a valid format. Please upload an image file, for example JPEG, GIF, PNG.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'sortAttributeNotSelected', 15, 'sortAttributeNotSelected', 'You need to select the attribute that you want to sort by.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'displayAttributeNotSelected', 15, 'displayAttributeNotSelected', 'You need to select the attribute that you want to display', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'nonNumericDisplayLength', 15, 'nonNumericDisplayLength', 'You need to input a numeric display length', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noAssetsSelectedForExport', 15, 'noAssetsSelectedForExport', 'There are no assets currently selectede for export.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noSearchResultsToExport', 15, 'noSearchResultsToExport', 'There are no search results to export.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetboxNameNotUnique', 15, 'assetboxNameNotUnique', 'The name you have entered is already in use.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetboxNameRequired', 15, 'assetboxNameRequired', 'Please enter a name.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketingGroupNameRequired', 15, 'marketingGroupNameRequired', 'Please enter a name for the marketing group.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'languageNameRequired', 15, 'languageNameRequired', 'Please enter a name for the language.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'languageCodeRequired', 15, 'languageCodeRequired', 'Please enter a code for the language.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'languageNameNotUnique', 15, 'languageNameNotUnique', 'The name you entered for the language is already in use.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'languageCodeNotUnique', 15, 'languageCodeNotUnique', 'The code you entered for the language is already in use.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateStart', 15, 'updateStart', 'Starting Update From Version % to %', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateRemovingPreviousBackup', 15, 'updateRemovingPreviousBackup', 'Removing Previous Application Backup', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateCreatingBackup', 15, 'updateCreatingBackup', 'Creating Application Backup', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateWritingApp', 15, 'updateWritingApp', 'Replacing Application Files', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateDownloadingApp', 15, 'updateDownloadingApp', 'Downloading Updated Application Files', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateXconf', 15, 'updateXconf', 'Merging Components File', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateResetCustom', 15, 'updateResetCustom', 'Reseting Customisations', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateDatabase', 15, 'updateDatabase', 'Updating Database', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateAppSettings', 15, 'updateAppSettings', 'Updating Application Settings', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateMsgProperties', 15, 'updateMsgProperties', 'Updating Messages Properties', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateAppFileChanges', 15, 'updateAppFileChanges', 'Restructuring Application Files', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateStepDone', 15, 'updateStepDone', 'Done', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'updateComplete', 15, 'updateComplete', 'Update Complete', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAssetsLocked', 15, 'failedValidationAssetsLocked', 'One or more of the assets you are trying to update is locked. You will need to wait until other users have finished updating the assets you want to update.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoAssetsSelected', 15, 'failedValidationNoAssetsSelected', 'Please tick one or more of the assets you would like to include in a bulk update, or click cancel to return to the batch update home screen.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoAttributes', 15, 'failedValidationNoAttributes', 'Please select one or more attributes that you would like to update, or click cancel to return to the batch update home screen.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoAssetsFound', 15, 'failedValidationNoAssetsFound', 'That search did not find any assets that you can update. Please search again.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedLoginIPBlock', 15, 'failedLoginIPBlock', 'You have been prevented from logging in, since your IP address is not in the accepted range. Please contact your administrator.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'edmSelectAttribute', 15, 'edmSelectAttribute', 'You need to select the attribute for this mapping', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'edmSelectValue', 15, 'edmSelectValue', 'You need to select the embedded data value for this mapping', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'edmUploadsDownloads', 15, 'edmUploadsDownloads', 'You need to select whether this mapping applies to uploads or downloads', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'edmAlreadyExists', 15, 'edmAlreadyExists', 'This mapping already exists - please edit the existing entry', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noFilterName', 15, 'noFilterName', 'You need to provide a name for this filter', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.99" private="true">
		
		<userChangeDescription>
			Changed category reindex to ignore limit check and always reindex asynchronously
		</userChangeDescription>

		<appSettingChange type="delete" setting="immediate-reindex-items-limit" />
		<appSettingChange type="delete" setting="reindex-hour-of-day" />
		<appSettingChange type="delete" setting="reindex-serialization-filename" />
	
	</version><version number="3.100" private="true">
		
		<userChangeDescription>
			Language enhancements
		</userChangeDescription>	
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, LanguageId, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-language', 1, 9, 'Label - Language', 'Language:', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.101" private="true">
		
		<userChangeDescription>
			RTL Language enhancements
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'no-search-results-query', 13, 'Snippet - No Search Results (query)', 'Your search for &quot;?sQuery?&quot; did not match any #items#', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'no-search-results', 13, 'Snippet - No Search Results', 'Your search did not match any #items#', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results-query-max', 13, 'Snippet - Search Results (query max)', 'Your search for &quot;?sQuery?&quot; returned over ?numberHits? results ', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results-query', 13, 'Snippet - Search Results (query)', 'Your search for &quot;?sQuery?&quot; returned ?numberHits? results ', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results-query-one', 13, 'Snippet - Search Results (query one)', 'Your search for &quot;?sQuery?&quot; returned ?numberHits? result	', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results-max', 13, 'Snippet - Search Results (max)', 'Your search returned over ?numberHits? results', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results', 13, 'Snippet - Search Results', 'Your search returned ?numberHits? results', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results-one', 13, 'Snippet - Search Results (one)', 'Your search returned ?numberHits? result', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'lb-item-lightbox', 13, 'Snippet - Item in Your Lightbox', 'There is <strong>?numItems?</strong> #item# in your #a-lightbox#.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'lb-item-lightboxes', 13, 'Snippet - Item in This Lightbox', 'There is <strong>?numItems?</strong> #item# in this #a-lightbox#.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'lb-items-lightbox', 13, 'Snippet - Items in Your Lightbox', 'There are <strong>?numItems?</strong> #items# in your #a-lightbox#.	', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'lb-items-lightboxes', 13, 'Snippet - Items in This Lightbox', 'There are <strong>?numItems?</strong> #items# in this #a-lightbox#.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.102">
		
		<userChangeDescription>
			Added content for multiple language support
		</userChangeDescription>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'term-for-english', 8, 'Term for English', 'English', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'category-root', 8, 'Category root name', 'Categories', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'category-node', 8, 'Category node name', 'category', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'category-nodes', 8, 'Category node name plural', 'categories', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'access-level-root', 8, 'Access level root name', 'Access Levels', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'access-level-node', 8, 'Access level node name', 'access level', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'access-level-nodes', 8, 'Access level node name plural', 'access levels', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keyword-root', 8, 'Keyword root name', 'Keywords', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keyword-node', 8, 'Keyword node name', 'keyword', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keyword-nodes', 8, 'Keyword node name plural', 'keywords', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="delete" setting="categories-root-name1" />
		<appSettingChange type="delete" setting="categories-root-name2" />
		<appSettingChange type="delete" setting="categories-root-name3" />
		<appSettingChange type="delete" setting="categories-node-name1" />
		<appSettingChange type="delete" setting="categories-node-name2" />
		<appSettingChange type="delete" setting="categories-node-name3" />
		<appSettingChange type="delete" setting="categories-nodes-name1" />
		<appSettingChange type="delete" setting="categories-nodes-name2" />
		<appSettingChange type="delete" setting="categories-nodes-name3" />
		
		<appSettingChange type="add" setting="show-translations-when-adding-keyword" value="false" section="Keyword taxonomy config">
			<comment>
				Show any alternative language input fields when adding a keyword via the keyword popup
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Language ADD UsesLatinAlphabet Bool DEFAULT 1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Language ADD UsesLatinAlphabet Tinyint DEFAULT 1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Language ADD UsesLatinAlphabet Char(1) DEFAULT 1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedFilter (
				FilterId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(200) ,
			 Primary Key (FilterId,LanguageId)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedFilter add Index IX_Relationship186 (LanguageId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedFilter add constraint FK_TranslatedFilter_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedFilter add Index IX_Relationship185 (FilterId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedFilter add constraint FK_TranslatedFilter_Filter Foreign Key (FilterId) references Filter (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedFilter]
			(
				[FilterId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Varchar(200) NULL,
			Primary Key ([FilterId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedFilter] add  foreign key([FilterId]) references [Filter] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedFilter] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedFilter (
				LanguageId Double precision NOT NULL ,
				FilterId Double precision NOT NULL ,
				Name Varchar2(200))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedFilter ADD  Foreign Key (FilterId) references Filter (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedFilter ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedFilter ADD Primary Key (FilterId,LanguageId)
		</sqlStatement>
		
	</version><version number="3.103">
		
		<userChangeDescription>
			Added 'refine your search' functionality
		</userChangeDescription>
	
		<sqlStatement type="all">
			UPDATE ListItem SET Body='New Search ' WHERE Identifier='link-search-again'
		</sqlStatement>
	
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'refine-search-results', 12, 'Link - Refine results', 'Refine results ', 1, 2)
		</sqlStatement>
		
	</version><version number="3.104">

		<userChangeDescription>
			Made Browser titles editable
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT List ON
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew, NoHTMLMarkup) VALUES (16, 'titles', 'Broswer Titles', 'Copy for browser titles', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT List OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-profile-changed', 1, 'Intro - Profile Changed', '<p>Your profile has successfully been updated.</p><p>Please use the left hand menu to continue using the Image Bank.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-password-changed', 1, 'Intro - Password Changed', '<p>Your password has successfully been updated.</p><p>Please use the left hand menu to continue using the Image Bank.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-update-result-1', 1, 'Intro - Update Result 1', '<p>The #item# has been submitted to an admin user for approval - you will not be able to see this #item# until it has been approved.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-update-result-2', 1, 'Intro - Update Result 2', '<p>Please select an option from the left-hand menu, or <a href="../action/viewHome">return to the home page</a>.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-batch-finished-1', 1, 'Intro - Batch Finished 1', '<p>Your search did not return any #items# that you can update.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-batch-finished-2', 1, 'Intro - Batch Finished 2', '<p>Some of the #items# you searched for are locked by another user - you will be able to see those #items# once the other user has finished with them.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-batch-finished-3', 1, 'Intro - Batch Finished 3', '<p>You have finished updating the #items# in your batch.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-login-page', 16, 'Title - Login page', '#company-name# | #login-title#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-home-page', 16, 'Title - Home page', '#company-name# | Home Page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-lightbox', 16, 'Title - Lightbox', '#company-name# | #a-lightbox#: ?lightBoxName?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-contact', 16, 'Title - Contact', '#company-name# | #heading-contact#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-content', 16, 'Title - Content', '#company-name# | ?extraContentPageName?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-lightbox', 16, 'Title - Download Lightbox', '#company-name# | #heading-download# #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-lightbox-result', 16, 'Title - Download Lightbox  Result', '#company-name# | #my-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-failure', 16, 'Title - Download Failure', '#company-name# | #heading-download-failure#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-file', 16, 'Title - Download File', '#company-name# | #heading-download-file#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-image', 16, 'Title - Download Image', '#company-name# | #heading-download-image#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-email-item', 16, 'Title - Email item', '#company-name# | #heading-email-item#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-email-sent', 16, 'Title - Email sent', '#company-name# | #heading-email-sent#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-manage-lightboxes', 16, 'Title - Manage Lightboxes', '#company-name# | Manage #lightboxes#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-forgotten-password', 16, 'Title - Forgotten Password', '#company-name# | #heading-forgotten-password#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-preview-image', 16, 'Title - Preview Image', '#company-name# | #heading-download-image-preview#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-promoted-images', 16, 'Title - Promoted Images', '#company-name# | #heading-promoted#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-recent-images', 16, 'Title - Recent Images', '#company-name# | #heading-recent#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-register', 16, 'Title - Register', '#company-name# | #heading-register#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-rename-lightbox', 16, 'Title - Rename Lightbox', '#company-name# | Rename #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-request-cd', 16, 'Title - Request Cd', '#company-name# | #heading-request-cd#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-search-results', 16, 'Title - Search Results', '#company-name# | #heading-search-results#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-share-lightbox', 16, 'Title - Share Lightbox', '#company-name# | Share #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-audio-details', 16, 'Title - Audio Details', '#company-name# | #heading-audio-details#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-asset-details', 16, 'Title - Asset Details', '#company-name# | #heading-asset-details#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-image-details', 16, 'Title - Image Details', '#company-name# | #heading-image-details#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-video-details', 16, 'Title - Video Details', '#company-name# | #heading-video-details#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-approve-items', 16, 'Title - Approve Items', '#company-name# | #heading-approve-items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-request-approval', 16, 'Title - Request Approval', '#company-name# | #heading-request-approval#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-upload', 16, 'Title - Upload', '#company-name# | #heading-upload#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-upload-success', 16, 'Title - Upload Success', '#company-name# | #heading-upload-success#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-batch-update-finished', 16, 'Title - Batch Update Finished', '#company-name# | #heading-batch-update-finished#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-batch-update', 16, 'Title - Batch Update', '#company-name# | #heading-batch-update#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-bulk-update', 16, 'Title - Bulk Update', '#company-name# | #heading-bulk-update#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-reindex', 16, 'Title - Reindex', '#company-name# | #heading-reindex#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-start-import', 16, 'Title - Start Import', '#company-name# | #heading-start-import#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-update', 16, 'Title - Update', '#company-name# | #heading-update#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-step1-upload', 16, 'Title - Step 1 Upload', '#company-name#  | #heading-step-1-upload#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-bulk-upload', 16, 'Title - Bulk Upload', '#company-name# | #heading-bulk-upload#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-browse', 16, 'Title - Browse', '#company-name# | #heading-browse#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-all-cats', 16, 'Title - All categories', '#company-name# | #heading-all-cats#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-not-found', 16, 'Title - Asset not found', '#company-name# | #heading-not-found#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-keywords', 16, 'Title - Keywords', '#company-name# | #heading-keywords#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-about', 16, 'Title - About', '#company-name# | #heading-about#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-your-password', 16, 'Title - Your Password', '#company-name# | #heading-your-password#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-password-changed', 16, 'Title - Password Changed', '#company-name# | #heading-password-changed#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-your-profile', 16, 'Title - Your Profile', '#company-name# | #heading-your-profile#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-profile-changed', 16, 'Title - Profile Changed', '#company-name# | #heading-profile-changed#', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.105" private="true">

		<userChangeDescription>
			Additional content added to cms
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-request-approval', 1, 'Intro - Request Approval', '<p>You are about to request the #items# listed.	Use the notes field to provide relevant information, e.g. intended use.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-message-from-admin', 9, 'Label - Message from administrator', 'Message from administrator:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-intended-use', 9, 'Label - Intended Use', 'Intended Use:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-your-notes', 9, 'Label - Your notes', 'Your notes:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-crop-image-intro', 13, 'Snippet - Crop image intro', '<p>Leave default values if you do not want to crop</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-cats-selected', 13, 'Snippet - No cats selected', '<em>*If no categories are selected, all categories will be searched. </em>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-show-items-in', 13, 'Snippet - Show items that are in', 'Show #items# that are in', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-any', 13, 'Snippet - any (dropdown)', 'any', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-all', 13, 'Snippet - all (dropdown)', 'all', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-of-selected-cats', 13, 'Snippet - of selected cats', 'of the selected #category-nodes#', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-dl-add-lightbox', 13, 'Snippet - Request permission DL via lightbox', 'You can request permission to download this #item# by adding it to your #a-lightbox#.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-dl-via-lightbox', 13, 'Snippet - Request permission DL via lightbox', 'You can request permission to download this #item# from your <a href="../action/viewAssetBox">#a-lightbox#</a>', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-cat-no-subcats', 13, 'Snippet - Cat has no subcats', '<p>This ?browseableName? has no sub?browseablesName?.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-your-notes', 13, 'Snippet - Your approval notes', 'You added the following notes about intended usage for this image:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-admin-notes', 13, 'Snippet - Administrator approval notes', 'The administrator has added the following notes regarding usage for this image:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-ensure-access-item', 13, 'Snippet - ensure access item', 'so please ensure that you access the item before then.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-made-request-on', 13, 'Snippet - made request on', 'You made a request for this item on', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-approved-on', 13, 'Snippet - request approved on', 'Your request was approved on', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-rejected-on', 13, 'Snippet - request rejected on', 'Your request was rejected on', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-approval-expires-on', 13, 'Snippet - approval expires on', 'Approval for this item expires on', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-approval-notes', 16, 'Title - Approval Notes', '#company-name# | #heading-approval-notes#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-dl-lightbox-zip', 10, 'Subhead - dl lightbox as zip file', 'Download all the items in your #a-lightbox# as a compressed zip file', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-zip-perm-items', 13, 'Snippet - Zip only include permissable items', '<p><em>Please note: the zip file will only include items you have permission to download.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-zip-noperm-original', 13, 'Snippet - Zip no perm dl original', '<p><em>Please note: for some images you do not have permission to download the original, hence this option will not be available for this batch.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-zip-noperm-advanced', 13, 'Snippet - Zip no perm advanced', '<p><em>Please note: for some images you do not have permission to perform an advanced conversion, hence this option will not be available for this batch.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-login-request-approval', 13, 'Snippet - Need to login to request approval', '<p>You need to log in to your account before you can request approval for these #items#.</p>	', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.106" private="true">
	
		<userChangeDescription>
			Changes to support UTF8 character set data for multi language support
		</userChangeDescription>
	
		<appSettingChange section="Database type" setting="databaseSupportsUTF8" value="true" type="add" databaseType="mysql">
			<comment>
				Does the database support UTF8 data? If not, non-ascii characters will be stored as html escaped point codes - the db schema should be adapted for this if required (1 char = 7 bytes)
			</comment>
		</appSettingChange>
		
		<appSettingChange section="Database type" setting="databaseSupportsUTF8" value="false" type="add" databaseType="oracle">
			<comment>
				Does the database support UTF8 data? If not, non-ascii characters will be stored as html escaped point codes - the db schema should be adapted for this if required (1 char = 7 bytes)
			</comment>
		</appSettingChange>
		
		<appSettingChange section="Database type" setting="databaseSupportsUTF8" value="false" type="add" databaseType="sqlserver">
			<comment>
				Does the database support UTF8 data? If not, non-ascii characters will be stored as html escaped point codes - the db schema should be adapted for this if required (1 char = 7 bytes)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="delete" setting="validLocales" />
		
		<sqlStatement type="mysql">ALTER TABLE Asset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetBox CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetBankUser CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CM_Category CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AttributeValue CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetAttributeValue CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Attribute CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CM_CategoryType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetBoxAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CM_ItemInCategory CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE UserGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AttributeType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ImageAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CategoryVisibleToGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE GroupAttributeExclusion CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AttributeVisibleToGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE UserInGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE UsageType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetUse CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetDownloadType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE FileFormat CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SystemSetting CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetView CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetApproval CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ApprovalStatus CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE OrgUnit CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE OrgUnitGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ABOrder CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetPurchaseLog CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SearchReport CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE UsageTypeFormat CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ChangeAttributeValueDateRule CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SendEmailDateRule CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE GroupEmailRule CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE RelatedAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE GroupUsageExclusion CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE List CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ListItem CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Division CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE PromotedAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SubscriptionModel CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Subscription CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE GroupInSubscriptionModel CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Address CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Country CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TaxType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TaxValue CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TaxRegion CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CountryInTaxRegion CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SubscriptionModelUpgrade CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE VideoAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SortAttribute CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE SortArea CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE FeaturedAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE PriceBand CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE PriceBandType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE PriceBandUsage CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ShippingCost CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE QuantityRange CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetBoxPriceBand CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CommercialOption CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE OrderStatus CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetPurchasePriceBand CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE OrderWorkflow CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE CommercialOptionPurchase CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Brand CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE FeaturedAssetInBrand CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AudioAsset CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ListItemTextType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Role CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE GroupIsRole CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Language CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE EmailTemplate CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE DisplayAttribute CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE AssetBoxShare CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE EmbeddedDataMapping CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE EmbeddedDataValue CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE EmbeddedDataType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE MappingDirection CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ScheduledReport CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE ScheduledReportGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE Filter CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE FilterAttributeValue CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE MarketingGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE UserInMarketingGroup CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TranslatedAttribute CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TranslatedAttributeValue CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TranslatedCategory CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TranslatedUsageType CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TranslatedUsageTypeFormat CONVERT TO CHARSET 'utf8'</sqlStatement>
		<sqlStatement type="mysql">ALTER TABLE TranslatedFilter CONVERT TO CHARSET 'utf8'</sqlStatement>
	</version><version number="3.107" private="true">
	
		<userChangeDescription>
			Updated data model so that large text data is stored in MediumText rather than Text columns
		</userChangeDescription>
		
		<appSettingChange type="add" setting="databaseUsesNationalCharacterTypes" value="false" section="Database type">
			<comment>
				Are character datatypes using the 'national' equaivalents? (i.e 'N' prefixed unicode versions NVarchar, NChar, NClob, etc.)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser MODIFY COLUMN RegistrationInfo Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser MODIFY COLUMN AdminNotes Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE CM_Category MODIFY COLUMN Description Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AttributeValue MODIFY COLUMN Value Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetApproval MODIFY COLUMN AdminNotes Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetApproval MODIFY COLUMN UserNotes Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ABOrder MODIFY COLUMN UserNotes Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE SendEmailDateRule MODIFY COLUMN EmailText Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ListItem MODIFY COLUMN Summary Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE CommercialOption MODIFY COLUMN Description Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE CommercialOption MODIFY COLUMN Terms Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE CommercialOptionPurchase MODIFY COLUMN Description Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE EmailTemplate MODIFY COLUMN Body Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttributeValue MODIFY COLUMN Value Mediumtext
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedCategory MODIFY COLUMN Description Mediumtext
		</sqlStatement>
		
	</version><version number="3.108" private="true">
	
		<userChangeDescription>
			Change to message language
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET LanguageId=1 WHERE Identifier='homepage-not-logged-in'
		</sqlStatement>

	</version><version number="3.109" updaterChanged="true" fileArchive="app.zip">
		
		<userChangeDescription>
			Change to updater to allow data source component to be changed in components.xconf
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />
		
	</version><version number="3.110" private="true">
	
		<userChangeDescription>
			Update to change data source component in components.xconf
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />
		
	</version><version number="3.111" private="true">
	
		<userChangeDescription>
			Setting default value for multi-language support
		</userChangeDescription>
		
		<appSettingChange type="update" setting="supportMultiLanguage" value="false" />
		
	</version><version number="3.112" private="true">

		<userChangeDescription>
			Added footer copy to cms
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'footer-copy', 1, 'Footer copy', '<p><span>&copy; 2007 <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-conditions', 1, 'Title - Conditions', '#company-name# | Terms and Conditions', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.113">

		<userChangeDescription>
			Add max file upload size
		</userChangeDescription>

		<appSettingChange type="add" setting="max-upload-file-size" value="-1" section="Upload options">
			<comment>
				The maximum file upload size (in kilobytes) for non admin users (set to -1 for no limit)
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'maxUploadSizeExceeded', 15, 'maxUploadSizeExceeded', 'The file you are trying to upload exceeds the maximum upload size.', 1, 2)
		</sqlStatement>

	</version><version number="3.114" private="true">
	
		<appSettingChange type="add" setting="cms-destination-filenames-unique" value="true" section="CMS integration settings">
			<comment>
				Whether filenames of files copied to the CMS area should be made unique, or used as-is in order that existing files are replaced
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="cms-file-transfer-method" value="local" section="CMS integration settings">
			<comment>
				The method of file transfer between the AssetBank application and an external CMS. Currently can be one of: 'local', 'scp' or 'sftp'
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="cms-remote-host" value="localhost" section="CMS integration settings">
			<comment>
				The host name to use if cms file transfer is 'scp' or 'sftp' - ignored if cms-file-transfer-method=local 
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="cms-remote-port" value="22" section="CMS integration settings">
			<comment>
				The port number to use if cms file transfer is 'scp' or 'sftp' - ignored if cms-file-transfer-method=local 
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="cms-remote-username" value="guest" section="CMS integration settings">
			<comment>
				The username to use if cms file transfer is 'scp' or 'sftp' - ignored if cms-file-transfer-method=local 
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="cms-remote-password" value="" section="CMS integration settings">
			<comment>
				The password to use if cms file transfer is 'scp' or 'sftp' - ignored if cms-file-transfer-method=local
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="known-hosts-file" value="" section="CMS integration settings">
			<comment>
				The local path to the know_hosts file containing ssh rsa keys (required for scp, sftp, etc.)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="api-remote-download-destination-filenames-unique" value="false" section="API Settings">
			<comment>
				Whether filenames of files copied to the remote location should be made unique, or used as-is in order that existing files are replaced
			</comment>
		</appSettingChange>
	
		<appSettingChange type="add" setting="api-remote-download-method" value="sftp" section="API Settings">
			<comment>
				The method of file transfer between the AssetBank application and the remote download location
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="api-remote-download-host" value="localhost" section="API Settings">
			<comment>
				The host name to use for connection to the remote download location
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="api-remote-download-port" value="22" section="API Settings">
			<comment>
				The port number to use for connection to the remote download location
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="api-remote-download-username" value="guest" section="API Settings">
			<comment>
				The username to use  for connection to the remote download location
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="api-remote-download-password" value="" section="API Settings">
			<comment>
				The password to use  for connection to the remote download location
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD COLUMN OnChangeScript Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD OnChangeScript Text
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD OnChangeScript Clob
		</sqlStatement>
		
	</version><version number="3.115">
		
		<userChangeDescription>
			Enable HTML attributes
		</userChangeDescription>
		
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD IsHtml TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD IsHtml INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD IsHtml INTEGER DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-skip', 13, 'Snippet - skip (dropdown)', 'Skip', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-replace', 13, 'Snippet - replace (dropdown)', 'Replace', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-append', 13, 'Snippet - append (dropdown)', 'Append', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.116" private="true">

		<userChangeDescription>
			Added additional copy to cms
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-preview-clip', 13, 'Snippet - preview clip', 'preview clip', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-view-preview', 13, 'Snippet - view preview', 'view preview', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-download-preview', 13, 'Snippet - download preview', 'download preview', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-edit-content-item', 16, 'Title - Edit Content Item', '#company-name# | Edit Content Item', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.117">
		
		<userChangeDescription>
			Add concept of asset metadata completeness based on attribute content
		</userChangeDescription>
		
		<appSettingChange type="add" setting="allow-search-by-completeness" value="false" section="General config">
			<comment>
				Should the advanced search (for users who can upload assets) include a drop-down list for selecting 'completeness' of assets?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="hide-incomplete-assets" value="false" section="General config">
			<comment>
				Should 'incomplete' assets (i.e. those with at least one empty 'required for completeness' attribute) be hidden from users without upload permissions?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD IsRequiredForCompleteness TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD IsRequiredForCompleteness INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD IsRequiredForCompleteness INTEGER DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-completeness', 9, 'Label - Completeness', 'Completeness:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-applies-to-language', 13, 'Snippet - Applies to language', 'Applies to the current language only', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.118">

		<userChangeDescription>
			Added video conversion functionality for downloads
		</userChangeDescription>

 		<sqlStatement type="all">
			UPDATE FileFormat SET IsConversionTarget=1 WHERE FileExtension='mpg'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE FileFormat SET IsConversionTarget=1 WHERE FileExtension='wmv'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE FileFormat SET IsConversionTarget=1 WHERE FileExtension='flv'
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'video-conversion-preview-copy', 1, 'video-conversion-preview-copy', '<br/><p><i>Clicking the ''preview'' button below will allow you to download a ?preview-duration? second preview of the video in the format/quality that you select so you can assess whether you are happy with it before converting the whole video. Clicking ''preview'' will override any value you enter into the duration field of the advanced download options.</i></p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-frameRate', 9, 'Label - Frame Rate', 'Frame Rate (fps)', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-audioSampleRate', 9, 'Label - Audio Sample Rate', 'Audio Sample Rate (Hz)', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-video-conversion-status', 16, 'Title - Video Conversion Status', 'Video Conversion Status', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-video-conversion-status', 10, 'Heading - Video Conversion Status', 'Video Conversion Status', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'video-conversion-advanced-copy', 1, 'Copy - Video Conversion Advanced Copy', '<em><p>You can use the following form to adjust the frame rate (fps) and audio sample rate (Hz) of the converted video.</p><p>In both cases, selecting a value higher than the input video''s value will result in no change.</p><p>You can also select to download a particular chunk of the video by setting the offset start position and the duration you want to download.</p></em>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-download', 7, 'Tab - Download', 'Download', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">		
			 INSERT INTO SystemSetting (Id,Value) VALUES ('DownloadId','1')
		</sqlStatement>
		
		<appSettingChange type="add" setting="video-conversion-preview-duration" value="10" section="Server settings">
			<comment>
				The duration for the preview video conversion download (in seconds)
			</comment>
		</appSettingChange>


		<appSettingChange type="add" setting="enable-video-conversions" value="false" section="Server settings">
			<comment>
				Whether video conversions are allowed
			</comment>
		</appSettingChange>

	</version><version number="3.119" private="true">
		
		<userChangeDescription>
			Defect fixes for multi-language functionality
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			UPDATE Language SET IsSuspended=0 WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			UPDATE Language SET IsSuspended=0 WHERE Id=1
		</sqlStatement>
		
		<sqlStatement type="oracle">
			UPDATE Language SET IsSuspended='0' WHERE Id=1
		</sqlStatement>
		
	</version><version number="3.120" private="true">
		
		<userChangeDescription>
			General defect fixes
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET AddrFrom='imagebank@bright-interactive.com' WHERE TextId='asset_attached' ]]>
		</sqlStatement>
		
	</version><version number="3.121">
		
		<userChangeDescription>
			Allow hyperlinks to be added as attributes
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO AttributeType (Id,Name) VALUES (9,'Hyperlink')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>
	
	
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD DisplayName Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD DisplayName Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD DisplayName Varchar2(255)
		</sqlStatement>
		
		
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD BaseUrl Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD BaseUrl Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD BaseUrl Varchar2(255)
		</sqlStatement>
		
		
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD AltText Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD AltText Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD AltText Varchar2(255)
		</sqlStatement>
		
		
		
		<sqlStatement type="mysql">	
			 ALTER TABLE TranslatedAttribute ADD AltText Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE TranslatedAttribute ADD AltText Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE TranslatedAttribute ADD AltText Varchar2(255)
		</sqlStatement>
		
		
		<sqlStatement type="mysql">	
			 ALTER TABLE TranslatedAttribute ADD DisplayName Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE TranslatedAttribute ADD DisplayName Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE TranslatedAttribute ADD DisplayName Varchar2(255)
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-verify-links', 9, 'Label - Verify link(s)', 'Verify...', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.122" private="true">

		<userChangeDescription>
			Modified to allow for featured image to change with refresh and preview image to be available in search results
		</userChangeDescription>

		<userChangeDescription>
			*** NOTE: After this update you will need to reindex the assets (in Admin &gt; Attributes) ***
		</userChangeDescription>

		<userPostUpdateMessage>
			After this update you will need to reindex the assets (in Admin &gt; Attributes).
		</userPostUpdateMessage>
		
		<appSettingChange type="add" setting="change-featured-image-on-refresh" value="false" section="general config">
			<comment>
				Should the featured image change everytime the page is refreshed?
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="search-results-hover-preview" value="false" section="general config">
			<comment>
				Should there be a preview image that shows when a user hovers over a search result?
			</comment>
		</appSettingChange>

	</version><version number="3.123" private="true">

		<userChangeDescription>
			Update to extend concept of asset 'completeness'
		</userChangeDescription>
	
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-req-for-completeness-fields', 13, 'Snippet - Fields required for completeness', '<em>Those fields marked with 2 asterisks (<span class="required requiredForCompleteness">**</span>) are additionally required for the data to be considered complete.</em>', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.123.1" updaterChanged="true" fileArchive="app.zip">
		
		<userChangeDescription>
			Restart required
		</userChangeDescription>
		
	</version><version number="3.124" private="true">

		<userChangeDescription>
			Removed unnessecary updater messages
		</userChangeDescription>
	
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateStart'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateRemovingPreviousBackup'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateCreatingBackup'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateWritingApp'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateDownloadingApp'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateXconf'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateResetCustom'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateDatabase'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateAppSettings'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateMsgProperties'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateAppFileChanges'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateStepDone'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='updateComplete'
		</sqlStatement>
		
	</version><version number="3.125" private="true">

		<userChangeDescription>
			Additional content added to the cms.
		</userChangeDescription>

		<sqlStatement type="all">	
			<![CDATA[ UPDATE ListItem SET Body='<h2>Step 1: Upload files</h2><p>To import files in bulk, you first need to transfer the files to the server. Click the Upload files button below and then browse to and select the files you want to import. When you have finished uploading files, click the next button to enter metadata.</p>' WHERE Identifier='intro-bulk-upload-1' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-flash-unsupported', 13, 'Snippet - Flash not supported', 'Sorry your browser does not support flash. Please choose a different upload method.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-need-js-enabled', 13, 'Snippet - Need javascript for uploader', '<strong>Note:</strong> You need javascript enabled for this uploader to work', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES 	(1,'snippet-choose-upload-method', 13, 'Snippet - Choose upload method', 'Chose your upload method:', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-upload-browser', 13, 'Snippet - Upload with browser', 'Upload files with your browser', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-upload-ftp', 13, 'Snippet - Upload with ftp', 'Upload files with FTP', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-choose-diff-frame', 12, 'Link - Choose different frame', 'Choose a different frame for thumbnail &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-select-vid-thumb', 1, 'Intro - Select Video Thumbnail', '<p>Click the frame you would like to use as your preview thumbnail from the selection below.</p><p>Use the &#39;next&#39; and &#39;previous&#39; links to move through the movie.</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-related-items', 13, 'Snippet - Has related items', 'This #item# has <a href="#related" title="go to related #items#">related #items#</a>.', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.126" private="true">

		<userChangeDescription>
			Filter and hyperlink enhancements
		</userChangeDescription>
		
	</version><version number="3.127">

		<userChangeDescription>
			Allow a usage type size to be omitted if the image is smaller than the defined size 
		</userChangeDescription>

		<sqlStatement type="mysql">	
			 ALTER TABLE UsageTypeFormat ADD OmitIfLowerRes TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE UsageTypeFormat ADD OmitIfLowerRes INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE UsageTypeFormat ADD OmitIfLowerRes INTEGER DEFAULT 0
		</sqlStatement>

	</version><version number="3.128">

		<userChangeDescription>
			Asset change log functionality
		</userChangeDescription>	
	
		<sqlStatement type="mysql">	
		Create table AssetChangeLog (
			UserId Bigint NOT NULL,		
			ChangeTime Datetime NOT NULL,
			LogEntry Mediumtext,
			AssetId Bigint NOT NULL) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table AssetChangeLog add Index IX_Relationship199 (UserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table AssetChangeLog add constraint FK_AssetChangeLog_User Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table AssetChangeLog add Index IX_Relationship200 (AssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table AssetChangeLog add constraint FK_AssetChangeLog_Asset Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [AssetChangeLog]
			(
				[UserId] Integer NOT NULL,			
				[AssetId] Integer NOT NULL,
				[ChangeTime] Datetime NOT NULL,
				[LogEntry] Varchar(4000) NULL
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetChangeLog] add  foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetChangeLog] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="oracle">	
			Create table AssetChangeLog 
			(
				UserId Double precision NOT NULL ,
				AssetId Double precision NOT NULL ,
				ChangeTime Date NOT NULL ,
				LogEntry Varchar2 (4000)
			) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetChangeLog add  foreign key (AssetId) references Asset (Id)
		</sqlStatement> 
		
		<sqlStatement type="oracle">
			Alter table AssetChangeLog add  foreign key (UserId) references AssetBankUser (Id) 
		</sqlStatement> 
		
		<sqlStatement type="oracle">
			CREATE SEQUENCE AssetChangeLogSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement> 
		
		<appSettingChange type="add" setting="log-changes-to-assets" value="false" section="general config">
			<comment>
				Should changes to assets be logged
			</comment>
		</appSettingChange>

	</version><version number="3.129" private="true">

		<userChangeDescription>
			Privacy enhancement for mass emailing
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE EmailTemplate SET AddrTo='imagebank@bright-interactive.com' WHERE TextId='user_message'
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE EmailTemplate SET AddrBcc='#userEmails#;' WHERE TextId='user_message'
		</sqlStatement>
		
	</version><version number="3.130">

		<userChangeDescription>
			Updated to include crop-to-fit functionality for usage type formats
		</userChangeDescription>
	
		<sqlStatement type="mysql">	
			 ALTER TABLE UsageTypeFormat ADD CropToFit TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			IF NOT EXISTS (SELECT * FROM syscolumns
			WHERE id=object_id('UsageTypeFormat') AND name='CropToFit')
			ALTER TABLE UsageTypeFormat ADD CropToFit INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE UsageTypeFormat ADD CropToFit INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-change-crop', 12, 'Link - Change Crop Area', 'Change crop area...', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-crop-undefined', 13, 'Snippet - Crop undefined', 'Crop undefined', 1, 1)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-crop-defined-prefix', 13, 'Snippet - Crop defined prefix', 'Crop defined', 1, 1)
		</sqlStatement>

		
	</version><version number="3.131">
	
		<userChangeDescription>
			Added recent and saved searches
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Create table SavedSearch (
				Name Varchar(255) NOT NULL,
				UserId Bigint NOT NULL,
				Keywords Varchar(255) ,
				FullQuery Text NOT NULL,
				HttpQueryString Text NOT NULL,
			 Primary Key (Name,UserId)) TYPE = InnoDB
			 CHARSET = utf8
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table SavedSearch add Index IX_Relationship195 (UserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table SavedSearch add constraint FK_SavedSearch_User Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [SavedSearch]
			(
				[Name] Nvarchar(255) NOT NULL,
				[UserId] Integer NOT NULL,
				[Keywords] Nvarchar(255) NULL,
				[FullQuery] Nvarchar(2000) NOT NULL,
				[HttpQueryString] Nvarchar(2000) NOT NULL,
			Primary Key ([Name],[UserId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [SavedSearch] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table SavedSearch (
			Name Varchar2(255) NOT NULL ,
			UserId Double precision NOT NULL ,
			Keywords Varchar2(255),
			FullQuery Varchar2(2000) NOT NULL,
			HttpQueryString Varchar2(2000) NOT NULL ) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table SavedSearch add primary key (Name,UserId) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table SavedSearch add  foreign key (UserId) references AssetBankUser (Id)
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-save-search', 12, 'Link - Save search', 'Save search &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-save-search', 10, 'Heading - Save Search', 'Save Search', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'maxSavedSearchesReached', 15, 'maxSavedSearchesReached', 'You have reached the maximum number of saved searches - please delete one before proceeding.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-saved-searches', 10, 'Heading - Saved Searches', 'Saved Searches', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-recent-searches', 10, 'Heading - Recent Searches', 'Recent Searches', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-advanced-search', 7, 'Tab - Advanced Search', 'Advanced Search', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-saved-searches', 7, 'Tab - Saved Searches', 'Saved &amp; Recent Searches', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-saved-searches', 13, 'Snippet - no saved searches', 'You currently don&#39;t have any saved searches.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-recent-searches', 13, 'Snippet - no recent searches', 'You haven&#39;t run any searches since logging in.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-search-term', 13, 'Snippet - no search term', 'no search term', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-saved-search', 14, 'Javascript - confirm delete saved search', 'Are you sure you want to delete this search?', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-run', 12, 'Link - run', 'run', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-save', 12, 'Link - save', 'save', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-max-saved-searches', 13, 'Snippet - max saved searches reached', 'The maximum number of saved searches has been reached - you must replace or delete an existing search.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-searches', 13, 'Snippet - save searches', 'Save search', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-most-recent-search', 13, 'Snippet - save most recent search', 'Save your most recent search...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-search-warning', 13, 'Snippet - save search warning', 'Note, if this search is saved with the same name as an existing saved search, the existing saved search will be replaced.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-saved-search-slots', 13, 'Snippet - save search slots', 'You can save up to ?savedSearchSlots? more searches.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoName', 15, 'failedValidationNoName', 'Please enter a name.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-search-section', 10, 'Heading - Search section', 'Search', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" setting="saved-searches-enabled" value="false" section="Search settings">
			<comment>
				Should the saved and recent searches functionality be enabled?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="max-saved-searches" value="10" section="Search settings">
			<comment>
				What's the maximum number of saved searches that each user can have?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="max-recent-searches" value="10" section="Search settings">
			<comment>
				What's the maximum number of recent searches that each user can have?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="asset-admin-javascript-file" value="../js/asset-admin-customisation.js" section="General config">
			<comment>
				A JavaScript file to be included on the add/edit asset pages to allow interaction with attribute onChange scripts
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD NeedsTranslationForCompleteness TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD NeedsTranslationForCompleteness INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE Attribute ADD RequiresTranslation INTEGER DEFAULT 0
		</sqlStatement>
	
	</version><version number="3.132">
	
		<userChangeDescription>
			Added multi-language capability to marketing groups, plus added marketing email templates
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			Create table TranslatedMarketingGroup (
				MarketingGroupId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(60),
				Description Varchar(255) ,
			 Primary Key (MarketingGroupId,LanguageId)) TYPE = InnoDB
			 CHARSET = utf8
		</sqlStatement>
	
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingGroup add Index IX_Relationship196 (MarketingGroupId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingGroup add constraint FK_TranslatedMarketingGroup_Group Foreign Key (MarketingGroupId) references MarketingGroup (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingGroup add Index IX_Relationship197 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingGroup add constraint FK_TranslatedMarketingGroup_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE MarketingGroup ADD IsHiddenInDefaultLanguage Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table EmailTemplateType (
				Id Bigint NOT NULL,
				Name Varchar(60) NOT NULL,
				UNIQUE (Name),
			 Primary Key (Id)) TYPE = InnoDB
			 CHARSET = utf8
		</sqlStatement>
		
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO EmailTemplateType (Id,Name) VALUES (1,'General') ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO EmailTemplateType (Id,Name) VALUES (2,'Marketing') ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE EmailTemplate ADD TypeId Bigint NOT NULL DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table EmailTemplate add Index IX_Relationship198 (TypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table EmailTemplate add constraint FK_EmailTemplate_Type Foreign Key (TypeId) references EmailTemplateType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedMarketingGroup]
			(
				[MarketingGroupId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Nvarchar(60) NULL,
				[Description] Nvarchar(255) NULL,
			Primary Key ([MarketingGroupId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedMarketingGroup] add  foreign key([MarketingGroupId]) references [MarketingGroup] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE [TranslatedMarketingGroup] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE MarketingGroup ADD IsHiddenInDefaultLanguage Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [EmailTemplateType]
			(
				[Id] Integer NOT NULL,
				[Name] Nvarchar(60) NOT NULL, UNIQUE ([Name]),
			Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO EmailTemplateType (Id,Name) VALUES (1,'General') ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO EmailTemplateType (Id,Name) VALUES (2,'Marketing') ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE EmailTemplate ADD TypeId Integer DEFAULT 1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [EmailTemplate] add  foreign key([TypeId]) references [EmailTemplateType] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedMarketingGroup (
				MarketingGroupId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(60),
				Description Varchar2(255))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedMarketingGroup ADD  Foreign Key (MarketingGroupId) references MarketingGroup (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedMarketingGroup ADD  Foreign Key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedMarketingGroup ADD Primary Key (MarketingGroupId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			CREATE SEQUENCE MarketingGroupSequence START WITH 100 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE MarketingGroup ADD IsHiddenInDefaultLanguage Integer DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table EmailTemplateType (
				Id Double precision NOT NULL ,
				Name Varchar2(60) NOT NULL  UNIQUE )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table EmailTemplateType add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO EmailTemplateType (Id,Name) VALUES (1,'General') ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO EmailTemplateType (Id,Name) VALUES (2,'Marketing') ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE EmailTemplate ADD TypeId Double precision DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table EmailTemplate add  foreign key (TypeId) references EmailTemplateType (Id)
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-refreshes-subscriptions', 13, 'Snippet - refreshes subscriptions', '(Refreshes available subscriptions)', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSubjectBody', 15, 'failedValidationSubjectBody', 'If you enter either a subject or body, you must enter both.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE FileFormat ADD PreviewInclude Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE FileFormat ADD PreviewHeight Int
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE FileFormat ADD PreviewWidth Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE FileFormat ADD PreviewInclude Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE FileFormat ADD PreviewHeight Integer
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE FileFormat ADD PreviewWidth Integer
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE FileFormat ADD PreviewInclude Varchar2(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE FileFormat ADD PreviewHeight Number
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE FileFormat ADD PreviewWidth Number
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-preview-file', 16, 'Title - Preview File', '#company-name# | Preview File', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" setting="highlight-incomplete-assets" value="false" section="General config">
			<comment>
				Should incomplete assets be highlighted in search results and browse pages?
			</comment>
		</appSettingChange>
		
	</version><version number="3.133" private="true">
	
		<userChangeDescription>
			Moved shared lightbox content to list items
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-matching-users', 10, 'Heading - Matching users', 'Matching Users', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-username-nc', 9, 'Label - Username (no colon)', 'Username', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-email-nc', 9, 'Label - Email Address (no colon)', 'Email Address', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-select', 13, 'Snippet - Select', 'Select', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-can-edit', 13, 'Snippet - Users can edit', 'Added users can edit the ', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationTemplateExists', 15, 'failedValidationTemplateExists', 'A template with that identifier already exists.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.134" private="true">
		<userChangeDescription>
			Improve register email when Organisational Units is not enabled.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body='This is an automated message generated by Asset Bank.<br><br>A user has registered to use the Asset Bank.<br><br>#orgunitname# <br><br>You can see their details, and approve or reject their application, in the &#39;Admin > Approve Users&#39; area.' WHERE TextId='user_registered' ]]>
		</sqlStatement>		

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-about-asset-bank', 1, 'Copy - About Asset Bank', '<h3>Asset Bank Version <bean:write name="version"/></h3><p>Asset Bank is an asset management solution developed by <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>.<br />For more information, and to read the online documentation, please visit <a href="http://www.assetbank.co.uk" target="_blank">http://www.assetbank.co.uk</a>.</p><h3>Image Magick</h3><p>Asset Bank makes use of <a href="http://www.imagemagick.org" target="_blank">Image Magick</a>, from ImageMagick Studio LLC.</p><br />', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-exif', 10, 'Subhead - EXIF Metadata', 'EXIF Metadata', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-iptc', 10, 'Subhead - IPTC Metadata', 'IPTC Metadata', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-xmp', 10, 'Subhead - XMP Metadata', 'XMP Metadata', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-exif', 13, 'Snippet - No EXIF info', 'This image contains no EXIF information.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-iptc', 13, 'Snippet - No IPTC info', 'This image contains no IPTC information.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-xmp', 13, 'Snippet - No XMP info', 'This image contains no XMP information.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-none', 13, 'Snippet - none', 'none', 1, 2) ]]>
		</sqlStatement>
			
		<sqlStatement type="all">	
			<![CDATA[ UPDATE ListItem SET Body='Approve #items#' WHERE Identifier='menu-approve' ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-item-not-dl', 13, 'Snippet - Item not downloaded yet', 'This #item# has not been downloaded yet.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-date-time', 9, 'Label - Date and Time', 'Date &amp; Time', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-usage-description', 9, 'Label - Usage Description', 'Usage Description', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-access-type', 9, 'Label - Access Type', 'Access Type', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-usage-info', 10, 'Subhead - Usage Info', 'Usage Information for &quot;?assetTitle?&quot;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-usage-info', 16, 'Title - Usage info', '#company-name# | View Usage Information', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-mm-print', 13, 'snippet - mm print', 'mm (print);', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-mm-screen', 13, 'snippet - mm screen', 'mm (screen);', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-mb', 13, 'snippet - Megabytes', 'Mb', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-kb', 13, 'snippet - Kilobytes', 'Kb', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.135" private="true">
	
		<userChangeDescription>
			Allow multiple lightboxes to be restricted to admin users only, plus defect fixes
		</userChangeDescription>
		
		<appSettingChange type="add" setting="multiple-lightboxes-admin-only" value="false" section="Lightbox settings">
			<comment>
				Is multiple lightbox functionality restricted to admin users only (ignored if multiple-lightboxes=false)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Subscription ALTER COLUMN IsActive SET DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Subscription MODIFY IsActive Char(1) DEFAULT '0'
		</sqlStatement>
		
		<appSettingChange type="add" section="Search settings" setting="optimise-index-hour-of-day" value="2">
			<comment>
				What hour of day (in 24 hour clock, 0-23) should the index be optimised?
			</comment>
		</appSettingChange>
		
	</version><version number="3.137" private="true">
		
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.138" private="true">
	
		<userChangeDescription>
			Version number enhancement
		</userChangeDescription>
	
		<sqlStatement type="all">	
			<![CDATA[ UPDATE ListItem SET Body='<h3>Asset Bank Version ?version?</h3><p>Asset Bank is an asset management solution developed by <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>.<br />For more information, and to read the online documentation, please visit <a href="http://www.assetbank.co.uk" target="_blank">http://www.assetbank.co.uk</a>.</p><h3>Image Magick</h3><p>Asset Bank makes use of <a href="http://www.imagemagick.org" target="_blank">Image Magick</a>, from ImageMagick Studio LLC.</p><br />' WHERE Identifier='copy-about-asset-bank' ]]>
		</sqlStatement>
	
	</version><version number="3.139" private="true">
	
		<userChangeDescription>
			SQLserver enhancements
		</userChangeDescription>
	
	</version><version number="3.140" private="true">
	
		<userChangeDescription>
			Asset completeness enhancements
		</userChangeDescription>
	
		<sqlStatement type="mysql">		
			 ALTER TABLE Attribute DROP COLUMN NeedsTranslationForCompleteness
		</sqlStatement>
		
		<!-- Cant drop in sqlserver 
		<sqlStatement type="sqlserver">		
			 ALTER TABLE Attribute DROP COLUMN NeedsTranslationForCompleteness
		</sqlStatement>		
		-->
	
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute ADD RequiresTranslation TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE Attribute ADD RequiresTranslation INTEGER DEFAULT 0
		</sqlStatement>

	</version><version number="3.141" private="true">
	
		<userChangeDescription>
			Database enhancements for hyperlink attribute
		</userChangeDescription>	
	
		<sqlStatement type="mysql">	
			 ALTER TABLE Attribute MODIFY COLUMN DisplayName varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			ALTER TABLE Attribute MODIFY COLUMN BaseUrl varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			ALTER TABLE Attribute MODIFY COLUMN AltText varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			ALTER TABLE TranslatedAttribute MODIFY COLUMN AltText varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			ALTER TABLE TranslatedAttribute MODIFY COLUMN DisplayName varchar(255)
		</sqlStatement>

	</version><version number="3.142" private="true">
	
		<userChangeDescription>
			Bulk update help text
		</userChangeDescription>	
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>For each attribute that you want to be updated in bulk, choose to either replace or append the current value, then fill in the new value in the right-hand column. Attributes will not be updated unless the corresponding drop-down is selected.</p> <p>Please note that if replace is selected and the attribute has a blank field value in the right-hand column, then the attribute value will be set to empty on all #items# in the batch.</p>' WHERE Identifier='snippet-bulk-meta-instruct' ]]>
		</sqlStatement>
		
	</version><version number="3.142.1" private="true">
		<userChangeDescription>
			Further snippets of copy added to cms
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-landscape', 13, 'Snippet - Landscape', 'Landscape', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-portrait', 13, 'Snippet - Portrait', 'Portrait', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-square', 13, 'Snippet - Square', 'Square', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-complete', 13, 'Snippet - Complete', 'Complete', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-incomplete', 13, 'Snippet - Incomplete', 'Incomplete', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-approved', 13, 'Snippet - Approved', 'Approved', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-unapproved', 13, 'Snippet - Unapproved', 'Unapproved', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-bulk-upload-date', 9, 'Label - Bulk Upload Date', 'Bulk Upload Date:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-between', 13, 'Snippet - between', 'between', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-and', 13, 'Snippet - and', 'and', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-upload-files', 10, 'Subhead - Upload files', 'Upload files', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-upload-files', 11, 'Button - Upload files', 'Upload files', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-cancel-uploads', 11, 'Button - Cancel Uploads', 'Cancel Uploads', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-is-promoted', 9, 'Label - Is Promoted?', 'Is Promoted?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-is-featured', 9, 'Label - Is Featured?', 'Is Featured?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-yes', 13, 'Snippet - Yes', 'Yes', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no', 13, 'Snippet - No', 'No', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.143" private="true">
	
		<userChangeDescription>
			Added user registration admin email, message users preview and export users and other small changes
		</userChangeDescription>
		
		<appSettingChange type="add" setting="send-admin-user-reg-emails" value="false" section="User registration/ login">
			<comment>
				When users-can-register-without-approval is set to true should admin users receive an email for each registration
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="enable-advanced-download-category-switch" value="false" section="General config">
			<comment>
				Can users switch of advanced download for certain categories?
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="marketing-groups-mandatory" value="false" section="Marketing Settings">
			<comment>
				Marketing groups mandatory
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'user registered admin','imagebank@bright-interactive.com','imagebank@bright-interactive.com','','','An Asset Bank user has registered','The following Asset Bank user has just registered:<br/><br/>Id: #id#<br/>Name: #name#<br/>Username: #username#<br/>Password: #password#<br/>Email: #email#<br/><br/>','user_registered_admin') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noUsersSelectedForExport', 15, 'noUsersSelectedForExport', 'There are no users currently selectede for export.', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-search-this-category', 12, 'Link - Search this category', 'Search this category', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationMarketingGroups', 15, 'failedValidationMarketingGroups', 'You need to select a marketing group.', 1, 2)
		</sqlStatement>

		<sqlStatement type="mysql">	
			 ALTER TABLE CM_Category ADD AllowAdvancedOptions TINYINT DEFAULT 1
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE CM_Category ADD AllowAdvancedOptions INTEGER DEFAULT 1
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE CM_Category ADD AllowAdvancedOptions INTEGER DEFAULT 1
		</sqlStatement>

		<sqlStatement type="mysql">	
			 ALTER TABLE EmailTemplate ADD Hidden TINYINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE EmailTemplate ADD Hidden INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE EmailTemplate ADD Hidden INTEGER DEFAULT 0
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE EmailTemplate SET AddrTo='#email#', AddrBcc='' WHERE TextId='user_message'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE EmailTemplate SET Code='asset emailed (linked)' WHERE TextId='asset_linked'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE EmailTemplate SET Code='asset emailed (attached)' WHERE TextId='asset_attached'
		</sqlStatement>

	</version><version number="3.144">
	
		<userChangeDescription>
			Add multi-language capability to eCommerce area, plus marketing email functionality
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Country ADD NativeName Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Country ADD NativeName Varchar2(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Country ADD NativeName Nvarchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedTaxType (
				LanguageId Bigint NOT NULL,
				TaxTypeId Bigint NOT NULL,
				Name Varchar(200) ,
			 Primary Key (LanguageId,TaxTypeId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxType add Index IX_Relationship218 (TaxTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxType add constraint FK_TranslatedTaxType_TaxType Foreign Key (TaxTypeId) references TaxType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxType add Index IX_Relationship217 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxType add constraint FK_TranslatedTaxType_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedSubscriptionModel (
				LanguageId Bigint NOT NULL,
				SubscriptionModelId Bigint NOT NULL,
				Description Varchar(250) ,
			 Primary Key (LanguageId,SubscriptionModelId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedSubscriptionModel add Index IX_Relationship207 (SubscriptionModelId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedSubscriptionModel add constraint FK_TranslatedSubscriptionModel_Sub Foreign Key (SubscriptionModelId) references SubscriptionModel (Id) on delete  restrict on update  restrict
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedSubscriptionModel add Index IX_Relationship211 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedSubscriptionModel add constraint FK_TranslatedSubscriptionModel_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedTaxRegion (
				TaxRegionId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(255) ,
			 Primary Key (TaxRegionId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxRegion add Index IX_Relationship206 (TaxRegionId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedTaxRegion add constraint FK_TranslatedTaxRegion_TaxRegion Foreign Key (TaxRegionId) references TaxRegion (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxRegion add Index IX_Relationship210 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedTaxRegion add constraint FK_TranslatedTaxRegion_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedPriceBandType (
				PriceBandTypeId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(255) ,
			 Primary Key (PriceBandTypeId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBandType add Index IX_Relationship204 (PriceBandTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBandType add constraint FK_TranslatedPriceBandType_Type Foreign Key (PriceBandTypeId) references PriceBandType (Id) on delete  restrict on update  restrict
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBandType add Index IX_Relationship203 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBandType add constraint FK_TranslatedPriceBandType_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Create table TranslatedOrderStatus (
				OrderStatusId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(255) ,
			 Primary Key (OrderStatusId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedOrderStatus add Index IX_Relationship208 (OrderStatusId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedOrderStatus add constraint FK_TranslatedOrderStatus_Status Foreign Key (OrderStatusId) references OrderStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedOrderStatus add Index IX_Relationship212 (LanguageId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedOrderStatus add constraint FK_TranslatedOrderStatus_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedCommercialOption (
				CommercialOptionId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(255) ,
				Description Mediumtext ,
				Terms Mediumtext ,
			 Primary Key (CommercialOptionId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedCommercialOption add Index IX_Relationship202 (CommercialOptionId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedCommercialOption add constraint FK_TranslatedCommercialOption_Commercial Foreign Key (CommercialOptionId) references CommercialOption (Id) on delete  restrict on update  restrict
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedCommercialOption add Index IX_Relationship201 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedCommercialOption add constraint FK_TranslatedCommercialOption_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Create table TranslatedPriceBand (
				PriceBandId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(255) ,
				Description Varchar(255) ,
			 Primary Key (PriceBandId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBand add Index IX_Relationship205 (PriceBandId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBand add constraint FK_TranslatedPriceBand_Band Foreign Key (PriceBandId) references PriceBand (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBand add Index IX_Relationship209 (LanguageId)
		</sqlStatement>
			
		<sqlStatement type="mysql">
			Alter table TranslatedPriceBand add constraint FK_TranslatedPriceBand_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table MarketingEmail (
				Id Bigint NOT NULL AUTO_INCREMENT,
				TimeSent Datetime NOT NULL,
				Name Varchar(255) ,
				Introduction Mediumtext ,
			 Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table AssetInMarketingEmail (
				AssetId Bigint NOT NULL,
				MarketingEmailId Bigint NOT NULL,
			 Primary Key (AssetId,MarketingEmailId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetInMarketingEmail add Index IX_Relationship214 (AssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetInMarketingEmail add constraint FK_AssetInMarketingEmail_Asset Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetInMarketingEmail add Index IX_Relationship2162 (MarketingEmailId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetInMarketingEmail add constraint FK_AssetInMarketingEmail_Email Foreign Key (MarketingEmailId) references MarketingEmail (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedMarketingEmail (
				MarketingEmailId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(255) ,
				Introduction Mediumtext ,
			 Primary Key (MarketingEmailId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingEmail add Index IX_Relationship216 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingEmail add constraint FK_TranslatedMarketingEmail_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingEmail add Index IX_Relationship215 (MarketingEmailId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedMarketingEmail add constraint FK_TranslatedMarketingEmail_Email Foreign Key (MarketingEmailId) references MarketingEmail (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedPriceBand]
			(
				[PriceBandId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,				
				[SubscriptionModelId] Integer NOT NULL,
				[Description] Nvarchar(250) NULL,
			Primary Key ([LanguageId],[SubscriptionModelId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedPriceBand] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedPriceBand] add  foreign key([PriceBandId]) references [PriceBand] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedPriceBandType]
			(
				[PriceBandTypeId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,				
				[Name] Nvarchar(255) NULL,
			Primary Key ([LanguageId],[PriceBandTypeId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedPriceBandType] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedPriceBandType] add  foreign key([PriceBandTypeId]) references [PriceBandType] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [TranslatedSubscriptionModel] (
				[LanguageId] Integer NOT NULL,
				[SubscriptionModelId] Integer NOT NULL,
				[Description] Nvarchar(250) ,
			 Primary Key ([LanguageId],[SubscriptionModelId]))
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedSubscriptionModel] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedSubscriptionModel] add  foreign key([SubscriptionModelId]) references [SubscriptionModel] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedTaxType]
			(
				[LanguageId] Integer NOT NULL,				[TaxTypeId] Integer NOT NULL,
				[Name] Nvarchar(200) NULL,
			Primary Key ([LanguageId],[TaxTypeId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedTaxType] add  foreign key([TaxTypeId]) references [TaxType] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedTaxType] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedCommercialOption]
			(
				[LanguageId] Integer NOT NULL,
				[CommercialOptionId] Integer NOT NULL,
				[Name] Nvarchar(255) NULL,
				[Description] Ntext NULL,
				[Terms] Ntext NULL,
			Primary Key ([LanguageId],[CommercialOptionId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedCommercialOption] add  foreign key([CommercialOptionId]) references [CommercialOption] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedCommercialOption] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedTaxRegion]
			(
				[TaxRegionId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Nvarchar(255) NULL,
			Primary Key ([TaxRegionId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedTaxRegion] add  foreign key([TaxRegionId]) references [TaxRegion] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedTaxRegion] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedOrderStatus]
			(
				[OrderStatusId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Nvarchar(255) NULL,
			Primary Key ([OrderStatusId],[LanguageId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedOrderStatus] add  foreign key([OrderStatusId]) references [OrderStatus] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedOrderStatus] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [MarketingEmail]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[TimeSent] DateTime NOT NULL,
				[Name] Nvarchar(255) NULL,
				[Introduction] Ntext NULL,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [AssetInMarketingEmail]
			(
				[AssetId] Integer NOT NULL,
				[MarketingEmailId] Integer NOT NULL,
			Primary Key ([AssetId],[MarketingEmailId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetInMarketingEmail] add  foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetInMarketingEmail] add  foreign key([MarketingEmailId]) references [MarketingEmail] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedMarketingEmail]
			(
				[MarketingEmailId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Nvarchar(255) NULL,
				[Introduction] Ntext NULL,
			Primary Key ([MarketingEmailId],[LanguageId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedMarketingEmail] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedMarketingEmail] add  foreign key([MarketingEmailId]) references [MarketingEmail] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedPriceBand (
				PriceBandId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(255),
				Description Varchar2(255)) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedPriceBand add primary key (PriceBandId,LanguageId) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedPriceBand add  foreign key (PriceBandId) references PriceBand (Id) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedPriceBand add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table TranslatedCommercialOption (
				CommercialOptionId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(255),
				Description Clob,
				Terms Clob) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedCommercialOption add primary key (CommercialOptionId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedCommercialOption add  foreign key (CommercialOptionId) references CommercialOption (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedCommercialOption add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table TranslatedOrderStatus (
				OrderStatusId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(255)) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedOrderStatus add primary key (OrderStatusId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedOrderStatus add  foreign key (OrderStatusId) references OrderStatus (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedOrderStatus add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table TranslatedPriceBandType (
				PriceBandTypeId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(255)) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedPriceBandType add primary key (PriceBandTypeId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedPriceBandType add  foreign key (PriceBandTypeId) references PriceBandType (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedPriceBandType add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table TranslatedTaxRegion (
				TaxRegionId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(255)) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedTaxRegion add primary key (TaxRegionId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedTaxRegion add  foreign key (TaxRegionId) references TaxRegion (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedTaxRegion add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table TranslatedSubscriptionModel (
				LanguageId Double precision NOT NULL ,
				SubscriptionModelId Double precision NOT NULL ,
				Description Varchar2(250)) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedSubscriptionModel add primary key (SubscriptionModelId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedSubscriptionModel add  foreign key (SubscriptionModelId) references SubscriptionModel (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedSubscriptionModel add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table TranslatedTaxType (
				LanguageId Double precision NOT NULL ,
				TaxTypeId Double precision NOT NULL ,
				Name Varchar2(200)) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedTaxType add primary key (TaxTypeId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedTaxType add  foreign key (TaxTypeId) references TaxType (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedTaxType add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table MarketingEmail (
				Id Double precision NOT NULL ,
				TimeSent Date NOT NULL,
				Name Varchar2(255),
				Introduction Clob) 	
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table AssetInMarketingEmail (
				AssetId Double precision NOT NULL ,
				MarketingEmailId Double precision NOT NULL ) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table MarketingEmail add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetInMarketingEmail add primary key (AssetId,MarketingEmailId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetInMarketingEmail add  foreign key (AssetId) references Asset (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetInMarketingEmail add  foreign key (MarketingEmailId) references MarketingEmail (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedMarketingEmail (
				MarketingEmailId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name Varchar2(255),
				Introduction Clob) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedMarketingEmail add primary key (MarketingEmailId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedMarketingEmail add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedMarketingEmail add  foreign key (MarketingEmailId) references MarketingEmail (Id) 
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-marketing-email-assets', 16, 'Title - Marketing Email Assets', 'Email Attachments', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-assets-visible-for-email', 13, 'Snippet - No Assets Visible in Marketing Email', 'You don&#39;t have permission to see any of the #items# for this email - please contact an application administrator in order to resolve this issue.', 1, 2) ]]>
		</sqlStatement>		
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-saved-searches', 16, 'Title - Saved Searches', '#company-name# | #heading-saved-searches#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-save-search', 16, 'Title - Save Search', '#company-name# | #heading-save-search#', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.145" private="true">
	
		<userChangeDescription>
			Added help text for marketing admin pages
		</userChangeDescription>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-groups', 2, 'Marketing Groups help text', 'The help text for managing marketing groups', '<h2>Marketing Groups</h2><p>When users register or view their profile, they will have the opportunity of subscribing to any of the marketing groups that have been set up (and if applicable, are available in thier chosen language). They will see a list of all the marketing groups, and will be able to check a checkbox against each one in order to subscribe. They can then unsubscribe at a later time by unselecting any of the checkboxes on their profile page.</p><p>On the marketing group admin page, all the current marketing groups are listed, and for each the number of currently subscribing users is shown.</p><p>Each of the existing groups can be edited or deleted, and new groups can also be added. </p><p>Once marketing groups have been set up, they can be used to find users when sending marketing emails, or when sharing a lightbox.</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-group-edit', 2, 'Edit Marketing Group help text', 'The help text for editing marketing groups', '<h2>Add/Edit Marketing Group</h2><p>You must provide a name for each marketing group. In additional you may provide a description in order to explain why users might want to subscribe or what to expect.</p><p>Each group has a notes field that is not shown to non-admin users. You can use this to record additional information about the group, for instance information about the last email that was sent to the group.</p><p>If the application is set up for more than one language, you will be given the opportunity of entering the name and description in each language. Unlike many other translatable items, marketing groups in alternative languages do not receive data from the English version. If the name field for an alternative language version is left blank, the group will not be shown to users who have selected that language.</p><p>If a marketing group is required for an alternative language, but not for the english language, you may select the &#39;Hidden in default language&#39; checkbox.<br /></p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-email-templates', 2, 'Marketing Email Templates help text', 'The help text for managing marketing email templates', '<h2>Marketing Email Templates<br /></h2><p>Marketing email templates can be used when sending marketing emails or when sending an email upon sharing a lightbox. Although use of templates is similar for each of these purposes, there are a few differences described below:</p><h3>Templates for Marketing Emails</h3><p>When sending marketing emails, the full content of the email can be edited before sending. This means that a template can contain as much or little of the final content as is required. The template should contain the variable <strong>#recipients#</strong>, although if absent this will be added automatically when the email is edited before sending. </p><h3>Templates for Shared Lightboxes&nbsp;</h3><p>When sending an email to users with whom you are sharing a lightbox, you will be able to replace the subject of the template, but the body will be used from the template and cannot be replaced. However, a variable <strong>#message#</strong> can appear in the template body, and when sending the email this will be replaced with an optional message.</p><p>A template for shared lightboxes should contain the variable <strong>#url#</strong> somewhere in the body, as this will be replaced by a link to the shared lightbox.<br /></p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-email-template-edit', 2, 'Edit Marketing Email Template help text', 'The help text for editing marketing email templates', '<h2>Add/Edit Marketing Email Template<br /></h2><p>Email templates can contain some or all of the data required in an email. At a minimum a template must contain a from-address, to-address, a subject and at least something in the body. A title must also be provided in order to identify the template at a later stage (note that this is not shown to users or included anywhere in the email)</p><p>If a template is used for mass-mailing through either the Send Marketing Email or Share Lightbox functions, the variable <strong>#recipients#</strong> must be present in one of the outbound address fields. Note that the each user is emailed individually, so even if the To field is used for this, users will not see each other&#39;s email addresses.</p><p>If the applciation is configured for multiple languages, the subject and body will be translatable. Note that if any of the translation fields is left blank, any emails sent using the template to users who have this language selected will inherit the english content.<br/></p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-send-email', 2, 'Send Marketing Email help text', 'The help text for sending marketing emails', '<h2>Send Marketing Email</h2><p>The first step of sending a marketing email is to select the users who will receive it. Users can be found entering any combination of the criteria on the page and then clicking Find. The matching users will be listed towards the bottom of the page, and initially all will be selected to receive the email. You may unselect any of these users to exclude them, but in order to proceed at least one user must be selected.</p><p>Before creating the email, it is possible to select a marketing email template as a starting point. If no template is selected, the email will be initially blank. <br /></p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-edit-email', 2, 'Edit Marketing Email help text', 'The help text for editing a marketing email', '<h2>Edit Marketing Email</h2><p>This page allows you to compose a marketing email. The email will be sent to any addresses you enter here, plus all the email addresses of the users selected in the previous page. These addresses will replace a <strong>#recipients#</strong> variable that appears in any of the address fields, so ensure that this variable is not removed completely. Note that emails are sent individually, so the selected users will not be able to see each other&#39;s email addresses.</p><p>If this email is being sent from the lightbox page, a url will be shown that can be pasted somewhere into the body of the email. It may be necessary to edit the domain of the url if you are not currently accessing the application in the same way as receiving users would (for instance if you&#39;re connecting through a tcp/ip port other than 80). Note that this url can be used as the href for a link in the email rather than being pasted in directly. Also note that this url cannot be used in the subject of the email.<br /></p><p>In order to personalise the email, the variables <strong>#forename#</strong>, <strong>#surname#</strong>, <strong>#title#</strong> and <strong>#username#</strong> are available for use in the body of the email - simply insert these values where they are needed. When the email is sent these values will be replaced with the actual data for the user, or will be removed if the data is not present.</p><p>Clicking Preview will allow the email to be previewed before it is sent.&nbsp;</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'marketing-preview-email', 2, 'Preview Marketing Email help text', 'The help text for previewing a marketing email', '<h2>Preview Marketing Email</h2><p>This page allows you to preview a marketing email before it is sent. Any variables you used in the email will be replaced with example data and not actual user data.</p><p>If the email includes a link to some assets (not a link to a shared lightbox) then you will be given the opportunity to enter a title and introductory text for the page that displays the assets. Be sure that this text contains no errors as it cannot be changed at a later date.</p><p>Clicking the Send button will result in the email(s) being sent. </p>', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.146" updaterChanged="true" fileArchive="app.zip">
	
		<userChangeDescription>
			Update to allow conditional database changes during update
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />
		
	</version><version number="3.147">

		<userChangeDescription> 
			Made e-commerce content editable 
		</userChangeDescription>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-commercial-option-types', 1, 'Commercial Option Types', 'Commercial Option Types', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-confirm-commercial-option', 1, 'Confirm Commercial Option', 'Confirm Commercial Option:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-login-details-incorrect', 1, 'Login details are incorrect', 'Your sign-in details do not match a valid account.<br />You may have mistyped your password, in which case please try again. ', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-reminder-not-sent', 1, 'Reminder could not be sent', 'A reminder could not be sent for that username. <br/ >Try correcting the username if it is wrong.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-password-remind-sent', 1, 'Password reminder has been sent', 'A password reminder has been sent to you - please check your inbox and sign in.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-login-forgotten-password', 1, 'Copy for forgotten password reminder', 'Forgotten your password? Enter your username and click &quot;Remind me&quot; and we will send you a reminder.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-order-mixed-error', 1, 'Error message for mixed items order', 'This order has a mixture of items for commercial usages and those for non-commercial usage.<br/>Please ensure that the basket contains items of one type. You can make separate purchases if you require items for commercial and non-commerical purposes.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-user-request-offline', 1, 'User requested payment offline', '<strong>NOTE:</strong>The user has requested to complete payment offline.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-already-paid', 1, 'Order already paid for', 'This order has already been paid for. You can download the images from &quot;My Purchases&quot;.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-search-orders', 1, 'Term for search orders', 'Search orders:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-no-commercial-options-available', 1, 'Copy - No commercial options available', 'There are no commercial options currently available for selection.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-review-order', 1, 'Copy - Review order', 'Please review your order and click below to proceed.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-profile-invalid-email', 1, 'Copy for profile has invalid email', 'Your profile does not have a valid email address.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-profile-non-valid-country', 1, 'Copy for profile non valid country', 'Your profile does not have a valid country set.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-update-non-valid-country', 1, 'Copy for updating a non valid country', 'Please <a href="viewChangeProfile">update your profile</a> and fill in your home address and country.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-update-non-valid-email', 1, 'Copy for updating a non valid email address', 'Please <a href="viewChangeProfile">update your profile</a> and add a valid email address. When purchasing, confirmation will be emailed to this address. ', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-view-personal-orders', 1, 'Copy for view personal orders', 'Click <a href="viewPersonalOrderOverview?orderStatus=2&withPriceBandType=2&orderWorkflow=1">Personal Orders</a> to see orders made by users for personal use. <br/><br/>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-view-commercial-orders', 1, 'Copy for view commercial orders', 'Click <a href="viewCommercialOrderOverview?orderStatus=3&orderWorkflow=2">Commercial Orders</a> to see orders made by users for commercial use. <br/><br/>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-previous-purchases', 1, 'Copy for previous purchases', 'This section shows details of your previous purchases.', 1, 1) ]]>
			</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-commercial-order-success', 1, 'Commercial order success', 'Your commercial purchase request has been sent to the administrator. <br />You can track the status of your order via the My Purchases -> My Orders section.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-login-register', 1, 'Copy for Login or Register', 'If you already have an account, then please sign in now in the &quot;Existing Customers&quot; box.<br/>Otherwise if you are a new customer, then please enter your email address in the &quot;New Customers&quot; box.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-login-error', 1, 'Copy for Login error', 'Your sign-in details do not match a valid account. <br />You may have mistyped your password, in which case please try again. Alternatively, if you have forgotten your password, use the password reminder form below. If you do not have an account, then please use the new customer form.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-email-exists-error', 1, 'Copy Email exists error', 'That email address is already assigned to a customer.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-forgotten-password', 1, 'Copy for Forgotten password', 'If you have already registered but forgotten your password, then use the password reminder form.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-email-format-error', 1, 'Copy for email address format error', 'The format of the email address cannot be accepted.<br/>Please check your typing, try another email address or contact the administrator.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchasing-items', 1, 'Copy for purchasing items', 'You are purchasing the following items:', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-emails-do-not-match', 1, 'Copy for emails do not match', 'The email addresses you have supplied do not match.<br/>Please enter them again.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-reminder-not-sent-at-checkout', 1, 'Copy for password reminder not sent at checkout', 'A reminder could not be sent for that username.<br />Try correcting the username if it is wrong. If you do not have an account, then please use the &quot;New customers&quot; form.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-reminder-sent', 1, 'Copy for password reminder sent', 'A password reminder has been sent to you - please check your inbox and sign in below under &quot;Existing customers&quot;.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-enter-email', 1, 'Copy for enter email address', 'Enter your email address to register:', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-review-purchases', 1, 'Copy for reviewing purchases', 'Check <a href="../action/viewApprovedAssets">Your Purchases</a> to review items you have already purchased.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-no-items', 1, 'Copy for no items to purchase', 'You currently have no items in your #a-lightbox# for purchase.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-not-correct-change-details', 1, 'Copy for change incorrect details', 'If this is not correct, then please <a href="viewCheckout?checkout=Register">change your registration details</a>.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-not-correct-checkout-again', 1, 'Copy for change incorrect details by checking out', 'If this is not correct, then please <a href="viewCheckout?checkout=Checkout">checkout again</a> to change your email address.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-no-orders-found', 1, 'Copy for no orders found', 'There were no orders matching the specified criteria.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-no-downloadable-items', 1, 'Copy for no downloadable items', 'There are no downloadable #items# purchased in this range.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-no-approved-items', 1, 'Copy for no approved items', 'There are no approved #items# in this range.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-ts-and-cs-applicable', 1, 'Copy for applicable terms and conditions', 'The following Terms and Conditions are applicable for the commercial options that you have chosen.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-commercial-option', 1, 'Copy for commercial option', 'Commercial option:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-review-commercial-option', 1, 'Copy for Review commercial option', 'Please review the commercial option costs of your #items# and provide some of notes about their intended use.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-determine-commercial-option', 1, 'Copy for determine commercial option', 'Please read through the available commercial options and the associated Terms and Conditions, and determine which best suit your requirements.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-select-commercial-option', 1, 'Copy for select commercial option', 'Please select commercial options for your #items# and click &quot;Next&quot; to review the cost.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-number-items in basket', 1, 'Copy - Number of items in basket', 'You have ?noItems? item(s) in your #a-lightbox# for purchase.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchased-items', 1, 'Copy - Purchased items', 'Within the given date range, you have purchased <strong>?approvedSize?</strong> #item#(s).', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-approved-items', 1, 'Copy - Approved items', 'Within the given date range, you have <strong>?approvedSize?</strong> #item#(s) approved.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-email-confirmation', 1, 'Copy - Email confirmation', 'Confirmation of purchase will be sent to the following email address: ?emailAddress?. <br />If this is not correct, then please <a href="viewChangeProfile">update your profile</a> to update your details.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-email-confirmation-purchase', 1, 'Copy - Email confirmation of purchase', 'Confirmation of purchase will be sent to the following email address: ?emailAddress?. ', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchased-commercial-options', 1, 'Purchased commercial options text', 'You purchased commercial options for this #item# as part of the following orders.  You can view the option details and terms by viewing the orders.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-search-all-orders', 1, 'All orders text', 'All orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-search-orders-since', 1, 'Search orders since text', 'Orders placed since', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-search-orders-before', 1, 'Search orders before text', 'Orders placed before', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-search-orders-between', 1, 'Search orders placed between text', 'Orders placed between', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-no-items-to-browse', 1, 'Copy for no items', 'There are no #items# in this ?browseableName?.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchase-failure', 1, 'Copy for purchase failure', '<h1>Purchase Failure</h1><p>Payment may have been made with the payment service provider.<br/>However the amount charged and the amount paid do not match. <br />Please contact #company-name# to get access to your images.</p><p>Return to <a href="http://localhost:8080/image-bank/">#app-name#</a></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-payment-cancellation', 1, 'Copy for payment cancellation', '<h1>Payment Cancellation</h1><p>Thankyou, your payment has been cancelled. </p><p><a href="?applicationUrl?">Return to #app-name# &raquo;</a></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-payment-invalid', 1, 'Copy for payment failure', '<h1>Payment Failure</h1><p>Your payment has not been authorised. </p><p><a href="?applicationUrl?">Return to #app-name# &raquo;</a></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-payment-return-failure', 1, 'Copy for payment return failure', '<h1>Payment Return</h1><p>Your payment may have been successfully made with the payment service provider.</p><p>However it was not possible to log you back into your account, possibly because your #app-name# session timed out.If your transaction was successful, you will have been sent an email containing your account details.</p><p><a href="?applicationUrl?\action\viewLogin">Log in to #app-name#</a></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-payment-success', 10, 'Heading - payment success', 'Payment Success', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-payment-success', 1, 'Copy for payment siccess', 'Your payment has been authorised. You should receive a confirmation email shortly.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-return-to-subscriptions', 1, 'Copy for return to descriptions', '<p>Return to <a href="paymentReturn?trans_id=?trans_id?">your subscriptions</a>.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-download-items-from-basket', 1, 'Copy for download items from basket', '<p>You can now download your #items# from <a href="paymentReturn?trans_id=?trans_id?">your basket</a>.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-price', 1, 'Term for price', 'Price', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-description', 1, 'Term for description', 'description', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-name', 1, 'Name', 'name', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-terms', 1, 'Terms', 'Terms', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-status', 1, 'Term for status', 'Status', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-price-band', 1, 'Term for price band', 'Price Band', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-price-band-type', 1, 'Term for price band type', 'Price Band Type', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-commercial-option-nc', 1, 'Term for commercial option, no colon', 'Commercial Option', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-id', 1, 'Term for ID', 'ID', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subtotal', 1, 'Term for subtotal', 'Subtotal', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-tax', 1, 'Term for tax', 'VAT', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-total', 1, 'Term for total', 'Total', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-orders', 1, 'Orders', 'Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-shipping', 1, 'Term for shipping', 'Shipping', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-ts-and-cs-reject', 1, 'Term for rejection of Ts and Cs', 'I Don&#39;t Agree', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-ts-and-cs-accept', 1, 'Term for acceptance of Ts and Cs', 'I Agree', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-shipping-address', 1, 'Term for shipping address', 'Shipping Address', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-vat-receipt-address', 1, 'Term for VAT receipt address', 'VAT Receipt Address', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-login', 1, 'Term for login', 'Login', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-back-to-checkout', 1, 'Term for Back to Checkout', 'Back to checkout', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-existing-customers', 1, 'Term for existing customers', 'Existing customers', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-quantity', 1, 'Term for quantity', 'Quantity', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-placed-between', 1, 'Label - Placed between', 'Placed between:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-order-id', 1, 'Term for order ID', 'Order Id', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-date-placed', 1, 'Date Placed', 'Date Placed', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-date-fulfilled', 1, 'Date Fulfilled', 'Date Fulfilled', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-order-status', 1, 'Order Status', 'Order Status', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-total-cost', 1, 'Total Cost', 'Total Cost', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-awaiting', 1, 'Term for Awaiting', 'Awaiting', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-cost', 1, 'Label for cost', 'Cost:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-excluding-tax', 1, 'Term for excluding tax', '(excl tax)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-psp-id', 1, 'Term for PSP Id', 'PSP Id', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-user', 1, 'Term for User', 'User', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-format', 1, 'Term for Format', 'Format (Qty)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-tbc', 1, 'Term for TBC', 'TBC', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-not-applicable', 1, 'Term for Not applicable', 'N/A', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-view', 1, 'Term for View', 'view', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-and', 1, 'Term for And', 'and', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-invoice-number', 1, 'Term for invoice number', 'Invoice number:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-cost', 1, 'Term for cost', 'cost', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-sign-in', 1, 'Term for Sign In', 'Sign in:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-user-uage-notes', 1, 'User usage notes', 'User Usage Notes:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-from', 1, 'Label for From', 'From:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-to', 1, 'Label for To', 'To:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchased', 1, 'Purchased', 'Purchased:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-expires', 1, 'Expires', 'Expires:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-profile-incomplete-commercial-purchase', 1, 'Copy for profile incomplete for commercial purchase', '<p class="error">Your profile does not contain all the details required to make commercial purchases.</p><p>A valid address is required so that we can send you a VAT receipt, and a valid telephone number is needed should #company-name# need to contact you.<br/>Please <a href="viewChangeProfile?strict=true">update your profile</a> with the required information.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-back-to-purchases', 1, 'Link - Back to purchases', '&laquo; Back to My Purchases', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-price-of-items', 1, 'Term for price of items', 'Price of #item#(s)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-required', 1, 'Required', 'Required', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-format-type', 1, 'Format type', 'Format type', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-order-details', 1, 'Term for order details', 'Order Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-shipping-cost', 8, 'Term for shipping cost', 'Shipping Cost', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-tax-number', 9, 'Label for tax number', 'Your tax number:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-tax-region', 9, 'Label for tax region', 'Tax region:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-added', 9, 'Label for added', 'added:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-discount', 9, 'Label for discount', 'Discount:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-contact-tel', 1, 'Label for contact telephone number', 'Contact Tel:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-purchase-type', 1, 'Label - Puchase type', 'Purchase type:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-option-any', 1, 'Label - Any', '[any]', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-option-view', 9, 'Label - View', '[View]', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-confirm-email', 9, 'Label - Confirm email address', 'Confirm email address:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-save-as-home-address', 9, 'Label for Save as home address', 'Save as my home address:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-status', 9, 'Label - Status', 'Status:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-pay-offline', 9, 'Label for pay offline', 'I would prefer to pay offline', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-description', 9, 'Label for description', 'Description:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-label-format', 9, 'Label - Format', 'Format', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-purchases', 10, 'Subhead - Purchases', 'My Purchases', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-orders', 10, 'Subhead - Orders', 'My Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-personal-orders', 10, 'Subhead - Personal orders', 'Personal Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-commercial-orders', 10, 'Subhead - Commercial orders', 'Commercial Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-checkout', 10, 'Checkout', 'Checkout', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-shipping', 10, 'Heading - Shipping', 'Shipping', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-purchase-summary', 10, 'Subhead - Purchase summary', 'Purchase summary', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-login-register', 1, 'Subhead - Login or Register', 'Log in or Register &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-order-summary', 10, 'Subhead - Order Summary', 'Order Summary', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-order-administration', 16, 'Heading - Order Administration', 'Order Administration Hub.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-registration', 16, 'Heading - Registration', 'Registration', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-new-customers', 10, 'Heading - New customers', 'New customers', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-ready-to-buy', 10, 'Subhead - Ready to buy', 'Ready to buy &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-terms-and-conditions', 10, 'Subhead - Terms and Conditions', 'Terms and conditions &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-order-payment', 10, 'Heading - Order payment', 'Order Payment', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-my-downloads', 10, 'Subhead - My downloads', 'My Downloads', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-button-purchase', 11, 'Button - Purchase', 'Purchase &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-button-change-status', 11, 'Button - Change status', 'Change Status', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-button-sign-in', 11, 'Button - Sign in', 'Sign in', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-button-password-reminder', 11, 'Button - Password reminder', 'Remind me', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-button-continue', 11, 'Button - continue', 'Continue &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-back-orders', 12, 'Link - Back to Orders', '&laquo; Back to Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-downloads', 12, 'Link - Downloads', 'Click <a href="viewDownloads">My Downloads</a> to see the downloads you have purchased.<br/><br/>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-orders', 12, 'Link - Orders', 'Click <a href="viewUserOrderOverview?orderWorkflow=1">My Orders</a> to see all your previous orders.', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-edit-order-status', 12, 'Link - Edit order status', 'Edit Order Status', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-edit-commercial-option', 12, 'Link - Edit commercial option', 'Edit Commercial Option', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-fulfill-order', 12, 'Link - Fulfill order', 'Fulfill Order', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-back-to-order-details', 12, 'Link - Back to order details', '&laquo; Back to Order Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-make-payment', 12, 'Link - Make payment', 'Make Payment', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-view-commercial-option-details', 12, 'Link - View commercial option details', 'View Commercial Option Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-purchased-items', 12, 'Link - Purchased items', '<a href="viewApprovedAssets">Purchased Items</a> | Order History', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-link-update-basket', 12, 'Link to update basket', 'Update #my-lightbox#', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-select-dropdown', 13, 'Snippet  - Select dropdown default', '-- Please select --', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-asset', 13, 'Snippet  - Asset', 'Asset', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-confirm-save-commercial-option', 14, 'Javascript - Confirm save commercial option?', 'Are you sure you want to save this commercial option?  If you have changed the option type, an e-mail will be sent to the customer informing them of the change.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-change-status-online-payment', 14, 'Javascript - Confirm change order status to Requires Online Payment', 'Are you sure you wish to change the order status to Requires Online Payment? An e-mail will be sent to the customer requesting payment.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-change-status-requires-offline-payment', 14, 'Javascript - Confirm change order status to Requires Offline Payment', 'Are you sure you wish to change the order status to Requires Offline Payment? An e-mail will be sent to the customer informing requesting payment.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-change-status-paid-offline', 14, 'Javascript - Confirm change order status to Paid for Offline', 'Are you sure you wish to change the order status to Paid for Offline? The assets will be approved for use and the status will no longer be editable.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-change-status-declined', 14, 'Javascript - Confirm change order status to Declined', 'Are you sure you wish to change the order status to Declined? The asset approval will be declined, an e-mail will be sent to the customer informing them of the decision and the status will no longer be editable.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-change-status', 14, 'Javascript - Confirm change order status', 'Are you sure you wish to change the order status?', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-js-confirm-fulfill-order', 14, 'Javascript - Confirm fulfill order', 'Are you sure you want to fulfill this order? A shipping confirmation e-mail will be sent to the customer.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-country-validation', 15, 'Country validation message', 'Please enter a value for Country.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-name-validation', 15, 'Name validation message', 'Please enter a value for Name.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-commercial-option-edit', 16, 'Title - Commercial Option Edit', '#company-name# | Commercial Option Edit', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-commercial-order-details', 16, 'Title - Commercial Order Details', '#company-name# | Commercial Order Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-login', 16, 'Title - Login', '#company-name# | Login', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-orders', 16, 'Title - Orders', '#company-name# | Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-purchases', 16, 'Title - Purchases', '#company-name# | Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-register', 16, 'Title - Register', '#company-name# | Register', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-commercial-success', 16, 'Title - Commercial order successs', '#company-name# | #e-ecommerce-offline-option-name# Purchase', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-checkout', 16, 'Title - Checkout', '#company-name# | Checkout', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-checkout-mixed', 16, 'Title - Checkout mixed order', '#company-name# | Checkout', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-commercial-orders', 16, 'Title - Commercial Orders', '#company-name# | Commercial Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-downloads', 16, 'Title - Downloads', '#company-name# | My downloads', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-order-payment', 16, 'Title - Order Payment', '#company-name# | Order Payment', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-personal-order-details', 16, 'Title - Personal Order Details', '#company-name# | Personal Order Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-personal-orders', 16, 'Title - Personal Orders', '#company-name# | Personal Orders', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-review-commercial-options', 16, 'Title - Review Commercial Options', '#company-name# | Select #e-ecommerce-offline-option-name# Options', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-commercial-option', 16, 'Title - Commercial Option', '#company-name# | Commercial Option', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-order-details', 16, 'Title - Order Details', '#company-name# | Order Details', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-order-overview', 16, 'Title - Order Overview', '#company-name# | My Purchases', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-title-order-history', 16, 'Title - Order history', '#company-name# | My Orders', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<h3>Asset Bank Version ?version?</h3><p>Asset Bank is an asset management solution developed by <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>.<br />For more information, and to read the online documentation, please visit <a href="http://www.assetbank.co.uk" target="_blank">http://www.assetbank.co.uk</a>.</p><h3>Image Magick</h3><p>Asset Bank makes use of <a href="http://www.imagemagick.org" target="_blank">Image Magick</a>, from ImageMagick Studio LLC.</p><br />' WHERE Identifier='copy-about-asset-bank' ]]>
		</sqlStatement>
		
		
		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />
	</version><version number="3.148" private="true">

		<userChangeDescription> 
			More e-commerce content editable 
		</userChangeDescription>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-paid', 13, 'Snippet - paid', 'Paid', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-processing-request', 13, 'Snippet - processing request', 'Processing request', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-request-rejected', 13, 'Snippet - request rejected', 'Request rejected', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-approval-granted', 13, 'Snippet - approval granted', 'Approval granted', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-pending-approval', 13, 'Snippet - pending approval', 'Pending approval', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-approval-rejected', 13, 'Snippet - approval rejected', 'Approval rejected', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.149" private="true">
	
		<userChangeDescription> 
			Minor fixes
		</userChangeDescription>
		
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-search-this-accesslevel', 12, 'Link - Search this access level', 'Search this access level', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE EmailTemplate SET AddrTo='#adminEmailAddresses#' WHERE TextId='user_registered_admin'
		</sqlStatement>
	
	</version><version number="3.150" private="true">
	
		<userChangeDescription> 
			Fix to bulk upload process
		</userChangeDescription>
		
	</version><version number="3.151" private="true">
	
		<userChangeDescription> 
			Lightbox page title
		</userChangeDescription>
	
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='title-lightbox'
		</sqlStatement>
		
	</version><version number="3.152" private="true">
		
		<userChangeDescription> 
			Support for Photoshop files
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET ConverterClass = 'com.bright.assetbank.converter.IMToJpgConverter' WHERE FileExtension='psd'
		</sqlStatement>
		
	</version><version number="3.153" private="true">
		
		<userChangeDescription> 
			More e-commerce content changes
		</userChangeDescription>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-total-price-excl', 9, 'Total price excluding', 'Total price (excl shipping and VAT):', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-click-checkout', 1, 'Click checkout to buy', 'Click the Checkout button to buy these.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-commercial use price', 1, 'Copy for commercial use price', 'For commercial usage, the price will be calculated when you select commerical terms of use.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-term-excluding-tax', 8, 'Term for excluding tax', 'excl VAT', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-term-including-tax', 8, 'Term for including tax', 'inc VAT', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-total-price', 8, 'Term for total price', 'Total price', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-check-order-status', 1, 'Copy for check order status', 'Go to My Purchases > My Orders to check the status of your order.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-previously-added-items', 1, 'Copy for previously added items', 'These #items# have previously been added to your #a-lightbox#.', 1, 1) ]]>
		</sqlStatement>		
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-recently-purchased-prints', 1, 'Copy for recently purchased prints', 'If you recently purchased prints then look in ''My Purchases'' to check the delivery status.', 1, 1) ]]>
		</sqlStatement>		
																	
	</version><version number="3.154" private="true">
		<userChangeDescription> 
			Cropping and other misc changes
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="enable-advanced-download-category-switch" />
	</version><version number="3.155" private="true">
		<userChangeDescription> 
			Additional e-commerce content
		</userChangeDescription>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchase-other-format', 1, 'Purchase other format', 'Purchase other format', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subhead-downloads', 10, 'Subhead - Downloads', 'Downloads', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-term-format', 8, 'Format', 'Format', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-prints', 8, 'Prints', 'Prints', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-term-first-print', 8, 'Term for first print', '1st Print', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-term-additional-prints', 8, 'Term for additional prints', 'Additional Prints', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-view-basket', 12, 'Link for view basket', 'View #a-lightbox# &raquo;', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-subscribe', 1, 'Copy for subscribe to website', 'If you subscribe to the website you can download this image. <a href="../action/viewSubscriptionRegister?start=true">Sign up now &raquo;</a>', 1, 1) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchase-add-to-basket', 1, 'Copy for purchase item', 'You can purchase this #item# by adding it to your #a-lightbox#.<br /><br />', 1, 1) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-purchase-item-now', 1, 'Copy for purchase item now', 'Purchase this #item# now: <a href="../action/viewCheckout?checkout=Checkout">Checkout &raquo;</a>', 1, 1) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body='<p>You can now download your #items# from <a href="paymentReturn?trans_id=?trans_id?">your basket</a>.</p>' WHERE Identifier='e-download-items-from-basket' AND LanguageId=1 ]]>
		</sqlStatement>
		
	</version><version number="3.156" private="true">
		<userChangeDescription> 
			Ecommerce updates
		</userChangeDescription>
	</version><version number="3.157" private="true">
		<userChangeDescription> 
			Report fix
		</userChangeDescription>
	</version><version number="3.158">

		<userChangeDescription> 
			Updates to multi-page TIF image handling, plus copy/version functionality for assets *** NOTE: After this update you will need to reindex the assets (in Admin &gt; Attributes) ***
		</userChangeDescription>

		<userPostUpdateMessage>
			After this update you will need to reindex all assets (in Admin &gt; Attributes).
		</userPostUpdateMessage>
		
		<sqlStatement type="mysql">
			ALTER TABLE ImageAsset ADD NumLayers Integer DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE ImageAsset ADD NumLayers Integer DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE ImageAsset ADD NumLayers Integer DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-layers', 13, 'Snippet - Layers', 'layers', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-layer', 9, 'Label - Layer', 'Layer/Page:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-page-x-of-y', 13, 'Snippet - Page x of y', 'Page ?currentPage? of ?numPages?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-first', 12, 'Link - First', 'First', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-last', 12, 'Link - Last', 'Last', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			ALTER TABLE FileFormat ADD ConvertIndividualLayers Tinyint DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE FileFormat ADD ConvertIndividualLayers Integer DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE FileFormat ADD ConvertIndividualLayers Char(1) DEFAULT '0'
		</sqlStatement>
		
		<sqlStatement type="mysql">
			UPDATE FileFormat SET ConvertIndividualLayers=1 WHERE Id IN (6,7,107)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			UPDATE FileFormat SET ConvertIndividualLayers=1 WHERE Id IN (6,7,107)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			UPDATE FileFormat SET ConvertIndividualLayers='1' WHERE Id IN (6,7,107)
		</sqlStatement>
		
		<appSettingChange type="add" section="Server settings" setting="image-magick-file-cache-size" value="50">
			<comment>
				The maximum number of files in the ImageMagick file cache
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Server settings" setting="image-magick-output-cache-size" value="50">
			<comment>
				The maximum number of entries in the ImageMagick return value cache
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD VersionNumber Int NOT NULL DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD CurrentVersionId BigInt
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Asset add Index IX_Relationship219 (CurrentVersionId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Asset add constraint FK_Asset_CurrentVersion Foreign Key (CurrentVersionId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD VersionNumber Integer DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD CurrentVersionId Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [Asset] add  foreign key([CurrentVersionId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD VersionNumber Number DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD CurrentVersionId Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table Asset add  foreign key (CurrentVersionId) references Asset (Id)
		</sqlStatement>
		
		<appSettingChange type="add" section="General config" setting="can-create-asset-versions" value="false">
			<comment>
				Can versions of existing assets be created?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="can-edit-asset-versions" value="false">
			<comment>
				Can versions of existing assets be edited or deleted?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="can-create-asset-copies" value="false">
			<comment>
				Can copies of existing assets be created?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="allow-search-for-previous-versions" value="true">
			<comment>
				Should there be an option to return previous versions of assets in a search? (Ignored if can-create-asset-versions=false)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="allow-search-for-previous-versions-admin-only" value="true">
			<comment>
				Should the option to return previous versions of assets in a search be restricted to admin users only?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-include-previous-versions', 9, 'Label - Include previous versions', 'Include previous versions?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (201, 26, 1, 'version', 'Version', 0, 0) ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (19, 26, 1, 'version', 'Version', 0, 0) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute ON
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (19, 26, 1, 'version', 'Version', 0, 0) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-asset-versions', 16, 'Title - Asset Versions', '#company-name# | #heading-asset-versions#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-asset-versions', 10, 'Heading - Asset Versions', '#item# versions', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-current-version', 12, 'Link - Current version', 'current version', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-all-versions', 12, 'Link - All versions', 'all versions', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-create-copy', 11, 'Button - Create Copy', 'Create Copy', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-file-selection-warning', 13, 'Snippet - File selection warning', 'Please note: for browser security reasons if you wish to change the image file, you will need to browse and select it again.', 1, 2)  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-file-uploading', 13, 'Snippet - File uploading', 'Please wait while your changes are saved. If you are adding a large file this may take a few minutes.<br/>If there is no further activity then please check that the value in the File field is empty or represents a valid file.', 1, 2)   ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-changes', 13, 'Snippet - Save changes', 'Update this version', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-as-new-version', 13, 'Snippet - Save as new version', 'Save as new version', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'priceBandNoQuantity', 15, 'priceBandNoQuantity', 'Please choose an option to purchase.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='no keywords entered' WHERE Identifier='snippet-no-search-term'  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'video', 8, 'Term for video', 'video', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'image', 8, 'Term for image', 'image', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'file', 8, 'Term for file', 'file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'audio', 8, 'Term for audio', 'audio', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to', 12, 'Link - Back to', '&laquo; Back to', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='#link-back-to# ?assetTypeName? Details' WHERE Identifier='link-back-image-details' AND LanguageId=1 ]]>
		</sqlStatement>
		
	</version><version number="3.159">

		<userChangeDescription> 
			Update to allow price bands to apply to particular asset types
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE PriceBand ADD AssetTypeId Bigint NOT NULL DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table PriceBand add Index IX_Relationship223 (AssetTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table PriceBand add constraint FK_PriceBand_AssetType Foreign Key (AssetTypeId) references AssetType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE PriceBand ADD AssetTypeId Integer  DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [PriceBand] add  foreign key([AssetTypeId]) references [AssetType] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE PriceBand ADD AssetTypeId Double precision  DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table PriceBand add  foreign key (AssetTypeId) references AssetType (Id) 
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE PriceBand SET AssetTypeId=2
		</sqlStatement>
		
	</version><version number="3.160" private="true">

		<userChangeDescription> 
			Reply address for email templates and allow deletion of uploaded files
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE EmailTemplate set AddrFrom='noreply@noreply.com' WHERE AddrFrom='imagebank@bright-interactive.com'
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Step 1: Upload files</h2><p>To import files in bulk, you first need to transfer the files to the server. Click the Upload files button below and then browse to and select the files you want to import. When you have finished uploading files, click the next button to enter metadata. If you upload files by mistake you can <a href="cancelImport" onclick="return confirm(''This will delete all uploaded file. Do you want to continue?'');">delete all uploaded files</a>.</p>' WHERE Identifier='intro-bulk-upload-1' ]]>
		</sqlStatement>
		
	</version><version number="3.161" private="true">
	
		<userChangeDescription> 
			Defect fixes
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View all versions...' WHERE Identifier='link-all-versions' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View current version...' WHERE Identifier='link-current-version' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-snippet-cannot-purchase', 1, 'Copy for unpurchasable assets in the basket', 'Although this item is in your basket, it is not available for purchase.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-snippet-no-price', 1, 'Copy for assets without prices', 'Note that this item has no price information, and cannot be purchased.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-uncompressed', 13, 'Snippet - Uncompressed', 'uncompressed', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-progress', 13, 'Snippet - Progress', 'Progress...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-lightbox-ready', 13, 'Snippet - Lightbox ready to download', 'Your #a-lightbox# is ready to download!', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-file-downloading', 13, 'Snippet - File downloading', '(Your file should start downloading automatically, if it does not please click on the link above)', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.162" private="true">
	
		<userChangeDescription> 
			Update to admin browser titles
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-manage-content', 16, 'Title - Manage content', '#company-name# | Manage Content', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.163" private="true">
		
		<userChangeDescription> 
			Metadata fixes
		</userChangeDescription>
		
		<appSettingChange type="update" setting="exported-asset-filename-format" value="it" section="Import/Export settings">
			<comment>
				Defines a format for the names of exported asset files, where i=id, t=title
				Note that at least i must be present
			</comment>
		</appSettingChange>

	</version><version number="3.164" private="true">
		
		<userChangeDescription> 
			Minor defect fix
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-create-copy', 10, 'Heading - Create Copy', 'Create Copy', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-create-copy', 16, 'Title - Create copy', '#company-name# | #heading-create-copy#', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.165" private="true">
		
		<userChangeDescription> 
			Export fixes and changes
		</userChangeDescription>

	</version><version number="3.166">
		
		<userChangeDescription> 
			Change to multi-layer download option
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoLayerSupport', 15, 'failedValidationNoLayerSupport', 'The output file format doesn&#39;t support multiple layers - please choose a single layer.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.168">
		
		<userChangeDescription> 
			Metadata import change
		</userChangeDescription>

		<appSettingChange type="delete" setting="exported-asset-filename-format" />
		
		<appSettingChange type="add" setting="exported-asset-filename-format" value="i" section="Import/Export settings">
			<comment>
				Defines a format for the names of exported asset files, where i=id, t=title
				Note that at least i must be present
			</comment>
		</appSettingChange>

	</version><version number="3.169" private="true">

		<userChangeDescription> 
			Change to about page
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='' WHERE Identifier='copy-about-asset-bank' ]]>
		</sqlStatement>
		
	</version><version number="3.170">

		<userChangeDescription> 
			Updated content items
		</userChangeDescription>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier = 'e-approval-granted' ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier = 'e-pending-approval' ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier = 'e-approval-rejected' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'approval-granted', 13, 'Snippet - approval granted', 'Approval granted', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'pending-approval', 13, 'Snippet - pending approval', 'Pending approval', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'approval-rejected', 13, 'Snippet - approval rejected', 'Approval rejected', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-add-remove-basket', 1, 'Copy for purchase and remove from basket', 'If you would like to purchase an #item# then click on it to select the format you require.<br />To remove #items# from your #a-lightbox#, click the ''Remove'' link.', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.171" private="true">
	
		<userChangeDescription> 
			Added content item
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-subscriptions', 9, 'Label - Subscriptions', 'Subscriptions:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
            <![CDATA[ UPDATE EmailTemplate SET Body='This message was sent to you from #username# via Asset Bank.<br /><br />#message#<br /><br /><br /> <a href="#url#">Click here to download</a>' WHERE TextId='asset_linked' ]]>
        </sqlStatement>
		
	</version><version number="3.172" private="true">
	
		<userChangeDescription> 
			Import process revisions
		</userChangeDescription>
		
	</version><version number="3.172.1">
	
		<userChangeDescription> 
			Change webmaster email address
		</userChangeDescription>
		
		<appSettingChange type="update" setting="webmaster-email" value="support@assetbank.co.uk" section="Names and Spellings">
			<comment>
				Webmaster email address
			</comment>
		</appSettingChange>
		
	</version><version number="3.172.2" private="true">
	
		<userChangeDescription> 
			Import/export and gif upload defect fixes
		</userChangeDescription>
		
	</version><version number="3.172.3" private="true">
	
		<userChangeDescription> 
			Added video content items
		</userChangeDescription>

		<sqlStatement type="all">
            DELETE FROM ListItem WHERE Identifier='heading-download-video'
        </sqlStatement>
		
		<sqlStatement type="all">
            <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-download-video', 10, 'Heading - Download Video', 'Download Video', 1, 2) ]]>
        </sqlStatement>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='title-download-video'
        </sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-video', 16, 'Title - Download Video', '#company-name# | #heading-download-video#', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.172.4" private="true">
		
		<userChangeDescription> 
			Additional e-commerce content
		</userChangeDescription>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-puchase-details', 10, 'Title - Puchase details', 'Purchase details', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-ecommerce-offline-option-name', 8, 'Term for offline purchase', 'Offline', 1, 2) ]]>
		</sqlStatement>	
		
	</version><version number="3.172.5" private="true">
		
		<userChangeDescription> 
			Additional content
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'email-linked-text', 1, 'Email Link Text', 'This files exceeds the maximum file size for email attachments. Your email will include a link to the file instead.', 1, 2) ]]>
		</sqlStatement>	
		
	</version><version number="3.172.6" private="true">
		
		<userChangeDescription> 
			Bulk update enhancement
		</userChangeDescription>
		
	</version><version number="3.172.7" private="true">
		
		<userChangeDescription> 
			Download enhancement
		</userChangeDescription>
		
	</version><version number="3.172.8" private="true">
		
		<userChangeDescription> 
			Update to restricted preview functionality
		</userChangeDescription>
		
	</version><version number="3.172.9">
		
		<userChangeDescription> 
			Added switch for compressed download
		</userChangeDescription>

		<appSettingChange type="add" setting="can-compress-download" value="true" section="Download options">
			<comment>
				Are users able to compress their download
			</comment>
		</appSettingChange>
	
	</version><version number="3.172.10" private="true">
		
		<userChangeDescription> 
			Misc changes and fixes
		</userChangeDescription>

	</version><version number="3.172.11" private="true">
		
		<userChangeDescription> 
			Small change to reindex process
		</userChangeDescription>

	</version><version number="3.172.12">
		
		<userChangeDescription> 
			Fixed problem with Organisational Units
		</userChangeDescription>

	</version><version number="3.173">
	
		<userChangeDescription> 
			Added rotate to bulk update functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-rotate-images', 9, 'Label - Rotate Images', 'Rotate the images in this batch?:', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.174">
	
		<userChangeDescription> 
			Changes to custom fields functionality
		</userChangeDescription>

		<appSettingChange type="delete" setting="use-custom-fields" />


		<sqlStatement type="mysql">
			Create table TranslatedCustomField (
				LanguageId Bigint NOT NULL,
				CustomFieldId Bigint NOT NULL,
				FieldName Varchar(100) ,
			 Primary Key (CustomFieldId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table TranslatedCustomField add Index IX_Relationship226 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedCustomField add constraint FK_TranslatedCustomField_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedCustomField add Index IX_Relationship225 (CustomFieldId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedCustomField add constraint FK_TranslatedCustomField_CustomField Foreign Key (CustomFieldId) references CustomField (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		

		<sqlStatement type="oracle">
			Create table TranslatedCustomField (
				LanguageId Double precision NOT NULL ,
				CustomFieldId Double precision NOT NULL ,
				FieldName Varchar2(100))
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedCustomField add primary key (CustomFieldId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedCustomField add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedCustomField add  foreign key (CustomFieldId) references CustomField (Id) 
		</sqlStatement>



		<sqlStatement type="sqlserver">
			Create table [TranslatedCustomField]
			(
				[LanguageId] Integer NOT NULL,
				[CustomFieldId] Integer NOT NULL,
				[FieldName] Nvarchar(100) NULL,
			Primary Key ([CustomFieldId],[LanguageId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [TranslatedCustomField] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedCustomField] add  foreign key([CustomFieldId]) references [CustomField] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			CREATE SEQUENCE CustomFieldValueSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		
	</version><version number="3.175" updaterChanged="true">
		
		<userChangeDescription> 
			Audit logging
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="log-changes-to-assets" />
		
		<appSettingChange type="add" setting="asset-log-type" value="none" section="Server settings">
			<comment>
				Specifies which changes to assets to log. Specify 'none' (no logging), 'edit' (log only asset editing), 'all' (log all changes to assets)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			Create table SessionLog (
				Id Bigint NOT NULL AUTO_INCREMENT,
				UserId Bigint,
				IpAddress Varchar(255),
				StartDateTime Datetime,
				LoginDateTime Datetime,
				UNIQUE (Id),
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Create table [SessionLog]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[UserId] Integer NULL,
				[IpAddress] Nvarchar(255) NULL,
				[StartDateTime] Datetime NULL,
				[LoginDateTime] Datetime NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Create table SessionLog (
				Id Double precision NOT NULL ,
				UserId Double precision,
				IpAddress Varchar2(255),
				StartDateTime Date,
				LoginDateTime Date) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table SessionLog add primary key (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			CREATE SEQUENCE SessionLogSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table LogType (
				Id Bigint NOT NULL,
				Name Varchar(255),
				UNIQUE (Id),
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [LogType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Create table LogType (
				Id Double precision NOT NULL ,
				Name Varchar2(255)) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table LogType add primary key (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table SessionLog add Index IX_Relationship199 (UserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table SessionLog add constraint FK_SessionLog_AssetBankUser Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [SessionLog] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table SessionLog add  foreign key (UserId) references AssetBankUser (Id)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetView ADD SessionLogId BigInt
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetView ADD SessionLogId Integer
		</sqlStatement>	
		<sqlStatement type="oracle">
			ALTER TABLE AssetView ADD SessionLogId Double precision
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			Alter table AssetView add Index IX_Relationship226 (SessionLogId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetView add constraint FK_AssetView_SessionLog Foreign Key (SessionLogId) references SessionLog (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [AssetView] add  foreign key([SessionLogId]) references [SessionLog] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AssetView add  foreign key (SessionLogId) references SessionLog (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetUse ADD SessionLogId BigInt
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetUse ADD SessionLogId Integer
		</sqlStatement>	
		<sqlStatement type="oracle">
			ALTER TABLE AssetUse ADD SessionLogId Double precision
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			Alter table AssetUse add Index IX_Relationship227 (SessionLogId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetUse add constraint FK_AssetUse_SessionLog Foreign Key (SessionLogId) references SessionLog (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AssetUse] add  foreign key([SessionLogId]) references [SessionLog] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AssetUse add  foreign key (SessionLogId) references SessionLog (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetChangeLog ADD SessionLogId BigInt
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetChangeLog ADD SessionLogId Integer
		</sqlStatement>	
		<sqlStatement type="oracle">
			ALTER TABLE AssetChangeLog ADD SessionLogId Double precision
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			Alter table AssetChangeLog add Index IX_Relationship230 (SessionLogId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetChangeLog add constraint FK_AssetChangeLog_SessionLog Foreign Key (SessionLogId) references SessionLog (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [AssetChangeLog] add  foreign key([SessionLogId]) references [SessionLog] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table AssetChangeLog add  foreign key (SessionLogId) references SessionLog (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetChangeLog ADD LogTypeId BigInt
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetChangeLog ADD LogTypeId Integer
		</sqlStatement>	
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetChangeLog ADD LogTypeId Double precision
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table AssetChangeLog add Index IX_Relationship229 (LogTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetChangeLog add constraint FK_AssetChangeLog_LogType Foreign Key (LogTypeId) references LogType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AssetChangeLog] add  foreign key([LogTypeId]) references [LogType] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AssetChangeLog add  foreign key (LogTypeId) references LogType (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetChangeLog ADD VersionNumber Int NOT NULL DEFAULT 1
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetChangeLog ADD VersionNumber Integer DEFAULT 1 NOT NULL 
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AssetChangeLog ADD VersionNumber Number DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetChangeLog ADD Id BigInt UNIQUE NOT NULL AUTO_INCREMENT
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetChangeLog ADD Id Integer NOT NULL Identity(100,1)
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetChangeLog ADD Primary Key (Id)
		</sqlStatement>	
		<sqlStatement type="oracle">	
			ALTER TABLE AssetChangeLog ADD Id Double precision NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AssetChangeLog add primary key (Id) 	
		</sqlStatement>
		
		<sqlStatement type="mysql">
			INSERT INTO LogType (Id, Name) VALUES (1, 'Modified')
		</sqlStatement>
		
		<sqlStatement type="mysql">
			INSERT INTO LogType (Id, Name) VALUES (2, 'Added')
		</sqlStatement>
		
		<sqlStatement type="mysql">
			INSERT INTO LogType (Id, Name) VALUES (3, 'Deleted')
		</sqlStatement>
		
		<sqlStatement type="mysql">
			INSERT INTO LogType (Id, Name) VALUES (4, 'Exported')
		</sqlStatement>		
		
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT LogType ON
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			INSERT INTO LogType (Id, Name) VALUES (1, 'Modified')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			INSERT INTO LogType (Id, Name) VALUES (2, 'Added')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			INSERT INTO LogType (Id, Name) VALUES (3, 'Deleted')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			INSERT INTO LogType (Id, Name) VALUES (4, 'Exported')
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT LogType OFF
		</sqlStatement>
		
		
		<sqlStatement type="oracle">
			INSERT INTO LogType (Id, Name) VALUES (1, 'Modified')
		</sqlStatement>
		
		<sqlStatement type="oracle">
			INSERT INTO LogType (Id, Name) VALUES (2, 'Added')
		</sqlStatement>
		
		<sqlStatement type="oracle">
			INSERT INTO LogType (Id, Name) VALUES (3, 'Deleted')
		</sqlStatement>
		
		<sqlStatement type="oracle">
			INSERT INTO LogType (Id, Name) VALUES (4, 'Exported')
		</sqlStatement>					
		
		<sqlStatement type="mysql">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (4, 'Export')
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AssetDownloadType ON
		</sqlStatement>
		<sqlStatement type="sqlserver">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (4, 'Export')
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AssetDownloadType OFF
		</sqlStatement>
		<sqlStatement type="oracle">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (4, 'Export')
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (5, 'Email')
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AssetDownloadType ON
		</sqlStatement>
		<sqlStatement type="sqlserver">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (5, 'Email')
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AssetDownloadType OFF
		</sqlStatement>
		<sqlStatement type="oracle">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (5, 'Email')
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField, IsReadOnly) VALUES (200, 27, 1, 'audit', 'Audit logging', 0, 0, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute ON
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (200, 27, 1, 'audit', 'Audit logging', 0, 0) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute OFF
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (200, 27, 1, 'audit', 'Audit logging', 0, 0) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-asset-audit', 12, 'Link - View asset audit', 'View item audit...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-audit-info', 16, 'Title - Audit info', '#company-name# | View Audit Information', 1, 2) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-audit-info', 10, 'Subhead - Audit Info', 'Audit Information for &quot;?assetTitle?&quot;', 1, 2) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-ip-address', 9, 'Label - IP address', 'IP Address', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="add" setting="max-report-results" value="100" section="General config">
			<comment>
				Maximum number of results to show for a report
			</comment>
		</appSettingChange>

		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />

	</version><version number="3.176">
	
		<userChangeDescription> 
			Added ability to store files in database 
		</userChangeDescription>

		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />
		
		<sqlStatement type="mysql">
			Create table AssetFile (
				Uri Varchar(255) NOT NULL,
				FileData Longblob ,
				DateCreated Datetime NOT NULL,
			 Primary Key (Uri)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [AssetFile]
			(
				[Uri] Nvarchar(255) NOT NULL,
				[FileData] Image NULL,
				[DateCreated] Datetime NOT NULL,
				Primary Key ([Uri])
			) 
		</sqlStatement>
		
		<sqlStatement type="oracle">	
			Create table AssetFile (
				Uri NVarchar2(255) NOT NULL ,
				FileData Blob,
				DateCreated Date NOT NULL) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetFile add primary key (Uri)
		</sqlStatement>
		
		<appSettingChange type="add" section="Server settings" setting="store-files-in-database" value="false">
			<comment>
				Should asset files be stored in the database? (Note, this setting MUST NOT be switched on *after* files have been added to the repository, otherwise those files will be lost!)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Scheduled tasks" setting="delete-stored-files-older-than-mins" value="60">
			<comment>
				When clearing stored files from the filesystem, delete files older than this number of minutes (must be &gt; 0)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Scheduled tasks" setting="delete-stored-files-larger-than-bytes" value="5120">
			<comment>
				When clearing stored files from the filesystem, delete files larger than this number of bytes
			</comment>
		</appSettingChange>
		
	</version><version number="3.177">
	
		<userChangeDescription> 
			Changes to email-assets functionality and asset popularity reports
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD CanEmailAssets Tinyint DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE UserGroup ADD CanEmailAssets Integer DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE UserGroup ADD CanEmailAssets Integer DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE UserGroup SET CanEmailAssets=0 WHERE IsDefaultGroup=1
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-watermark-email-asset', 9, 'Label - Watermark image', 'Watermark image', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" section="General config" setting="num-most-popular-assets" value="0">
			<comment>
				How many most downloaded/viewed assets should be shown? Set to '0' to hide this functionality.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="num-least-popular-assets" value="0">
			<comment>
				How many least downloaded/viewed assets should be shown as a default? Set to '0' to hide this functionality.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Scheduled tasks" setting="usage-stats-reindex-period-minutes" value="0">
			<comment>
				How often should a task be run to reindex assets due to changes in usage stats? Set to '0' if periodic reindexing is not required for usage stats
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			<![CDATA[ UPDATE ListItem SET Body='There are no assets currently selected for export.' WHERE Body='There are no assets currently selectede for export.' ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE ListItem SET Body='There are no assets currently selected for export.' WHERE Body LIKE 'There are no assets currently selectede for export.' ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE ListItem SET Body='There are no assets currently selected for export.' WHERE Body LIKE 'There are no assets currently selectede for export.' ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD NumViews Int NOT NULL DEFAULT -1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD NumDownloads Int NOT NULL DEFAULT -1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD LastDownloaded Datetime
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD NumViews Integer DEFAULT -1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD NumDownloads Integer DEFAULT -1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD LastDownloaded Datetime
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD NumViews Integer DEFAULT -1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD NumDownloads Integer DEFAULT -1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD LastDownloaded Date
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO SystemSetting (Id,Value) VALUES ('UpdateAssetStats','true')
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-most-downloaded', 10, 'Heading - Most Downloaded', 'Most Downloaded #items#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-least-downloaded', 10, 'Heading - Least Downloaded', 'Least Downloaded #items#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-most-downloaded', 16, 'Title - Most Downloaded', '#company-name# | #heading-most-downloaded#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-least-downloaded', 16, 'Title - Least Downloaded', '#company-name# | #heading-least-downloaded#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-most-downloaded', 1, 'Intro - Most Downloaded', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-least-downloaded', 1, 'Intro - Least Downloaded', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-most-viewed', 10, 'Heading - Most Viewed', 'Most Viewed #items#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-least-viewed', 10, 'Heading - Least Viewed', 'Least Viewed #items#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-most-viewed', 16, 'Title - Most Viewed', '#company-name# | #heading-most-viewed#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-least-viewed', 16, 'Title - Least Viewed', '#company-name# | #heading-least-viewed#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-most-viewed', 1, 'Intro - Most Viewed', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-least-viewed', 1, 'Intro - Least Viewed', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-view', 13, 'Snippet - View', 'View', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-views', 13, 'Snippet - Views', 'Views', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-download', 13, 'Snippet - Download', 'Download', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-downloads', 13, 'Snippet - Downloads', 'Downloads', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-browse-popularity', 7, 'Tab - Browse by Popularity', 'Browse by Popularity', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.178">
	
		<userChangeDescription> 
			Additional value functionality added to list attributes
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE AttributeValue ADD AdditionalValue Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE AttributeValue ADD AdditionalValue NVarchar(4000)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE AttributeValue ADD AdditionalValue NClob
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttributeValue ADD AdditionalValue Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">	
			 ALTER TABLE TranslatedAttributeValue ADD AdditionalValue NVarchar(4000)
		</sqlStatement>

		<sqlStatement type="oracle">	
			 ALTER TABLE TranslatedAttributeValue ADD AdditionalValue NClob
		</sqlStatement>
	
	</version><version number="3.179" private="true">
	
		<userChangeDescription> 
			Enhancement for audit logging
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetChangeLog ADD AssetDescription Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetChangeLog ADD AssetDescription Varchar2(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetChangeLog ADD AssetDescription Nvarchar(255)
		</sqlStatement>		
		
	</version><version number="3.180">
	
		<userChangeDescription>
			Adding asset type and asset relationship functionality
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="asset-entities-enabled" value="false">
			<comment>
				Is creating and managing 'types' of assets allowed?
				Note, when first enabling this functionality in a configuration using SqlServer, it will be necessary to manually drop the RelatedAsset table's primary key constraint and add a primary key consisting of all 3 fields (ChildId,ParentId,RelationshipTypeId)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="show-sibling-assets" value="true">
			<comment>
				Should assets that share the same parent asset be shown in the relates assets section of the view asset page?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="no-file-thumbnail" value="thumbnails/no_file_icon.gif">
			<comment>
				The thumbnail to use for asset records with no file
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			Create table RelationshipType (
				Id Bigint NOT NULL,
				Name Varchar(100) NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
			 CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [RelationshipType]
			(
				[Id] Integer NOT NULL,
				[Name] Nvarchar(100) NOT NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table RelationshipType (
				Id Double precision NOT NULL ,
				Name NVarchar2(100) NOT NULL )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RelationshipType add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO RelationshipType (Id, Name) VALUES (1,'Peer')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO RelationshipType (Id, Name) VALUES (2,'Child')
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table AssetEntity (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(100) NOT NULL,
				CanHaveParents Tinyint  NOT NULL DEFAULT 0,
				TermForSiblings Varchar(100) ,
				IsSearchable Bool NOT NULL DEFAULT 1,
			 Primary Key (Id)) TYPE = InnoDB
			 CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table AssetEntityAttribute (
				AssetEntityId Bigint NOT NULL,
				AttributeId Bigint NOT NULL,
		 	Primary Key (AssetEntityId,AttributeId)) TYPE = InnoDB
		 	CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetEntityAttribute add Index IX_Relationship253 (AttributeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetEntityAttribute add constraint FK_AssetEntityAttribute_Attribute Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetEntityAttribute add Index IX_Relationship23522 (AssetEntityId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetEntityAttribute add constraint FK_AssetEntityAttribute_AssetEntity Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table AllowableEntityRelationship (
				AssetEntityId Bigint NOT NULL,
				RelationshipTypeId Bigint NOT NULL,
				FromName Varchar(100) ,
				ToName Varchar(100) ,
				FromNamePlural Varchar(100) ,
				ToNamePlural Varchar(100) ,
				RelatesToAssetEntityId Bigint ,
			 Primary Key (AssetEntityId,RelationshipTypeId)) TYPE = InnoDB
			 CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add Index IX_Relationship23322 (AssetEntityId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add constraint FK_AER_AssetEntity Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add Index IX_Relationship23422 (RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add constraint FK_AER_RelationshipType Foreign Key (RelationshipTypeId) references RelationshipType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add Index IX_Relationship2502 (RelatesToAssetEntityId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add constraint FK_AER_RelatesToAssetEntity Foreign Key (RelatesToAssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table AllowableEntityAssetType (
				AssetEntityId Bigint NOT NULL,
				AssetTypeId Bigint NOT NULL,
			 Primary Key (AssetEntityId,AssetTypeId)) TYPE = InnoDB
			 CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityAssetType add Index IX_Relationship23822 (AssetEntityId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityAssetType add constraint FK_AEAT_AssetEntity Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityAssetType add Index IX_Relationship254 (AssetTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AllowableEntityAssetType add constraint FK_AEAT_AssetType Foreign Key (AssetTypeId) references AssetType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RelatedAsset ADD RelationshipTypeId Bigint NOT NULL DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RelatedAsset add Index IX_Relationship255 (RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RelatedAsset add constraint FK_RelatedAsset_RelationshipType Foreign Key (RelationshipTypeId) references RelationshipType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedAssetEntity (
				AssetEntityId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Name Varchar(200) ,
				TermForSiblings Varchar(200) ,
			 Primary Key (AssetEntityId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedAssetEntity add Index IX_Relationship251 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedAssetEntity add constraint FK_TAE_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedAssetEntity add Index IX_Relationship2412 (AssetEntityId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedAssetEntity add constraint FK_TAE_AssetEntity Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedEntityRelationship (
				AssetEntityId Bigint NOT NULL,
				RelationshipTypeId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				ToName Varchar(200) ,
				ToNamePlural Varchar(200) ,
				FromName Varchar(200) ,
				FromNamePlural Varchar(200) ,
			 Primary Key (AssetEntityId,RelationshipTypeId,LanguageId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedEntityRelationship add Index IX_Relationship252 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedEntityRelationship add constraint FK_TER_Language Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedEntityRelationship add Index IX_Relationship2472 (AssetEntityId,RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedEntityRelationship add Foreign Key (AssetEntityId,RelationshipTypeId) references AllowableEntityRelationship (AssetEntityId,RelationshipTypeId) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD AssetEntityId Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Asset add Index IX_Relationship256 (AssetEntityId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Asset add constraint FK_Asset_AssetEntity Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RelatedAsset drop primary key 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RelatedAsset add primary key (ParentId,ChildId,RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Asset modify AssetTypeId Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Asset modify FileLocation Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [AssetEntity]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(100) NOT NULL,
				[CanHaveParents] Tinyint Default 0 NOT NULL,
				[TermForSiblings] Nvarchar(100) NULL,
				[IsSearchable] Tinyint Default 1 NOT NULL,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [AssetEntityAttribute]
			(
				[AssetEntityId] Integer NOT NULL,
				[AttributeId] Integer NOT NULL,
			Primary Key ([AssetEntityId],[AttributeId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetEntityAttribute] add  foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetEntityAttribute] add  foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [AllowableEntityRelationship]
			(
				[AssetEntityId] Integer NOT NULL,
				[RelationshipTypeId] Integer NOT NULL,
				[RelatesToAssetEntityId] Integer NULL,
				[FromName] Nvarchar(100) NULL,
				[FromNamePlural] Nvarchar(100) NULL,
				[ToName] Nvarchar(100) NULL,
				[ToNamePlural] Nvarchar(100) NULL,
			Primary Key ([AssetEntityId],[RelationshipTypeId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship] add  foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship] add  foreign key([RelationshipTypeId]) references [RelationshipType] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship] add  foreign key([RelatesToAssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [AllowableEntityAssetType]
			(
				[AssetEntityId] Integer NOT NULL,
				[AssetTypeId] Integer NOT NULL,
			Primary Key ([AssetEntityId],[AssetTypeId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityAssetType] add  foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityAssetType] add  foreign key([AssetTypeId]) references [AssetType] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table RelatedAsset ADD RelationshipTypeId Integer DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [RelatedAsset] add  foreign key([RelationshipTypeId]) references [RelationshipType] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedAssetEntity]
			(
				[AssetEntityId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Name] Nvarchar(200) NULL,
				[TermForSiblings] Nvarchar(200) NULL,
			Primary Key ([AssetEntityId],[LanguageId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedAssetEntity] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedAssetEntity] add  foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedEntityRelationship]
			(
				[AssetEntityId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[RelationshipTypeId] Integer NOT NULL,
				[ToName] Nvarchar(200) NULL,
				[ToNamePlural] Nvarchar(200) NULL,
				[FromName] Nvarchar(200) NULL,
				[FromNamePlural] Nvarchar(200) NULL,
			Primary Key ([AssetEntityId],[LanguageId],[RelationshipTypeId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedEntityRelationship] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedEntityRelationship] add  foreign key([AssetEntityId],[RelationshipTypeId]) references [AllowableEntityRelationship] ([AssetEntityId],[RelationshipTypeId])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD AssetEntityId Integer
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [Asset] add  foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table Asset Alter column AssetTypeId Integer
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table Asset Alter column FileLocation NVarchar(255)
		</sqlStatement>
		
		<!-- Cannot drop & rebuild primary key for RelatesAsset-->
		
		<sqlStatement type="oracle">
			Create table AssetEntityAttribute (
				AssetEntityId Double precision NOT NULL ,
				AttributeId Double precision NOT NULL )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetEntityAttribute add primary key (AssetEntityId,AttributeId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table AssetEntity (
				Id Double precision NOT NULL ,
				Name NVarchar2(100) NOT NULL ,
				CanHaveParents Char(1) Default 0 NOT NULL ,
				TermForSiblings NVarchar2(100),
				IsSearchable Char(1) Default 1 NOT NULL )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetEntity add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetEntityAttribute add  foreign key (AttributeId) references Attribute (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetEntityAttribute add  foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table AllowableEntityRelationship (
				AssetEntityId Double precision NOT NULL ,
				RelationshipTypeId Double precision NOT NULL ,
				RelatesToAssetEntityId Double precision,
				FromName NVarchar2(100),
				FromNamePlural NVarchar2(100),
				ToName NVarchar2(100),
				ToNamePlural NVarchar2(100))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship add primary key (AssetEntityId,RelationshipTypeId)	
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship add  foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship add  foreign key (RelatesToAssetEntityId) references AssetEntity (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship add  foreign key (RelationshipTypeId) references RelationshipType (Id)
		</sqlStatement>
		
		
		<sqlStatement type="oracle">
			Create table AllowableEntityAssetType (
				AssetEntityId Double precision NOT NULL ,
				AssetTypeId Double precision NOT NULL )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityAssetType add primary key (AssetEntityId,AssetTypeId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityAssetType add  foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AllowableEntityAssetType add  foreign key (AssetTypeId) references AssetType (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedAssetEntity (
				AssetEntityId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Name NVarchar2(200),
				TermForSiblings NVarchar2(200))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedAssetEntity add primary key (AssetEntityId,LanguageId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedAssetEntity add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedAssetEntity add  foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedEntityRelationship (
				AssetEntityId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				RelationshipTypeId Double precision NOT NULL ,
				ToName NVarchar2(200),
				ToNamePlural NVarchar2(200),
				FromName NVarchar2(200),
				FromNamePlural NVarchar2(200))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedEntityRelationship add primary key (AssetEntityId,LanguageId,RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedEntityRelationship add  foreign key (LanguageId) references Language (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedEntityRelationship add  foreign key (AssetEntityId,RelationshipTypeId) references AllowableEntityRelationship (AssetEntityId,RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RelatedAsset ADD RelationshipTypeId Double precision DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RelatedAsset add  foreign key(RelationshipTypeId) references RelationshipType (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD AssetEntityId Double precision
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table Asset add  foreign key(AssetEntityId) references AssetEntity (Id)
		</sqlStatement>
		
		
		<sqlStatement type="oracle">
			Alter table Asset MODIFY AssetTypeId Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RelatedAsset drop primary key
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RelatedAsset add primary key (ParentId,ChildId,RelationshipTypeId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table Asset MODIFY FileLocation NVarchar2(255) NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE RelatedAsset SET RelationshipTypeId=1
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetEntityRelationshipNamesRequired', 15, 'assetEntityRelationshipNamesRequired', 'Please enter terms for all enabled relationships.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-asset-type', 9, 'Label - Asset Type', 'Type:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationWrongType', 15, 'failedValidationWrongType', 'This #item# type ([0]) cannot accept this type of media.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoType', 15, 'failedValidationNoType', 'This type of media is not supported in the current system configuration.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-details', 13, 'Snippet - Details', 'details', 1, 2)  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-parent', 13, 'Snippet - Parent', 'parent', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-parents', 13, 'Snippet - Parents', 'parents', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-other', 13, 'Snippet - Other', 'other', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-ids', 9, 'Label - Ids', 'Ids:', 1, 2) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInvalidFromRelationship', 15, 'failedValidationInvalidFromRelationship', 'The #item# with id &#39;[0]&#39; is missing or of the wrong type to be added as a &#39;[1]&#39;.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInvalidToRelationship', 15, 'failedValidationInvalidToRelationship', 'The #item# with id &#39;[0]&#39; is not allowed to participate in relationship &#39;[1]&#39;.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInvalidIdList', 15, 'failedValidationInvalidIdList', 'Please ensure that where a list of ids is provided, it is formatted as a list of numbers separated by commas.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'cannotDeleteAssetEntity', 15, 'cannotDeleteAssetEntity', 'This type cannot be deleted as there are #items# currently assigned to it. Please export and delete the #items# first.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationFileRequired', 15, 'failedValidationFileRequired', 'You must specify a file for this type of #item#.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noAssetFilesToDownload', 15, 'noAssetFilesToDownload', 'None of the #items# in your #a-lightbox# have files that can be downloaded.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-find', 12, 'Link - Find', 'Find', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add', 12, 'Link - Add', 'Add', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-edit-relationships', 16, 'Title - Edit Relationships', '#company-name# | #heading-edit-relationships#', 1, 2) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-edit-relationships', 10, 'Heading - Edit Relationships', 'Edit Relationships', 1, 2)  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-edit-relationships', 12, 'Link - Edit Relationships', 'Edit Relationships', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-add-asset', 10, 'Heading - Add Asset', 'Add #item#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-option-any', 1, 'Label - Any', '[any]', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Title='Label - Any (eCommerce)' WHERE Identifier='e-label-option-any' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-choose-type', 10, 'Heading - Choose Type', 'Choose Type', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-select', 11, 'Button - Select', 'Select', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-select-all-on-page', 11, 'Button - Select all on page', 'Select All on Page', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-related-items', 10, 'Heading - Related Items', 'Related #items#', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.180">
	
		<userChangeDescription> 
			Allow restrictions on sending assets by email
			Enhancements to CD request process
			Watermark on download option
		</userChangeDescription>
		
		<appSettingChange type="add" section="Directory settings" setting="email-as-attachment-only" value="false">
			<comment>
				Only allow assets to be emailed by attaching the image (do not allow links to be sent)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-cd-custom-field', 9, 'Label - Request CD custom field', 'Telephone', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>--Requested items--<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' WHERE TextId = 'requestAssetbox' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-cd-address', 9, 'Label - Request CD address', 'Address:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-request-cd', 11, 'Button - Request on CD', 'Request on CD', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" section="Watermark Settings" setting="watermark-option-on-download" value="false">
			<comment>
				Whether to give users the option to watermark on download/email
			</comment>
		</appSettingChange>		
		
		<appSettingChange type="add" section="Watermark Settings" setting="download-watermark-filename" value="">
			<comment>
				The image file to use for download/email watermark. If empty and watermark-option-on-download enabled, will default to watermark-filename
			</comment>
		</appSettingChange>		
		
		<appSettingChange type="add" section="Watermark Settings" setting="download-watermark-gravity" value="">
			<comment>
				Watermark gravity - if empty watermark-gravity used
			</comment>
		</appSettingChange>	

		<appSettingChange type="add" section="Watermark Settings" setting="download-watermark-scale-factor" value="-1">
			<comment>
				Watermark scale factor - if -1 watermark-scale-factor used
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" section="Watermark Settings" setting="download-watermark-brightness" value="-1">
			<comment>
				How strong the watermark will appear - if -1 watermark-brightness used
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="delete" setting="watermark-offset-from" />
		
		<appSettingChange type="delete" setting="watermark-offset-X" />
		
		<appSettingChange type="delete" setting="watermark-offset-Y" />
		
		<appSettingChange type="delete" setting="asset-log-type" />
		
		<appSettingChange type="add" section="User registration/ login" setting="enable-audit-logging" value="false">
			<comment>
				Whether to log changes to assets in an audit log
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" section="Download options" setting="credit-strip-gravity" value="South">
			<comment>
				Placement of credit strip on image set as North or South (for the top or bottom of the image)
			</comment>
		</appSettingChange>	

	</version><version number="3.181" private="true">
		<userChangeDescription> 
			Audit logging enhancements
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Alter table AssetChangeLog Modify Column UserId Bigint
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table AssetChangeLog Alter column UserId Integer
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetChangeLog MODIFY UserId Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetChangeLog Modify Column AssetId Bigint
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table AssetChangeLog Alter column AssetId Integer
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetChangeLog MODIFY AssetId Double precision NULL
		</sqlStatement>
		
	</version><version number="3.182">
	
		<userChangeDescription> 
			Update to export/import process to include related assets
		</userChangeDescription>
		
		<appSettingChange type="add" section="Import/Export settings" setting="export-relationship-data" value="false">
			<comment>
				Should asset relationship data be exported with metadata?
			</comment>
		</appSettingChange>	
	
	</version><version number="3.183" private="true">
	
		<userChangeDescription> 
			Watermark and audit logging enhancements
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View log...' WHERE Identifier='link-view-asset-audit' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Address' WHERE Identifier='label-cd-address' ]]>
		</sqlStatement>		
		
	</version><version number="3.184" private="true">
	
		<userChangeDescription> 
			Watermark and audit logging enhancements
		</userChangeDescription>	
		
	</version><version number="3.185" private="true">
		
		<userChangeDescription> 
			Defect fixes
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-add-file-later', 9, 'Label - add file later', 'Add file later:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-file-later', 13, 'Snippet - add file later', 'Alternatively check the &#39;Add file later&#39; checkbox and click the button to move to the next step and enter metadata for a file that you plan to upload at a later date.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.186" private="true">
		
		<userChangeDescription> 
			Defect fixes
		</userChangeDescription>
		
	</version><version number="3.187">
		
		<userChangeDescription> 
			Changes for Org Unit disk quote limit and report
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER Table OrgUnit ADD DiskQuotaMb Int
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER Table Attribute ADD HasSearchTokens Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER Table Attribute ADD SearchTokenRegExp Varchar(20)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER Table OrgUnit ADD DiskQuotaMb Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD HasSearchTokens Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER Table Attribute ADD SearchTokenRegExp NVarchar(20)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER Table OrgUnit ADD DiskQuotaMb Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD HasSearchTokens Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER Table Attribute ADD SearchTokenRegExp NVarchar2(20)
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInsufficientQuota', 15, 'failedValidationInsufficientQuota', 'You cannot upload this file because your Org Unit(s) would exceed their file storage quotas - please contact an administrator to resolve this issue.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInsufficientOrgUnitQuota', 15, 'failedValidationInsufficientOrgUnitQuota', 'You cannot save this file because the Org Unit &#39;[0]&#39; would exceeded its file storage quota - please contact an administrator to resolve this issue.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Metadata Import</h2><p>A metadata import is achieved by uploading a data file to the server using the file upload control on this page.</p><h3>Data File Format</h3><p>The data file must conform to the following formatting rules:</p><p><ul><li>It must be a plain-text file.</li><li>All fields (columns) should be separated by a tab character.</li><li>Each record should start on a new line.</li><li>If the file was generated during a metadata export, the first line of the file will contain information telling the system how to interpret the data. If the file was not previously exported, the first line can contain human-readable data or can be blank, but must still be present.</li><li>The second line of the file should contain the column headers that identify the fields of the record being updated. There are several standard headers for standard attributes, and you can also add headers that match your custom metadata fields. A description of how this is done can be found in the next section.</li><li>An "Id" column must be present in the imported data file to identify the record in the system. This will typically be the filename of the asset without the file extension.</li><li>Where either the Categories or AccessLevels columns are present, data should be included as follows: separate categories should be delimited using a semi-colon (;). If the category is not at the root level, the name of its parent(s) should be included in front of its name, separated by a forward-slash (/). For example, if you have a subcategory of "Animals" called "Cats", the field value to specify this category should be "Animals/Cats". To also include this record in a "Photo" category the complete field value would be "Animals/Cats;Photo"</li><li>Where a date is provided, it should be in the format "DD/MM/YYYY HH:MM"</li></ul></p><h3>Data Column Headers</h3><p>Each column in the data file requires a header, entered on the second line of the file. These headers will either be one of the standard headers, or a custom one matching an attribute under your control. The standard headers (relating to the standard attributes) are listed below:</p><p><ul><li>AccessLevels</li><li>DescriptiveCategories</li><li>AddedByUser</li><li>DateAdded</li><li>DateCreated</li><li>DateModified</li></ul></p><p>In order to populate a custom attribute from the data file, the column header for the attribute must start with "att:" followed by the attribute name. For example, to populate an attribute "Keywords", a column header for the data must be called "att:Keywords". Note that the attribute name should match the name in the application exactly, including any spaces and capitalisation.</p><h3>Creating a Tab Delimited File using Excel</h3><p>You can generate a tab-delimited text file from Excel by choosing "Save as..." and then selecting "Text (Tab delimited)" for the field "Save as type".</p><p>When you have generated the text file from Excel you should check it using a text editor. Use "search and replace" to replace any characters that Excel may have added to the data - for example, it often adds " characters around fields.</p>' WHERE Identifier='metadata-import' AND LanguageId=1 ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'keyword-token-delimiter-help', 2, 'Attribute Search Token Delimiter help text', 'The help text for an attribute search token delimiter', '<h2>Attribute Search Keyword Delimiters</h2><p>If you require an attribute&#39;s value to be used for running searches from an item&#39;s details page, you need to decide whether the whole value, or parts of the value should be used as search &#39;tokens&#39;. If you wish the entire value to be used as a single search term, no delimiter is required and this field can remain empty. If you require the value to be broken up into separate search terms, the delimiter will tell the system where one term finishes and another starts.</p><p>The attribute&#39;s value will be split around matches of a &#39;regular expression&#39; which this field contains. This could be a single character such as a comma or space, or a much more complicated expression. If you are familiar with regular expressions then you just need to be aware that the syntax should conform to Java&#39;s java.uti.regex.Pattern class&#39;s implementation, which is detailed in the JavaDoc:<br /></p><p><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html" target="_blank" title="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html">http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html</a></p><p>If you are not comfortable with regular expressions and wish to make use of this feature, it is safest to contact Bright Interactive for assistance.<br /></p>', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.188">
		
		<userChangeDescription> 
			Enhance filtering functionality
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Filter ADD CategoryIds Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Filter ADD CategoryIds NVarchar2(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Filter ADD CategoryIds Nvarchar(200)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Filter ADD AccessLevelIds Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Filter ADD AccessLevelIds NVarchar2(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Filter ADD AccessLevelIds Nvarchar(200)
		</sqlStatement>
		
	</version><version number="3.189">
		<userChangeDescription> 
			Added filter type functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table FilterType (
				Id Bigint NOT NULL,
				Name Varchar(255),
				Primary Key (Id)) TYPE = InnoDB;
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table FilterType (
				Id Double precision NOT NULL ,
				Name NVarchar2(255)) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table FilterType add primary key (Id) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [FilterType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NULL,
				Primary Key ([Id])
			) 
		</sqlStatement>
	</version><version number="3.190">
	
		<userChangeDescription> 
			Added filter grouping functionality
		</userChangeDescription>

		 <sqlStatement type="mysql">
			Create table FilterGroup (
			Id Bigint NOT NULL AUTO_INCREMENT,
			FilterTypeId Bigint NOT NULL,
			Name Varchar(200) ,
			Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table FilterInGroup (
			FilterId Bigint NOT NULL,
			GroupId Bigint NOT NULL,
			Primary Key (FilterId,GroupId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table FilterGroup add Index IX_Relationship260 (FilterTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterGroup add constraint FK_FilterGroup_FilterType Foreign Key (FilterTypeId) references FilterType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterInGroup add Index IX_Relationship262 (GroupId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterInGroup add constraint FK_FilterInGroup_FilterGroup Foreign Key (GroupId) references FilterGroup (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table FilterGroup (
				Id Double precision NOT NULL ,
				FilterTypeId Double precision NOT NULL ,
				Name NVarchar2(200))
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterGroup add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterGroup add  foreign key (FilterTypeId) references FilterType (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table FilterInGroup (
				FilterId Double precision NOT NULL ,
				GroupId Double precision NOT NULL)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterInGroup add primary key (FilterId,GroupId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterInGroup add foreign key (FilterId) references Filter (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table FilterInGroup add foreign key (GroupId) references FilterGroup (Id)
		</sqlStatement>		
		
		<sqlStatement type="oracle">		
			CREATE SEQUENCE FilterGroupSequence START WITH 100 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [FilterGroup]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[FilterTypeId] Integer NOT NULL,
				[Name] Nvarchar(200) NULL,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterGroup] add  foreign key([FilterTypeId]) references [FilterType] ([Id]) on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [FilterInGroup]
			(
				[FilterId] Integer NOT NULL,
				[GroupId] Integer NOT NULL,
			Primary Key ([FilterId],[GroupId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterInGroup] add  foreign key([FilterId]) references [Filter] ([Id]) on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterInGroup] add  foreign key([GroupId]) references [FilterGroup] ([Id]) on update no action on delete no action
		</sqlStatement>
		
	</version><version number="3.191">
		
		<userChangeDescription> 
			Attribute templates
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="enable-attribute-templates" value="false">
			<comment>
				Whether to use attribute templates
			</comment>
		</appSettingChange>	
		
		<sqlStatement type="mysql">
			INSERT INTO FilterType(Id,Name) VALUES (1, 'Filter')
		</sqlStatement>
		<sqlStatement type="mysql">
			INSERT INTO FilterType(Id,Name) VALUES (2, 'Template')
		</sqlStatement>
		<sqlStatement type="oracle">
			INSERT INTO FilterType(Id,Name) VALUES (1, 'Filter')
		</sqlStatement>
		<sqlStatement type="oracle">
			INSERT INTO FilterType(Id,Name) VALUES (2, 'Template')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FilterType ON
		</sqlStatement>
		<sqlStatement type="sqlserver">
			INSERT INTO FilterType(Id,Name) VALUES (1, 'Filter')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			INSERT INTO FilterType(Id,Name) VALUES (2, 'Template')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FilterType OFF
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER Table Filter ADD FilterTypeId Bigint NOT NULL DEFAULT 1
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Filter add FilterTypeId Double precision DEFAULT 1 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver"> 
			Alter table Filter add FilterTypeId Integer NOT NULL DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Filter add Index IX_Relationship258 (FilterTypeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Filter add constraint FK_Filter_FilterType Foreign Key (FilterTypeId) references FilterType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Filter add  foreign key (FilterTypeId) references FilterType (Id) 
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			Alter table [Filter] add  foreign key([FilterTypeId]) references [FilterType] ([Id])  on update no action on delete no action 
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			ALTER Table Filter ADD UserId Bigint
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Filter add UserId Double precision
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table Filter add UserId Integer
		</sqlStatement>	
		
		<sqlStatement type="mysql">
			Alter table Filter add Index IX_Relationship259 (UserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table Filter add Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Filter add  foreign key (UserId) references AssetBankUser (Id) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [Filter] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-template', 9, 'Label - Template', 'Template:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-choose-template', 13, 'Snippet - Choose template', '[Choose template]', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-use-template', 9, 'Label - Use template', 'Use an attribute template (page will refresh):', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.192">
		
		<userChangeDescription> 
			Defect fixes
		</userChangeDescription>
		
	</version><version number="3.193">
		
		<userChangeDescription> 
			Fixes for audit logging
		</userChangeDescription>
		
	</version><version number="3.194">
		<userChangeDescription> 
			Update to filtering copy
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>Your currently selected filters have been removed from the system.</p>' WHERE Identifier='snippet-curr-filter-removed' AND LanguageId=1 ]]>
		</sqlStatement>
	</version><version number="3.195">
		<userChangeDescription> 
			Filtering fix
		</userChangeDescription>
		
	</version><version number="3.196">
		
		<userChangeDescription> 
			Improvements to IPTC/EXIF/XMP extraction
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="exifedit-path" />	
		
		<appSettingChange type="add" setting="exiftool-path" value="exiftool" section="Server settings">
			<comment>
				Command to extract and embed metadata e.g. IPTC/EXIF/XMP. This uses the open source ExifTool: see http://www.sno.phy.queensu.ca/~phil/exiftool/index.html. 
				This is included in Asset Bank's distribution for Windows but will need to be installed for Linux/Unix. Set this property to empty if you do not need this facility. 
			</comment>
		</appSettingChange>		
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType ON
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataType (Id, Name) VALUES (4, 'Photoshop') ]]>
		</sqlStatement>			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataType (Id, Name) VALUES (5, 'File') ]]>
		</sqlStatement>		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType OFF
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (300, 5, 'File Name', 'FileName') ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (301, 5, 'File Size', 'FileSize')]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (302, 5, 'File Modify Date/Time', 'FileModifyDate')]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (303, 5, 'File Type', 'FileType')]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (304, 5, 'MIME Type', 'MIMEType')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (305, 5, 'Exif Byte Order', 'ExifByteOrder')]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (306, 5, 'Image Width', 'ImageWidth')]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (307, 5, 'Image Height', 'ImageHeight')]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (308, 5, 'Encoding Process', 'EncodingProcess')]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (309, 5, 'Bits Per Sample', 'BitsPerSample')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (310, 5, 'Color Components', 'ColorComponents')]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (311, 5, 'Y Cb Cr Sub Sampling', 'YCbCrSubSampling')]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>		
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ObjectTypeReference' WHERE Id = 80]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ObjectName' WHERE Id = 81 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'EditStatus' WHERE Id = 82 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'EditorialUpdate' WHERE Id = 83 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Urgency' WHERE Id = 84 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'SubjectReference' WHERE Id = 85 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Category' WHERE Id = 86]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'SupplementalCategories' WHERE Id = 87 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'FixtureIdentifier' WHERE Id = 88 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Keywords' WHERE Id = 89 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ContentLocationCode' WHERE Id = 90 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ContentLocationName' WHERE Id = 91 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ReleaseDate' WHERE Id = 92 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ReleaseTime' WHERE Id = 93 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ExpirationDate' WHERE Id = 94 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ExpirationTime' WHERE Id = 95 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'SpecialInstructions' WHERE Id = 96 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ActionAdvised' WHERE Id = 97 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ReferenceService' WHERE Id = 98 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ReferenceDate' WHERE Id = 99 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ReferenceNumber' WHERE Id = 100 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'DateCreated' WHERE Id = 101 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'TimeCreated' WHERE Id = 102 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'DigitalCreationDate' WHERE Id = 103 ]]>
		</sqlStatement>		
			<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'DigitalCreationTime' WHERE Id = 104 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'OriginatingProgram' WHERE Id = 105 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ProgramVersion' WHERE Id = 106 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ObjectCycle' WHERE Id = 107 ]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'By-Line' WHERE Id = 108 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'By-LineTitle' WHERE Id = 109 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'City' WHERE Id = 110 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Sub-Location' WHERE Id = 111 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Province-State' WHERE Id = 112 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Country-PrimaryLocationCode' WHERE Id = 113 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Country-PrimaryLocationName' WHERE Id = 114 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'OriginalTransmissionReference' WHERE Id = 115 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Headline' WHERE Id = 116 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Credit' WHERE Id = 117 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Source' WHERE Id = 118]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'CopyrightNotice' WHERE Id = 119 ]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Contact' WHERE Id = 120 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'Caption-Abstract' WHERE Id = 121 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Writer-Editor', Expression = 'Writer-Editor' WHERE Id = 122 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'RasterizedCaption' WHERE Id = 123 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ImageType' WHERE Id = 124 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ImageOrientation' WHERE Id = 125 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'LanguageIdentifier' WHERE Id = 126 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'AudioType' WHERE Id = 127 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'AudioSamplingRate' WHERE Id = 128 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'AudioSamplingResolution' WHERE Id = 129 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'AudioDuration' WHERE Id = 130 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'AudioOutcue' WHERE Id = 131  ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ObjectDataPreviewFileFormat' WHERE Id = 132 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ObjectDataPreviewFileFormatVersion' WHERE Id = 133 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Expression = 'ObjectDataPreviewData' WHERE Id = 134 ]]>
		</sqlStatement>		
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Format', Expression = 'Format' WHERE Id = 200  ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Title', Expression = 'Title' WHERE Id =  201]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Creator', Expression = 'Creator' WHERE Id =  202]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Description', Expression = 'Description' WHERE Id =  203]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Subject', Expression = 'Subject' WHERE Id = 204 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Rights', Expression = 'Rights' WHERE Id = 205 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorTool', Expression = 'CreatorTool' WHERE Id = 206 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreateDate', Expression = 'CreateDate' WHERE Id = 207 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ModifyDate', Expression = 'ModifyDate' WHERE Id =  208]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='MetadataDate', Expression = 'MetadataDate' WHERE Id = 209]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='DocumentID', Expression = 'DocumentID' WHERE Id = 210 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='InstanceID', Expression = 'InstanceID' WHERE Id =  211]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ColorMode', Expression = 'ColorMode' WHERE Id =  212]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ICCProfileName', Expression = 'ICCProfileName' WHERE Id = 213 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='AuthorsPosition', Expression = 'AuthorsPosition' WHERE Id = 214 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CaptionWriter', Expression = 'CaptionWriter' WHERE Id =  215]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Category', Expression = 'Category' WHERE Id = 216 ]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Headline', Expression = 'Headline' WHERE Id = 217 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='DateCreated', Expression = 'DateCreated' WHERE Id = 218 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='City', Expression = 'City' WHERE Id =  219]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='State', Expression = 'State' WHERE Id = 220 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Country', Expression = 'Country' WHERE Id = 221 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='TransmissionReference', Expression = 'TransmissionReference' WHERE Id =  222]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Instructions', Expression = 'Instructions' WHERE Id =  223]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Credit', Expression = 'Credit' WHERE Id = 224 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Source', Expression = 'Source' WHERE Id = 225 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='SupplementalCategories', Expression = 'SupplementalCategories' WHERE Id = 226 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='History', Expression = 'History' WHERE Id = 227 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Marked', Expression = 'Marked' WHERE Id = 228 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='WebStatement', Expression = 'WebStatement' WHERE Id = 229 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='UsageTerms', Expression = 'UsageTerms' WHERE Id = 230 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='IntellectualGenre', Expression = 'IntellectualGenre' WHERE Id = 231 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Location', Expression = 'Location' WHERE Id = 232 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CountryCode', Expression = 'CountryCode' WHERE Id =  233]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiAdrExtadr', Expression = 'CreatorContactInfoCiAdrExtadr' WHERE Id =  234]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiAdrCity', Expression = 'CreatorContactInfoCiAdrCity' WHERE Id = 235 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiAdrRegion', Expression = 'CreatorContactInfoCiAdrRegion' WHERE Id = 236 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiAdrPcode', Expression = 'CreatorContactInfoCiAdrPcode' WHERE Id =  237]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiAdrCtry', Expression = 'CreatorContactInfoCiAdrCtry' WHERE Id = 238 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiTelWork', Expression = 'CreatorContactInfoCiTelWork' WHERE Id =  239]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiEmailWork', Expression = 'CreatorContactInfoCiEmailWork' WHERE Id =  240]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='CreatorContactInfoCiUrlWork', Expression = 'CreatorContactInfoCiUrlWork' WHERE Id =  241]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='SubjectCode', Expression = 'SubjectCode' WHERE Id = 242 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Scene', Expression = 'Scene' WHERE Id =  243]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='Orientation', Expression = 'Orientation' WHERE Id = 244 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='XResolution', Expression = 'XResolution' WHERE Id = 245 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='YResolution', Expression = 'YResolution' WHERE Id =  246]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ResolutionUnit', Expression = 'ResolutionUnit' WHERE Id =  247]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='NativeDigest', Expression = 'NativeDigest' WHERE Id = 248 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ExifImageWidth', Expression = 'ExifImageWidth' WHERE Id = 249 ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ExifImageHeight', Expression = 'ExifImageHeight' WHERE Id = 250 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ColorSpace', Expression = 'ColorSpace' WHERE Id =  251]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmbeddedDataValue SET Name='ZUnused', Expression = 'ZUnused' WHERE Id = 252]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (400, 4, 'DisplayedUnitsX', 'DisplayedUnitsX')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (401, 4, 'DisplayedUnitsY', 'DisplayedUnitsY')]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (402, 4, 'GlobalAngle', 'GlobalAngle')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (403, 4, 'GlobalAltitude', 'GlobalAltitude')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (404, 4, 'CopyrightFlag', 'CopyrightFlag')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (405, 4, 'URL', 'URL')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (406, 4, 'PhotoshopQuality', 'PhotoshopQuality')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (407, 4, 'PhotoshopFormat', 'PhotoshopFormat')]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (408, 4, 'ProgressiveScans', 'ProgressiveScans')]]>
		</sqlStatement>	
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>		

	</version><version number="3.197" private="true">
		
		<userChangeDescription> 
			Further improvements to IPTC/EXIF/XMP extraction
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Identifier='snippet-no-embedded-data',Title='Snippet - No embedded data', Body='This image contains no embedded data (e.g. EXIF, IPTC, XMP).' WHERE Identifier='snippet-no-exif' ]]>
		</sqlStatement>			
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Identifier='subhead-embedded-metadata',Title='Subhead - Embedded Metadata', Body='Embedded Metadata' WHERE Identifier='subhead-exif' ]]>
		</sqlStatement>	

	</version><version number="3.198" private="true">
		
		<userChangeDescription> 
			Further improvements to IPTC/EXIF/XMP extraction
		</userChangeDescription>
	
	</version><version number="3.199">
	
		<userChangeDescription> 
			Extended asset entity functionality to allow selection by file format
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="any-option-appears-first-in-quick-search" value="true">
			<comment>
				Is the 'any' option displayed first in the list when listing the asset type options for quick search? (true=first, false=last)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			Alter Table AssetEntity add IsQuickSearchable Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter Table AssetEntity add IncludedFileFormats Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter Table AssetEntity add ExcludedFileFormats Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter Table AssetEntity add SequenceNumber Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table AssetEntity add [IsQuickSearchable] Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table AssetEntity add [IncludedFileFormats] Nvarchar(255) NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table AssetEntity add [ExcludedFileFormats] Nvarchar(255) NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table AssetEntity add SequenceNumber Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table AssetEntity add IsQuickSearchable Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table AssetEntity add IncludedFileFormats NVarchar2(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table AssetEntity add ExcludedFileFormats NVarchar2(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table AssetEntity add SequenceNumber Number
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-any-type', 13, 'Snippet - any type (dropdown)', 'any type', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationFileFormatsRequireMediaTypes', 15, 'failedValidationFileFormatsRequireMediaTypes', 'File formats can only be specified when at least one media format is selected.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationCannotExcludeAndInclude', 15, 'failedValidationCannotExcludeAndInclude', 'You cannot add file formats to both the included and excluded list - once the included list has been populated, all other formats are implicitly excluded.', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.200">
	
		<userChangeDescription> 
			Added ability to 'expire' keywords
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Alter Table CM_Category add IsExpired Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table CM_Category add [IsExpired] Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table CM_Category add IsExpired Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-keyword-chooser', 10, 'Heading - Keyword Chooser', 'Keyword Chooser', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-keyword-chooser', 16, 'Title - Keyword Chooser', '#company-name# | #heading-keyword-chooser#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-synonyms', 9, 'Label - Synonyms', 'Synonyms', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-expired', 13, 'Snippet - expired', 'expired', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-keyword', 9, 'Label - Keyword', 'Keyword', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-keywords-for-letter', 13, 'Snippet - no keywords for letter', 'There are no keywords beginning with the letter', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-all-keywords', 13, 'Snippet - all (keywords)', 'All', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.201">
		
		<userChangeDescription> 
			Added browsable switch to category admin
		</userChangeDescription>
	
	</version><version number="3.202">
		
		<userChangeDescription> 
			Use ExifTool for embedded data on download
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="embed-metadata-in-downloads" />	
	
	</version><version number="3.203" private="true">
		
		<userChangeDescription> 
			Update to restricted functionality
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="can-restrict-asset-preview" />	
	
		<appSettingChange type="add" section="Asset View settings" setting="can-restrict-assets" value="false">
			<comment>
				If true, admin users can select to restrict thumbnails/previews and download of assets
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="hide-restricted-asset-images" value="false">
			<comment>
				Should restricted assets have their thumbnails and previews hidden?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="highlight-restricted-assets" value="true">
			<comment>
				Should restricted assets that are shown in search results etc. be highlighted in some manner (see main.css class: 'restricted')
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-restricted', 9, 'Label - Is Restricted', 'Restricted?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-image-restricted', 13, 'Snippet - image restricted', 'This asset cannot be downloaded by non-admin users as it is restricted.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-image-expired', 13, 'Snippet - image expired', 'This asset cannot be downloaded by non-admin users as it has expired.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.204">
		
		<userChangeDescription> 
			New 'auto browse for single categories' functionality and browse category root change
		</userChangeDescription>
		
		<appSettingChange type="add" section="Browse settings" setting="auto-browse-into-single-cats" value="false">
			<comment>
				This setting defines whether a single category should be automatically browsed into when using the browser on the homepage or on the browse page
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Browse settings" setting="browsing-root-category-id1" value="">
			<comment>
				The top level category to use when browsing descriptive categories on the homepage or the browse page
			</comment>
		</appSettingChange>
		
	</version><version number="3.204" private="true">
		
		<userChangeDescription> 
			Allow hiding of categories
		</userChangeDescription>
		
		<appSettingChange type="add" section="Browse settings" setting="hide-categories" value="false">
			<comment>
				Hide categories from asset view page
			</comment>
		</appSettingChange>
		
	</version><version number="3.205" private="true">
		
		<userChangeDescription> 
			Metadata download fix
		</userChangeDescription>
		
	</version><version number="3.206">
		
		<userChangeDescription> 
			Update to allow a child asset to be used as a surrogate for thumbnail, preview and download
		</userChangeDescription>
		
		<appSettingChange type="add" section="Asset View settings" setting="use-first-child-asset-as-surrogate" value="false">
			<comment>
				Should the first child asset be used as a thumbnail, preview and download surrogate when a parent asset has no file?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			Alter Table RelatedAsset add SequenceNumber Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table RelatedAsset add SequenceNumber Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table RelatedAsset add SequenceNumber Number
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-relationship', 14, 'Javascript - confirm delete relationship', 'Are you sure you want to delete this relationship?', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-option-any-searchable-type', 1, 'Label - Any searchable type', '[any searchable type]', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-option-any-type', 1, 'Label - Any type', '[any type]', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.207" private="true">
		
		<userChangeDescription> 
			Added more customisable content
		</userChangeDescription>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'advanced-search-intro', 1, 'Intro - Advanced search', '', 1, 1) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'browse-intro', 1, 'Intro - Browse', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'lightbox-intro', 1, 'Intro - Lightbox', '', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.208" private="true">
		
		<userChangeDescription> 
			Fixed root category on view page
		</userChangeDescription>	
		
	</version><version number="3.209">
		
		<userChangeDescription> 
			Updated search and export to allow children to receive data from parents, plus added bulk uploading of child assets
		</userChangeDescription>
		
		<appSettingChange type="add" section="Search settings" setting="include-metadata-from-parents-for-search" value="false">
			<comment>
				Should metadata from any of an asset's parents be combined into the child when indexing?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Import/Export Settings" setting="include-metadata-from-parents-for-export" value="false">
			<comment>
				Should metadata from any of an asset's parents be combined into the child when exporting?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Import/Export Settings" setting="export-data-merged-field-delimiter" value="">
			<comment>
				What should be used to delimit concaternated child/parent data in attribute values? (If this value is empty a single space character will be used.)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>The import is in progress.</p><p>This page will automatically refresh every 20 seconds until the import process finishes. If for some reason this does not happen you may <a href="?url?">update the page</a> manually to check the status.</p>' WHERE Identifier='bulk-upload-in-progress' ]]>
		</sqlStatement>
		
	</version><version number="3.210">
		
		<userChangeDescription> 
			Option to allow users to see the full path of the file on the server
		</userChangeDescription>	
		
		<appSettingChange type="add" section="Directory settings" setting="download-from-filesystem" value="false">
			<comment>
				Display the full path to the file on the server
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD COLUMN CanSeeSourcePath TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter Table UserGroup add [CanSeeSourcePath] Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter Table UserGroup add CanSeeSourcePath Char(1) Default 0 NOT NULL
		</sqlStatement>
	
	</version><version number="3.211" private="true">
		
		<userChangeDescription> 
			Updater Enhancements
		</userChangeDescription>	
		
	</version><version number="3.212" private="true">
		
		<userChangeDescription> 
			Updater Enhancements
		</userChangeDescription>

		<appSettingChange type="delete" setting="hide-categories" />	
		
	</version><version number="3.213" private="true">
		
		<userChangeDescription> 
			More content made editable
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'profile-change-password', 1, 'Profile change password', 'You can also <a href="viewChangePassword">change your password</a>.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'email-used-for-username', 1, 'Copy - Email used for username', '<p>Please note that your email address is used for your unique username. <br />You cannot change your email address to one which is already used by another user.</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'profile-modified-by', 9, 'Label - Last modified by', 'Last modified by: ', 1, 2) ]]>
		</sqlStatement>	
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-filtering', 13, 'Snippet - No filtering', 'No filtering', 1, 2) ]]>
		</sqlStatement>	
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-please-select', 13, 'Snippet - Please select', 'Please Select', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subcategory-root', 8, 'Term for subcategory', 'Subcategory', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-no-cats-selected', 1, 'No categories selected on search', '<em>*If no #category-nodes# are selected, all #category-nodes# will be searched.</em>', 1, 1) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-print-image', 12, 'Link - Print Image', 'print image', 1, 2) ]]>
		</sqlStatement>	
	
	</version><version number="3.214" private="true">
		
		<userChangeDescription> 
			Enhancement for embedded data mappings
		</userChangeDescription>	
		
		<sqlStatement type="mysql">
			ALTER TABLE EmbeddedDataMapping ADD COLUMN IsBinary TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter Table EmbeddedDataMapping add [IsBinary] Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter Table EmbeddedDataMapping add IsBinary Char(1) Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.215" private="true">
		
		<userChangeDescription> 
			Enhancement for LDAP functionality
		</userChangeDescription>			
		
		<appSettingChange type="add" section="Active Directory Settings" setting="hide-missing-ldap-users" value="true">
			<comment>
				If users are missing from LDAP should they be hidden in Asset Bank
			</comment>
		</appSettingChange>
		
	</version><version number="3.216" private="true">
		
		<userChangeDescription> 
			Added Original Filename to Asset and update to synchronisation functionality *** NOTE: After this update you will need to reindex the assets (in Admin &gt; Attributes) ***
		</userChangeDescription>

		<userPostUpdateMessage>
			After this update you will need to reindex all assets (in Admin &gt; Attributes).
		</userPostUpdateMessage>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD COLUMN OriginalFilename Varchar(255)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD [OriginalFilename] Varchar(255) 
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD OriginalFilename Varchar(255) 
		</sqlStatement>

		<sqlStatement type="mysql">
			UPDATE Asset SET OriginalFilename=SUBSTRING_INDEX(FileLocation, '/', -1)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			UPDATE Asset SET OriginalFilename=SUBSTRING(FileLocation, CHARINDEX('/', FileLocation)+1, LEN(FileLocation))
		</sqlStatement>
		<sqlStatement type="oracle">
			UPDATE Asset SET OriginalFilename=SUBSTR(FileLocation, INSTR(FileLocation, '/')+1)
		</sqlStatement>

		<appSettingChange type="add" section="General config" setting="duplicate-asset-size-threshold" value="50000">
			<comment>
				The byte threshold for the duplicate asset report. Images under this size will be compared soley on their filename
			</comment>
		</appSettingChange>

	</version><version number="3.217" private="true">
		
		<userChangeDescription> 
			Option to hide lock aspect ratio option
		</userChangeDescription>			
		
		<appSettingChange type="add" section="Download options" setting="show-lock-aspect-ratio" value="false">
			<comment>
				Show the option to lock aspect ratio on advanced download page
			</comment>
		</appSettingChange>
		
	</version><version number="3.218" private="true">
		
		<userChangeDescription> 
			Synchronisation enhancements
		</userChangeDescription>			
		
	</version><version number="3.219" private="true">
		
		<userChangeDescription> 
			Message panel
		</userChangeDescription>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'homepage-message', 1, 'Home Page Message Board', 'The message board text on the homepage', '', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.220" private="true">
		
		<userChangeDescription> 
			Filter enhancements and print image functionality
		</userChangeDescription>			
		
		<sqlStatement type="mysql">
			Alter Table Filter add SequenceNumber Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table Filter add SequenceNumber Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table Filter add SequenceNumber Number
		</sqlStatement>
		
		<appSettingChange type="add" section="Asset View settings" setting="print-image-size" value="800">
			<comment>
				The following is the size for the image when printing
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-print-image', 16, 'Title - Print Image', '#company-name# | #heading-print-image#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-print-image', 10, 'Heading - Print Image', 'Print Image', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-print-image', 1, 'Intro - Print Image', 'This page enables you to chose which attributes are printed alongside the image.', 1, 1) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" section="Download settings" setting="can-non-admin-print" value="false">
			<comment>
				Are non-admin users allowed to print assets
			</comment>
		</appSettingChange>
		
	</version><version number="3.221">
		
		<userChangeDescription> 
			Change to ensure that dropped database connections (e.g. through database outage, network issues) can be recovered when DB connection is restored.
		</userChangeDescription>	
		
		<appSettingChange type="add" section="Directory settings" setting="bulk-upload-match-dir-names-to-cats" value="false">
			<comment>
			Warning! Don't turn this on unless you understand what it will do. If it is true, and a user's bulk upload directory contains one or more subdirectories, then the bulk import will assume that the files in the sub-directories (or sub cats of the sub cats etc) should be put into equivalent categories. If this is true then sub-categories will be created if necessary.
			</comment>
		</appSettingChange>	
		
		<appFileChange type="delete" file="/WEB-INF/lib/excalibur-pool-1.2.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/excalibur-datasource-1.2.0.jar" />
			
		<userPostUpdateMessage>
			NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILES HAVE BEEN DELETED, BEFORE RESTARTING THE WEBAPP: 
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/excalibur-pool-1.2.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/excalibur-datasource-1.2.0.jar
		</userPostUpdateMessage>			
			
	</version><version number="3.222">
		
		<userChangeDescription> 
			Replace file with original filename on search form
		</userChangeDescription>	

		<sqlStatement type="mysql">
			UPDATE Attribute a, Attribute b SET a.IsSearchField=b.IsSearchField WHERE a.StaticFieldName='originalFilename' AND b.StaticFieldName='file'
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE a SET a.IsSearchField = b.IsSearchField FROM Attribute a, Attribute b WHERE a.StaticFieldName='originalFilename' AND b.StaticFieldName='file'
		</sqlStatement>

		<sqlStatement type="oracle">
			UPDATE Attribute a SET a.IsSearchField = (SELECT b.IsSearchField FROM Attribute b WHERE b.StaticFieldName='file') WHERE a.StaticFieldName='originalFilename'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Attribute SET IsSearchField=0 WHERE StaticFieldName='file'
		</sqlStatement>
		
	</version><version number="3.223">
		
		<userChangeDescription> 
			Enable proxy server to be used for outgoing calls (e.g. for updater).
		</userChangeDescription>	
		
		<appSettingChange type="add" section="Server settings" setting="proxy-host" value="">
			<comment>
			If Asset Bank needs to access the Internet (for example to check for updates) and you use a proxy server then you can add the proxy server settings here. Leave empty if you don't have a proxy server:
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="Server settings" setting="proxy-port" value="" />
		<appSettingChange type="add" section="Server settings" setting="proxy-username" value="" />
		<appSettingChange type="add" section="Server settings" setting="proxy-password" value="" />
			
	</version><version number="3.223.1">
		
		<userChangeDescription> 
			Fix for bulk import
		</userChangeDescription>
	</version><version number="3.223.2">
		
		<userChangeDescription> 
			Enhancements to advanced download
		</userChangeDescription>	
	
	</version><version number="3.223.3">
		
		<userChangeDescription> 
			Fix advanced options switch
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE CM_Category SET AllowAdvancedOptions=1
		</sqlStatement>

	</version><version number="3.223.4">
		
		<userChangeDescription> 
			Enhancements to print image
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='print image details' WHERE Identifier='link-print-image' ]]>
		</sqlStatement>
	
	</version><version number="3.223.5">
		
		<userChangeDescription> 
			Fix for original filename
		</userChangeDescription>	

		<sqlStatement type="mysql">
			UPDATE Asset SET OriginalFilename=SUBSTRING_INDEX(FileLocation, '/', -1) WHERE OriginalFilename IS NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			UPDATE Asset SET OriginalFilename=SUBSTRING(FileLocation, CHARINDEX('/', FileLocation)+1, LEN(FileLocation)) WHERE OriginalFilename IS NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			UPDATE Asset SET OriginalFilename=SUBSTR(FileLocation, INSTR(FileLocation, '/')+1) WHERE OriginalFilename IS NULL
		</sqlStatement>
	
	</version><version number="3.223.6">
		
		<userChangeDescription> 
			Content enhancement
		</userChangeDescription>	
			
		<sqlStatement type="all">
			<![CDATA[ Update ListItem Set Body='Last modified by: ' WHERE Identifier='profile-modified-by' ]]>
		</sqlStatement>	
	</version><version number="3.223.7">
	
		<userChangeDescription> 
			Updated datatype of file size column in SqlServer
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ALTER COLUMN FileSizeInBytes Bigint NOT NULL
		</sqlStatement>
		
	</version><version number="3.224">
		
		<userChangeDescription> 
			Asset sensitivity, plus other minor changes
		</userChangeDescription>
		
		<appSettingChange type="add" section="Search settings" setting="select-first-asset-entity-in-advanced-search" value="false">
			<comment>
				Should the first asset entity (type) be selected in the advanced search page rather than the 'any' option?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="first-attribute-position" value="false">
			<comment>
				In what position should the first attribute be shown? Options are 'right', 'below' or 'default', meaning to the right of the image, below the image, or in the attribute list respectively
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="first-attribute-show-label" value="true">
			<comment>
				If the first attribute is being show to the right of or below the image, should the label be shown?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="show-sensitivity-fields" value="false">
			<comment>
				Should the sensitivity attributes be shown allowing assets to be marked as sensitive?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="sensitive-image-thumbnail" value="/images/standard/sensitive-thumbnail.gif">
			<comment>
				The thumbnail image used when asset is sensitive (meaning that its image/thumbnail should be hidden until purposefully selected)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="sensitive-image-preview" value="/images/standard/sensitive-preview.gif">
			<comment>
				The preview image used when asset is sensitive (meaning that its image/thumbnail should be hidden until purposefully selected)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD IsSensitive Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD IsSensitive Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD [IsSensitive] Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute ON
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (300, 28, 1, 'sensitive', 'Is Sensitive?', 0, 0) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField, AttributeTypeId) VALUES (301, 29, 1, 'sensitivityNotes', 'Sensitivity Notes', 0, 0, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-sensitive', 1, 'Label - Sensitive', 'Sensitive?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-provide-sensitivity-notes', 13, 'Snippet - Provide sensitivity notes', 'Please provide reasons below', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSensitivityNotesRequired', 15, 'failedValidationSensitivityNotesRequired', 'Please enter a reason for this item being sensitive.', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.225">
		
		<userChangeDescription> 
			Attribute grouping and hierarchical keywords
		</userChangeDescription>
		
		<appSettingChange type="add" section="Keyword taxonomy config" setting="keyword-anscestor-delimiter" value="/">
			<comment>
				The string to use to delimit children from parents in a string representation of a qualified keywords, e.g '/' in "europe/uk/london" (Note, this is used in a String.split() call as well as during output)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Keyword taxonomy config" setting="keywords-select-by-hierarchy" value="false">
			<comment>
				In addition to the alphabetical list, can keywords also be selected through a hierarchical view?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Keyword taxonomy config" setting="keyword-anscestors-selectable" value="true">
			<comment>
				Can keywords be added/selected at any point in the keyword hierarchy? If false, only leaf keywords (i.e. those with no children) can be selected.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="related-asset-thumbnails-link-to-download" value="false">
			<comment>
				Should related asset thumbnails link to the download page, or the view details page? (false = view details)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeType (Id,Name) VALUES (10,'Group header')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-alphabetical', 7, 'Tab - Alphabetical', 'Alphabetical', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-hierarchical', 7, 'Tab - Hierarchical', 'Hierarchical', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-quick-add', 7, 'Tab - Quick add', 'Quick add', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-keyword-list', 7, 'Tab - Keyword list', 'Keyword list', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-root', 13, 'Snippet - Root', 'Root', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-currently-editing', 13, 'Snippet - You are currently editing', 'You are currently editing:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-open', 12, 'Link - Open', 'open', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-move', 12, 'Link - Move', 'move', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-edit', 12, 'Link - Edit', 'edit', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-keywords', 13, 'Snippet - No keywords', 'There are currently no keywords at this level.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-keyword-to', 13, 'Snippet - Add keyword to', 'Add new keyword to', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-new-keyword', 9, 'Label - New keyword', 'New keyword:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-visible-on-search', 9, 'Label - Visible on search', 'Visible on search:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-add-new-keyword', 9, 'Label - Add new keyword', 'Add new keyword:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-parent', 9, 'Label - Parent', 'Parent:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-keyword', 14, 'Javascript - confirm delete keyword', 'Are you sure you want to delete this keyword?', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-expired', 9, 'Label - Expired', 'Expired?', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.226">
		
		<userChangeDescription> 
			Added asset repurposing functionality, plus 'more like this' attribute value searches
		</userChangeDescription>
		
		<appSettingChange type="add" section="Download options" setting="asset-repurposing-enabled" value="false">
			<comment>
				Is asset file repurposing enabled?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Download options" setting="max-image-repurpose-dimension" value="2000">
			<comment>
				If asset file repurposing is enabled, what is the maximum width or height dimension of an embeddable image
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Download options" setting="default-repurposed-image-max-width" value="500">
			<comment>
				What is the maximum width of the default repurposed image?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Download options" setting="default-repurposed-image-max-height" value="375">
			<comment>
				What is the maximum height of the default repurposed image?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Download options" setting="default-repurposed-image-extension" value="jpg">
			<comment>
				What is the format (i.e. extension) of the default repurposed image?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Directory settings" setting="repurposed-file-base-path" value="">
			<comment>
				If asset file repurposing is enabled, what is the absolute base path (if any) for storing embeddable versions?
				(Note, if this is left blank the base path will be the webapp root)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Directory settings" setting="repurposed-file-base-url" value="">
			<comment>
				If asset file repurposing is enabled, what is the base url for embeddable versions? 
				(Note, if this is left blank the base url will be the webapp url)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Directory settings" setting="repurposed-file-url-path" value="images/assets">
			<comment>
				If asset file repurposing is enabled, what is the url path for embeddable versions? 
				This will be appended to any values provided in repurposed-file-base-path or repurposed-base-url
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="textarea-value-search-more-like-this" value="true">
			<comment>
				Should multi-line text area attributes that allow keyword searches on the asset view page (but no delimiter) be rendered with a "more like this..." link instead of the whole value being a hyperlink? If true, the value will be tokenized on spaces and each token will be 'OR'd together for the search
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset View settings" setting="more-like-this-token-limit" value="100">
			<comment>
				If 'more like this' searches are allowed, what is this maximum number of tokens to extract from the attribute value?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			Alter Table UserGroup add CanRepurposeAssets Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table RepurposedAsset (
				Id Bigint NOT NULL AUTO_INCREMENT,
				AssetId Bigint NOT NULL,
				CreatedByUserId Bigint,
				FileFormatId Bigint NOT NULL,
				Url Varchar(255) NOT NULL,
				Height Int ,
				Width Int ,
				CreatedDate Datetime NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Index IX_Relationship263 (AssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Index IX_Relationship264 (CreatedByUserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Foreign Key (CreatedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Index IX_Relationship265 (FileFormatId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Foreign Key (FileFormatId) references FileFormat (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table UserGroup add [CanRepurposeAssets] Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [RepurposedAsset]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[AssetId] Integer NOT NULL,
				[CreatedByUserId] Integer NULL,
				[FileFormatId] Integer NOT NULL,
				[Url] Nvarchar(255) NOT NULL,
				[Height] Integer NULL,
				[Width] Integer NULL,
				[CreatedDate] Datetime NOT NULL,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add  foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add  foreign key([FileFormatId]) references [FileFormat] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add  foreign key([CreatedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table UserGroup add CanRepurposeAssets Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table RepurposedAsset (
				Id Double precision NOT NULL ,
				AssetId Double precision NOT NULL ,
				CreatedByUserId Double precision ,
				FileFormatId Double precision NOT NULL ,
				Url NVarchar2(255) NOT NULL ,
				Height Number,
				Width Number,
				CreatedDate Date NOT NULL )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RepurposedAsset add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RepurposedAsset add  foreign key (AssetId) references Asset (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RepurposedAsset add  foreign key (CreatedByUserId) references AssetBankUser (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RepurposedAsset add  foreign key (FileFormatId) references FileFormat (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			CREATE SEQUENCE RepurposedAssetSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-repurpose', 9, 'Label - Repurpose', 'Create embeddable version?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew) VALUES (17, 'technical', 'Technical content', 'Content with a technical purpose',1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List OFF
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT AssetDownloadType ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO AssetDownloadType (Id, Description) VALUES (6, 'Repurpose') ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT AssetDownloadType OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-image-html', 17, 'Embeddable image HTML snippet', 'This is a snippet of html that may be provided for embedding an image. The snippet should include the variable: ?url?, and may also include ?height? and/or ?width?', '<img src="?url?" height="?height?" width="?width?"/>', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationMaxRepurposedImageSize', 15, 'failedValidationMaxRepurposedImageSize', 'The maximum height or width of an embeddable image cannot exceed ', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-image-url', 9, 'Label - Image Url', 'Image url:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-html-code', 9, 'Label - Html code', 'HTML code:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-repurposed-image-intro', 13, 'Snippet - embeddable image intro', 'Your version has been successfully created and is shown below. This version will remain accessible until the original item is removed, expired or made restricted.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-image', 10, 'Heading - Embeddable Image', 'Embeddable Image', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-image', 16, 'Title - Embeddable Image', '#company-name# | #heading-repurposed-image#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-repurposed-images-intro', 13, 'Snippet - embeddable images intro', 'Below are embeddable versions that have already been created for this image. You may reuse any of these versions if they are appropriate, or if not you may <a href="?url?">create your own version</a>.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-images', 10, 'Heading - Embeddable Image Versions', 'Embeddable Image Versions', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-images', 16, 'Title - Embeddable Image Versions', '#company-name# | #heading-repurposed-images#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-image-version', 14, 'Javascript - confirm delete image version', 'Are you sure you want to delete this version?', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-email-now', 11, 'Button - Email now', 'Email now', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-create-now', 11, 'Button - Create now', 'Create now', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-email', 11, 'Button - Email', 'Email', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-create', 11, 'Button - Create', 'Create', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-now', 13, 'Snippet - now', 'now', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-original', 13, 'Snippet - original', 'original', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-originals', 13, 'Snippet - originals', 'originals', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-create-new-version', 12, 'Link - Create new version', 'Create new version...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-fit-to-page', 12, 'Link - Fit to page', 'fit to page', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-repurposed-images', 12, 'Link - Back to embeddable images', 'Back to embeddable images', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-created-by', 1, 'Label - Created by', 'Created by:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-created-date', 1, 'Label - Created date', 'Created date:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-width', 1, 'Label - Width', 'Width:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-height', 1, 'Label - Height', 'Height:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-file-type', 1, 'Label - File type', 'File type:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-image-shown-actual-size', 13, 'Snippet - Shown actual size', 'shown actual size', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-can-delete-version', 13, 'Snippet - can delete version', 'If you have created this version in error, you may delete it by clicking the button below.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-cannot-after-leaving-page', 13, 'Snippet - cannot after leaving page', 'Note that you will not be able to do this after leaving this page.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-repurposed-images', 13, 'Snippet - no repurposed versions', 'There are currently no embeddable versions of this image - you may <a href="?url?">create the first embeddable version</a> if you wish.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-version-created-on', 13, 'Snippet - Version created on', 'Version created on', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-embed', 12, 'Link - Embed', 'embed', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table ActionOnAsset (
				Id Bigint NOT NULL,
				Name Varchar(60) NOT NULL,
				Description Varchar(255) ,
				ActionClass Varchar(255) NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE ChangeAttributeValueDateRule ADD ActionOnAssetId Bigint 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AttributeValue ADD ActionOnAssetId Bigint 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table ChangeAttributeValueDateRule add Index IX_Relationship266 (ActionOnAssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table ChangeAttributeValueDateRule add Foreign Key (ActionOnAssetId) references ActionOnAsset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AttributeValue add Index IX_Relationship267 (ActionOnAssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AttributeValue add Foreign Key (ActionOnAssetId) references ActionOnAsset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [ActionOnAsset]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(60) NOT NULL,
				[Description] Nvarchar(255) NULL,
				[ActionClass] Nvarchar(255) NOT NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE ChangeAttributeValueDateRule ADD [ActionOnAssetId] Integer 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AttributeValue ADD [ActionOnAssetId] Integer 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [ChangeAttributeValueDateRule] add  foreign key([ActionOnAssetId]) references [ActionOnAsset] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AttributeValue] add  foreign key([ActionOnAssetId]) references [ActionOnAsset] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table ActionOnAsset (
				Id Double precision NOT NULL ,
				Name Varchar2(60) NOT NULL ,
				Description NVarchar2(255),
				ActionClass NVarchar2(255) NOT NULL )
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table ActionOnAsset add primary key (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE ChangeAttributeValueDateRule ADD ActionOnAssetId Double precision 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AttributeValue ADD ActionOnAssetId Double precision 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table ChangeAttributeValueDateRule add foreign key (ActionOnAssetId) references ActionOnAsset (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AttributeValue add  foreign key (ActionOnAssetId) references ActionOnAsset (Id)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT ActionOnAsset ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (1,'Restrict Asset','Restricts an asset, meaning that it cannot be downloaded by non-admin users and may have it''s preview hidden.','com.bright.assetbank.actiononasset.action.RestrictAssetAction') ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (2,'Unrestrict Asset','Unrestricts a restricted asset, which will make it visible to non-admin users (depending on other permissions).','com.bright.assetbank.actiononasset.action.UnrestrictAssetAction')  ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (3,'Removed Repurposed Images','Removes any repurposed (embeddable) images for an asset.','com.bright.assetbank.actiononasset.action.RemoveRepurposedImagesAction') ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (4,'Mark as Sensitive','Marks an asset as sensitive.','com.bright.assetbank.actiononasset.action.MakeAssetSensitiveAction') ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (5,'Clear Sensitive Status','Clears the sensitite status for an asset.','com.bright.assetbank.actiononasset.action.MakeAssetInsensitiveAction') ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT ActionOnAsset OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'repurposed image updated','noreply@noreply.com','#recipients#;',NULL,NULL,'Asset Bank: Please check embedded image','<p>Dear #name# (#username#)&nbsp;</p><p>On #date# you created an embeddable version of an image file in Asset Bank. This file has recently been replaced, and while the version you created is still usable, it may no longer be relevant. </p><p>Links are provided below in order that you can check that the version you created against the current image file in Asset Bank. If necessary, you can create a new embeddable version of the current image, in which case you will also have to update any external links using the previous embaddable version. </p><p>The embeddable image you created can be seen here:<br />#versionUrl#<br /></p><p>The current image can be seen here:<br />#assetUrl#<br /></p><p>Please contact an admin user if you have any queries regarding this email.</p><p>Kind regards,<br />Asset Bank Admin</p>','repurposed_image_updated') ]]>
		</sqlStatement>
		
	</version><version number="3.227">
		
		<userChangeDescription> 
			Additional proxy setting.
		</userChangeDescription>	
		
		<appSettingChange type="add" section="Server settings" setting="ntlm-domain" value="" />			
	</version><version number="3.228">
		
		<userChangeDescription> 
			Added RSS feeds for saved searches
		</userChangeDescription>
		
		<appSettingChange type="add" section="Search settings" setting="can-create-search-rss" value="false">
			<comment>
				Can users who can save searches create RSS feeds from their saved searches?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="max-search-results-via-rss" value="100">
			<comment>
				What is the maximum number of assets that can be returned in a search for an rss feed?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="default-search-results-via-rss" value="10">
			<comment>
				What is the default number of assets that is returned in a search for an rss feed?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="rss-desciption-multi-line" value="true">
			<comment>
				Can rss descriptions contain 'br' tags to allow multi-line values?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="rss-description-max-length" value="1000">
			<comment>
				What is the maximum number of characters allowed in a rss search result description?
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			Alter Table SavedSearch add IsRssFeed Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter Table Attribute add IsDescriptionAttribute Bool
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD IsRssFeed Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table Attribute add IsDescriptionAttribute Char(1)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD [IsRssFeed] Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table Attribute add [IsDescriptionAttribute] Tinyint NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-rss', 12, 'Link - View Rss Feed', 'View RSS feed', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.229">
		
		<userChangeDescription> 
			Whether users must agree to usage agreements before downloading assets (which can be configured for each asset by admin users)
		</userChangeDescription>
		
		<appSettingChange type="add" section="Download options" setting="agreements-enabled" value="false">
			<comment>
				Whether users must agree to usage agreements before downloading assets (which can be configured for each asset by admin users)
			</comment>
		</appSettingChange>	
		
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (400, 28, 1, 'agreements', 'Agreement', 0, 0) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute ON
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (400, 28, 1, 'agreements', 'Agreement', 0, 0) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT Attribute OFF
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField) VALUES (400, 28, 1, 'agreements', 'Agreement', 0, 0) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter Table Asset add AgreementTypeId Int
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD [AgreementTypeId] Integer 
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD AgreementTypeId Double precision 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table Agreement (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Title Varchar(255),
				Body Mediumtext,
				Expiry Datetime,
				AvailableToAll Bool,
				SharedWithOU Bool,
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [Agreement]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Title] Nvarchar(255) NULL,
				[Body] Ntext NULL,
				[Expiry] Datetime NULL,
				[AvailableToAll] Tinyint NULL,
				[SharedWithOU] Tinyint NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table Agreement (
				Id Double precision NOT NULL ,
				Title NVarchar2(255),
				Body NClob,
				Expiry Date,
				AvailableToAll Char(1),
				SharedWithOU Char(1)) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Agreement add primary key (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Create table TranslatedAgreement (
				AgreementId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Title Varchar(255),
				Body Mediumtext,
			 Primary Key (AgreementId,LanguageId)) TYPE = InnoDB
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [TranslatedAgreement]
			(
				[AgreementId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Title] Nvarchar(255) NULL,
				[Body] Ntext NULL,
			Primary Key ([AgreementId],[LanguageId])
			) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table TranslatedAgreement (
				AgreementId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				Title NVarchar2(255),
				Body NClob) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table TranslatedAgreement add primary key (AgreementId, LanguageId) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table TranslatedAgreement add Index IX_Relationship271 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table TranslatedAgreement add Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [TranslatedAgreement] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table TranslatedAgreement add  foreign key (LanguageId) references Language (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table TranslatedAgreement add Index IX_Relationship269 (AgreementId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table TranslatedAgreement add Foreign Key (AgreementId) references Agreement (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [TranslatedAgreement] add  foreign key([AgreementId]) references [Agreement] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table TranslatedAgreement add foreign key (AgreementId) references Agreement (Id) 
		</sqlStatement>
		
		
		<sqlStatement type="mysql">		
			Create table AssetAgreement (
				AgreementId Bigint NOT NULL,
				AssetId Bigint NOT NULL,
				DateActivated Datetime,
				IsCurrent Bool) TYPE = InnoDB
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Create table [AssetAgreement]
			(
				[AgreementId] Integer NOT NULL,
				[AssetId] Integer NOT NULL,
				[DateActivated] Datetime NULL,
				[IsCurrent] Tinyint NULL
			) 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Create table AssetAgreement (
				AgreementId Double precision NOT NULL ,
				AssetId Double precision NOT NULL ,
				DateActivated Date,
				IsCurrent Char(1)) 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetAgreement add Index IX_Relationship273 (AssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetAgreement add Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [AssetAgreement] add  foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table AssetAgreement add  foreign key (AssetId) references Asset (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetAgreement add Index IX_Relationship272 (AgreementId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetAgreement add Foreign Key (AgreementId) references Agreement (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [AssetAgreement] add  foreign key([AgreementId]) references [Agreement] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table AssetAgreement add  foreign key (AgreementId) references Agreement (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Create table OrgUnitForAgreement (
				AgreementId Bigint NOT NULL,
				OrgUnitId Bigint NOT NULL) TYPE = InnoDB
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Create table [OrgUnitForAgreement]
			(
				[AgreementId] Integer NOT NULL,
				[OrgUnitId] Integer NOT NULL
			) 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Create table OrgUnitForAgreement (
				AgreementId Double precision NOT NULL ,
				OrgUnitId Double precision NOT NULL ) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table OrgUnitForAgreement add Index IX_Relationship275 (OrgUnitId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table OrgUnitForAgreement add Foreign Key (OrgUnitId) references OrgUnit (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [OrgUnitForAgreement] add  foreign key([OrgUnitId]) references [OrgUnit] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table OrgUnitForAgreement add  foreign key (OrgUnitId) references OrgUnit (Id) 
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table OrgUnitForAgreement add Index IX_Relationship274 (AgreementId)
		</sqlStatement>
		
		<sqlStatement type="mysql">	
			Alter table OrgUnitForAgreement add Foreign Key (AgreementId) references Agreement (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">	
			Alter table [OrgUnitForAgreement] add  foreign key([AgreementId]) references [Agreement] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">	
			Alter table OrgUnitForAgreement add  foreign key (AgreementId) references Agreement (Id) 
		</sqlStatement>
			
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAgreementTypeRequired', 15, 'failedValidationAgreementTypeRequired', 'You must specify an agreement type for this #item#.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-agreements', 16, 'Title - Agreements', '#company-name# | #heading-agreements#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-agreements', 10, 'Heading - Agreements', 'Agreements', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-manage-agreements', 10, 'Subhead - Manage agreements', 'Manage Agreements', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-title', 9, 'Label - Agreement title', 'Title', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-expiry', 9, 'Label - Agreement expiry', 'Expiry', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-actions', 9, 'Label - Agreement actions', 'Actions', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-agreement', 12, 'Link - Add an agreement', 'Add an agreement &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-agreement', 14, 'Javascript - Confirm delete agreement', 'Are you sure you want to delete this agreement?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-edit-agreement', 10, 'Subhead - Edit agreement', 'Edit Agreement', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreements', 9, 'Label - Agreements', 'Agreements', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement', 9, 'Label - Agreement', 'Agreement:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-expiry', 9, 'Label - Expiry', 'Expiry:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-shared-with-org-unit', 9, 'Label - Shared with org unit', 'Shared with current Org Unit:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-shared-between-org-units', 9, 'Label - Shared between org units', 'Shared between Org Units:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-view-agreement', 10, 'Heading - View agreement', 'View agreement', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-type', 9, 'Label - Agreement Type', 'Agreement type:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-unrestricted', 13, 'Snippet - Unrestricted', 'Unrestricted', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-agreement-applies', 13, 'Snippet - Agreement applies', 'Agreement applies', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-restricted', 13, 'Snippet - Restricted', 'Restricted', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-preview-agreement', 11, 'Button - Preview agreement', 'Preview agreement', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-previous-agreements', 9, 'Label - Previous agreements', 'Previous agreements', 1, 2) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAgreementTitle', 15, 'failedValidationAgreementTitle', 'Please enter a title for the agreement', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'agreement-checkbox', 1, 'Agreement - Checkbox', 'I have read and accept the <a href="../action/viewAgreeementPopup?Id=?AgreementId?" target="_blank" onclick="popupViewAgreement(?AgreementId?); return false;" />Agreement', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAgreement', 15, 'failedValidationAgreement', 'Please indicate that you accept the Agreement.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.230">
		
		<userChangeDescription> 
			Added news and announcements section
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="news-panel-position" value="right">
			<comment>
				The position of the news panel on the homepage. Can be 'right', 'middle' or anything else (e.g. 'off') when no news panel is required
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			Create table NewsItem (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Title Varchar(255) NOT NULL,
				Content Mediumtext NOT NULL,
				DateCreated Datetime ,
				IsPublished Bool NOT NULL DEFAULT 0,
			 Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table TranslatedNewsItem (
				LanguageId Bigint NOT NULL,
				NewsItemId Bigint NOT NULL,
				Title Varchar(255) ,
				Content Mediumtext ,
			 Primary Key (LanguageId,NewsItemId)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedNewsItem add Index IX_Relationship277 (LanguageId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedNewsItem add Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedNewsItem add Index IX_Relationship2702 (NewsItemId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table TranslatedNewsItem add Foreign Key (NewsItemId) references NewsItem (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [NewsItem]
			(
				[Id] Integer NOT NULL,
				[Title] Nvarchar(255) NOT NULL,
				[Content] Ntext NOT NULL,
				[DateCreated] Datetime NULL,
				[IsPublished] Tinyint Default 0 NOT NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedNewsItem]
			(
				[LanguageId] Integer NOT NULL,
				[NewsItemId] Integer NOT NULL,
				[Title] Nvarchar(255) NULL,
				[Content] Ntext NULL,
			Primary Key ([LanguageId],[NewsItemId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedNewsItem] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedNewsItem] add  foreign key([NewsItemId]) references [NewsItem] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table NewsItem (
				Id Double precision NOT NULL ,
				Title NVarchar2(255) NOT NULL ,
				Content NClob NOT NULL ,
				DateCreated Date,
				IsPublished Char(1) Default 0 NOT NULL ) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table TranslatedNewsItem (
				LanguageId Double precision NOT NULL ,
				NewsItemId Double precision NOT NULL ,
				Title NVarchar2(255),
				Content NClob) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table NewsItem add primary key (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedNewsItem add primary key (LanguageId,NewsItemId) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedNewsItem add  foreign key (LanguageId) references Language (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table TranslatedNewsItem add  foreign key (NewsItemId) references NewsItem (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			CREATE SEQUENCE NewsItemSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-news', 10, 'Heading - News', 'News &amp; Announcements', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.231">
	
		<userChangeDescription> 
			Added ability to search agreement text
		</userChangeDescription>
		
		<appSettingChange type="add" section="Search settings" setting="can-search-agreements" value="false">
			<comment>
				Is agreement text searchable via the advanced search page? Can be 'true', 'false' or 'admin'
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-text', 9, 'Label - Agreement text', 'Agreement text:', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.232" private="true">
		
		<userChangeDescription> 
			Agreements enhancements
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'agreementNameInUse', 15, 'agreementNameInUse', 'The name you have entered is already in use.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.233">
	
		<userChangeDescription> 
			Changes to allow configurable text area sizes
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD Height Int
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD Width Int
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD MaxSize Int
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD IsFiltered Tinyint
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD Height Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD Width Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD MaxSize Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD IsFiltered Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD Height Number
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD Width Number
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD MaxSize Number
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD IsFiltered Char(1)
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE Attribute SET Height=4 WHERE AttributeTypeId=2 AND IsHTML=0
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE Attribute SET Height=10 WHERE AttributeTypeId=2 AND IsHTML=1
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE Attribute SET Width=0 WHERE AttributeTypeId=2
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE Attribute SET MaxSize=4000 WHERE AttributeTypeId=2
		</sqlStatement>
		
	</version><version number="3.234" private="true">
		<userChangeDescription> 
			UI enhancement to Browse by Keywords page
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-browse-keywords', 10, 'Heading - Browse Keywords', 'Browse Keywords', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-hide-keywords', 12, 'Link - Hide keyword list', '&laquo; Hide keyword list', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-select-keyword', 12, 'Link - Select another keyword', 'Select another keyword &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-no-items-found', 10, 'Subhead - No items found', 'No #items# found', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.235" private="true">
		
		<userChangeDescription> 
			Upgrade synchronisation functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'agreement-checkbox-lightbox', 1, 'Agreement checkbox for lightbox', 'I have read and accept the agreement for each #item#', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.236" private="true">
		
		<userChangeDescription> 
			Upgrade duplicates report
		</userChangeDescription>
		
	</version><version number="3.237">
	
		<userChangeDescription> 
			Updates to search and related assets
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="any-option-appears-first-in-search" value="true">
			<comment>
				Is the 'any' option displayed first in the list when listing the asset type options for the advanced search? (true=first, false=last)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="show-approval-status-on-search" value="true">
			<comment>
				Is the approval status field shown on the admin advenced search page?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="sort-by-presence-of-child-assets" value="false">
			<comment>
				Should the primary search ordering be: those assets whith children first, followed by those without?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD MustHaveParent Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD ThumbnailFilename Varchar(100)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD MustHaveParent Tinyint DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD ThumbnailFilename NVarchar(100) NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD MustHaveParent Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD ThumbnailFilename NVarchar2(100)
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-this', 13, 'Snippet - this', 'this', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-a', 13, 'Snippet - a', 'a', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-has', 13, 'Snippet - has', 'has', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-has-parent', 13, 'Snippet - has parent', '', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'upload-success-parent', 1, 'Intro - Upload Success page for parent types', '<p>You may also add a single <a href="viewUploadAssetFile?parentId=?assetId?">?childName?</a> or multiple <a href="viewDataImport?parentId=?assetId?">?childrenName?</a> to this ?typeName?.', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.238" private="true">
	
		<userChangeDescription> 
			Update to agreement link
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem Set Body = 'I have read and accept the <a href="../action/viewAgreeementPopup?Id=?AgreementId?" target="_blank" onclick="popupViewAgreement(?AgreementId?); return false;" />Agreement</a>' WHERE Identifier='agreement-checkbox' ]]>
		</sqlStatement>
		
	</version><version number="3.239">
	
		<userChangeDescription> 
			Updates to hierarchical keyword presentation
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="display-keywords-by-root-ancestor" value="false">
			<comment>
				On the view asset details page, should keywords be grouped by the root ancestor?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Summary='This is a snippet of html that may be provided for embedding an image. The snippet should include the variable: ?url?, and may also include ?height?, ?width? and ?id?' WHERE Identifier='technical-embeddable-image-html' AND LanguageId=1 ]]>
		</sqlStatement>
	
	</version><version number="3.240" private="true">
		
		<userChangeDescription> 
			Fix keywords functionality on bulk update
		</userChangeDescription>			
		
	</version><version number="3.241" private="true">

		<userChangeDescription> 
			Extension to 'restricting' functionality to encompass child relationships
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="restrict-child-assets-with-parent" value="false">
			<comment>
				Should the restricted status of a child asset follow its parent?
			</comment>
		</appSettingChange>
		
	</version><version number="3.242" private="true">
		<userChangeDescription> 
			Browser titles enhancement
		</userChangeDescription>	
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE List SET Name='Browser Titles' WHERE Id=16 ]]>
		</sqlStatement>

	</version><version number="3.243" private="true">
	
		<userChangeDescription> 
			Enhancements to downloaded reports
		</userChangeDescription>	
	
	</version><version number="3.244">
		
		<userChangeDescription> 
			New size constraints functionality for groups
		</userChangeDescription>	
		
		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD MaxDownloadHeight Int
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD MaxDownloadWidth Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE UserGroup ADD MaxDownloadHeight Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE UserGroup ADD MaxDownloadWidth Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE UserGroup ADD MaxDownloadHeight Number
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE UserGroup ADD MaxDownloadWidth Number
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationGroupSize', 15, 'failedValidationGroupSize', 'You have exceeded the maximum download dimensions for the groups you are in', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.245">
		
		<userChangeDescription> 
			New Autoincrement attribute type
		</userChangeDescription>	
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeType (Id, Name) VALUES (11, 'Autoincrement')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD Seed BigInt
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD IncrementAmount Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD Seed BigInt NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD IncrementAmount Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD Seed Number
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD IncrementAmount Number
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAutoincrement', 15, 'failedValidationAutoincrement', 'One of your selected autoincrement values has been used since you started working with this asset. Please try to save the asset again. The value has been updated for the field', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAutoincrementNumber', 15, 'failedValidationAutoincrementNumber', 'One of your autoincrement values is not numeric', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.246" private="true">
		
		<userChangeDescription> 
			Update to categories group visibility functionality
		</userChangeDescription>	
		
		<sqlStatement type="all">
			UPDATE Attribute SET IsReadOnly=0 WHERE StaticFieldName='categories'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Attribute SET IsReadOnly=0 WHERE StaticFieldName='accessLevels'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE AttributeVisibleToGroup SET IsWriteable=1 WHERE AttributeId = (SELECT Id FROM Attribute WHERE StaticFieldName='categories')
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE AttributeVisibleToGroup SET IsWriteable=1 WHERE AttributeId = (SELECT Id FROM Attribute WHERE StaticFieldName='accessLevels')
		</sqlStatement>

	</version><version number="3.247">

		<userChangeDescription> 
			Added ability to use substitutes for large files
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="allow-image-substitutes" value="false">
			<comment>
				Are image assets allowed to have substitute images that are used for thumbnails, previews and converted downloads?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="substitute-file-prefix" value="_">
			<comment>
				When bulk uploading files, what prefix will be given (exclusively) to files that are there as substitutes for image convertions?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="download-image-as-document-extensions" value="pdf">
			<comment>
				A comma-separated list of file extensions for image types that are initially offered for download as documents (e.g. pdf)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Directory settings" setting="single-upload-directory" value="upload">
			<comment>
				Into which directory from the application root should single file uploads be placed?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD HasSubstituteFile Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD HasSubstituteFile Tinyint DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD HasSubstituteFile Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-download-as-image', 12, 'Link - Download as image', 'Download as image &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-upload-file', 11, 'Button - Upload file', 'Upload file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-cancel-upload', 11, 'Button - Cancel Upload', 'Cancel Upload', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-upload-file', 10, 'Subhead - Upload file', 'Upload file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-remove-file', 11, 'Button - Remove File', 'Remove File', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-use-simple-upload', 13, 'Snippet - use simple upload', '(for smaller files you may use the <a href="?url?">simple upload form</a> instead)', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-use-alternative-upload', 13, 'Snippet - use alternative upload', '(for larger files you may use the <a href="?url?">flash/java uploader</a> instead)', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-upload-large-file', 13, 'Snippet - upload a large file', '(to upload a large file you may use the ?link? instead)', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-alternative-uploader', 12, 'Link - alternative uploader', 'uploader popup', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-cancel-file-update', 12, 'Link - Cancel file update', 'cancel file update', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-working-file', 9, 'Label - Working file', 'Working file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-remove-working-file', 9, 'Label - Remove working file', 'Remove working file', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.248">
	
		<userChangeDescription> 
			Extendable list functionality
		</userChangeDescription>	
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD IsExtendableList TINYINT
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD IsExtendableList Integer NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD IsExtendableList Char(1)
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'add-new-value', 13, 'Snippet - Add new value', 'Or, add new value:', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.249" private="true">
	
		<userChangeDescription> 
			Added link to switch between image/file download page
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-download-as-file', 12, 'Link - Download as file', '&laquo; Download as file', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.250" private="true">
	
		<userChangeDescription> 
			Updated to disable bulk upload of there are no uploadable asset types
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-uploadable-types', 13, 'Snippet - no uploadable types', 'There are currently no asset types that you may bulk-upload outside of the context of a parent asset.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.251" private="true">
	
		<userChangeDescription> 
			Minor layout and file structure changes
		</userChangeDescription>
	
		<appSettingChange type="update" section="Directory settings" setting="single-upload-directory" value="files/upload">
			<comment>
				Into which directory from the application root should single file uploads be placed?
			</comment>
		</appSettingChange>
		
	</version><version number="3.252" private="true">
	
		<userChangeDescription> 
			Enhancement to downloading original file
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noPermissionUsageType', 15, 'noPermissionUsageType', 'You do not have permission to download the original file', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.253" private="true">
		
		<userChangeDescription> 
			Fixed problem with autoincrement attribute
		</userChangeDescription>

	</version><version number="3.254" private="true">
		
		<userChangeDescription> 
			Improve synchronisation proxy handling
		</userChangeDescription>

	</version><version number="3.255" private="true">
		
		<userChangeDescription> 
			Fix problems with 'chunked' content when synchronising and autoincrement change
		</userChangeDescription>

	</version><version number="3.256" private="true">
		
		<userChangeDescription> 
			Enhancement to content item
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeID=2 WHERE Identifier = 'intro-bulk-upload-2'
		</sqlStatement>

	</version><version number="3.257" private="true">
		
		<userChangeDescription> 
			Report enhancements
		</userChangeDescription>

	</version><version number="3.258" private="true">
		
		<userChangeDescription> 
			Database enhancements
		</userChangeDescription>

		<sqlStatement type="oracle">
			CREATE SEQUENCE AgreementSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

	</version><version number="3.259">
		
		<userChangeDescription> 
			Preliminary changes for Asset rating and feedback
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Create table AssetRating (
				Rating Int ,
				UserId Bigint NOT NULL,
				AssetId Bigint NOT NULL,
				FeedbackComment Text ,
				Id Bigint NOT NULL AUTO_INCREMENT,
			 Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetRating add Index IX_Relationship278 (AssetId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table AssetRating add Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetRating add Index IX_Relationship279 (UserId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table AssetRating add Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [AssetRating]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[UserId] Integer NOT NULL,
				[AssetId] Integer NOT NULL,
				[Rating] Integer NULL,
				[FeedbackComment] Nvarchar(2000) NULL,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetRating] add  foreign key([AssetId]) references [Asset] ([Id]) on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetRating] add  foreign key([UserId]) references [AssetBankUser] ([Id]) on update no action on delete no action
		</sqlStatement>

		
		<sqlStatement type="oracle">
			Create table AssetRating (
				Id Double precision NOT NULL ,
				UserId Double precision NOT NULL ,
				AssetId Double precision NOT NULL ,
				FeedbackComment NVarchar2(2000),
				Rating Double precision) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AssetRating add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetRating add foreign key (UserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AssetRating add foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">		
			CREATE SEQUENCE AssetRatingSequence START WITH 100 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
	
	</version><version number="3.260" private="true">
		
		<userChangeDescription> 
			Enhancements to cropping functionality
		</userChangeDescription>
		
	</version><version number="3.261" private="true">
		
		<userChangeDescription> 
			Allow date created attribute to store time value
		</userChangeDescription>
		
		<sqlStatement type="all">
			update Attribute set AttributeTypeId=8 where Id=7 and AttributeTypeId=3
		</sqlStatement>
		
		<sqlStatement type="all">
			update AttributeValue set DateTimeValue=DateValue WHERE AttributeId=7
		</sqlStatement>
		
		<sqlStatement type="all">
			update AttributeValue set DateValue=NULL WHERE AttributeId=7
		</sqlStatement>
		
	</version><version number="3.262" private="true">
		
		<userChangeDescription> 
			Enable multiple name attributes
		</userChangeDescription>
		
	</version><version number="3.263" private="true">
		
		<userChangeDescription> 
			Updated framework for alternative remote user directory integration
		</userChangeDescription>
		
		<appSettingChange type="add" section="User registration/ login" setting="remote-user-directory-name" value="Active Directory">
			<comment>
				The screen name of the external user directory (e.g. Active Directory, Crowd, Sage Passport)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="remote-user-directory-icon" value="/images/standard/icon/active_directory_logo.jpg">
			<comment>
				The icon image for the external user directory
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="remote-user-directory-manager" value="com.bright.framework.activedirectory.service.ActiveDirectoryManager">
			<comment>
				The class name of the manager for the remote user directory (implementation of com.bright.framework.user.service.RemoteUserManager)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="authenticate-every-request" value="false">
			<comment>
				Should the authentication filter implementation (if one exists) be called for every request, not just unauthenticated ones?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="force-remote-authentication" value="false">
			<comment>
				Should all requests be made by remotely authenticated users, or are unauthenticated users allowed?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="import-remote-users-on-the-fly" value="false">
			<comment>
				Should remote users be imported into asset bank as they attempt to access it?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="specify-remote-username" value="false">
			<comment>
				Is it possible to specify remote usernames for asset bank users to enable flexible mapping from one to the other
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="remote-group-mapping-delimiter" value="%%">
			<comment>
				What is the delimiter for remote group names in the remote group mapping field?
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-incorrect-login-details', 13, 'Snippet - Incorrect login', 'The details you entered are incorrect. Please try again.', 1, 2) ]]>	
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-logged-out', 13, 'Snippet - Logged out remotely', 'You are not currently authenticated with ?remoteDirectoryName? - please log in again, or contact an administrator if you continue to see this message.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-username-in-use', 13, 'Snippet - Username in use', 'Your ?remoteDirectoryName? username is already taken in this application - please contact an administrator to resolve this issue.', 1, 2) ]]>
		</sqlStatement>
		
		
	</version><version number="3.264" private="true">
		
		<userChangeDescription> 
			Add to lightbox uses Ajax
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There is <strong><span id=''numItemsInLightBox''>?numItems?</span></strong> #item# in your #a-lightbox#.' WHERE Identifier='lb-item-lightbox' AND LanguageId=1 ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There is <strong><span id=''numItemsInLightBox''>?numItems?</span></strong> #item# in this #a-lightbox#.' WHERE Identifier='lb-item-lightboxes' AND LanguageId=1 ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There are <strong><span id=''numItemsInLightBox''>?numItems?</span></strong> #items# in your #a-lightbox#' WHERE Identifier='lb-items-lightbox' AND LanguageId=1 ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There are <strong><span id=''numItemsInLightBox''>?numItems?</span></strong> #items# in this #a-lightbox#.' WHERE Identifier='lb-items-lightboxes' AND LanguageId=1 ]]>
		</sqlStatement>
	
	</version><version number="3.265">
		
		<userChangeDescription> 
			Download tints
		</userChangeDescription>
		
		<appSettingChange type="add" section="Download options" setting="download-tints" value="">
			<comment>
				Download tints - list consisting of name:colour,percentage e.g. Blue:000099,100;Orange:FF9900,100
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-tint', 9, 'Label - Tint', 'Apply Tint:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-tint', 10, 'Subhead - Tint', 'Tint', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.266" private="true">
		
		<userChangeDescription> 
			Add 'Select All' functionality for relationship selection
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-select-all-results', 11, 'Button - Select all results', 'Select All Results', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.267" private="true">
		
		<userChangeDescription> 
			Update to Tint functionality
		</userChangeDescription>

	</version><version number="3.268" private="true">
		
		<userChangeDescription> 
			Entity sequence for Oracle
		</userChangeDescription>

		<sqlStatement type="oracle">
			CREATE SEQUENCE AssetEntitySequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
	
	</version><version number="3.269" private="true">
		
		<userChangeDescription> 
			Update lightbox and change to embedded data mapping table
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE EmbeddedDataMapping CHANGE Delimiter DataDelimiter Varchar(50)
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			sp_rename 'EmbeddedDataMapping.Delimiter', 'DataDelimiter'
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE EmbeddedDataMapping RENAME COLUMN Delimiter TO DataDelimiter
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET Body='Tint:' WHERE Identifier='label-tint'
		</sqlStatement>
	
	</version><version number="3.270" private="true">
		
		<userChangeDescription> 
			Improvements to password and user functionality
		</userChangeDescription>

	</version><version number="3.271" private="true">
		
		<userChangeDescription> 
			Change to embedded data mapping table
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE EmbeddedDataMapping CHANGE DataDelimiter DataDelim Varchar(50)
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			sp_rename 'EmbeddedDataMapping.DataDelimiter', 'DataDelim'
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE EmbeddedDataMapping RENAME COLUMN DataDelimiter TO DataDelim
		</sqlStatement>
	
	</version><version number="3.272">
		
		<userChangeDescription> 
			Added OpenID capability
		</userChangeDescription>
		
		<appSettingChange type="add" section="User registration/ login" setting="enable-open-id" value="false">
			<comment>
				Should OpenID be used for user identification/authentication?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="open-id-is-default" value="false">
			<comment>
				Is OpenID the default option for user authentication?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Scheduled tasks" setting="agreement-expiry-synchronisation-period-minutes" value="-1">
			<comment>
				How often should a task be run to synchronise asset and agreement expiry dates?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="user-requires-delete-permission-on-all" value="false">
			<comment>
				When considering permission to delete assets, should a user have delete permission on ALL an asset's access levels?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="entity-default-category-ids-descriptive" value="true">
			<comment>
				Do default category ids for asset entities (types) relate to descriptive categories? (true=descriptive, false=permissive)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="append" section="User registration/ login" setting="post-login-redirect-exceptions" value="/action/login;/action/loginWithOpenId;/action/loginWithOpenIdResponse">
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD CanCopyAssets Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD DefaultCategoryId Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD GetDataFromChildren Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD CanCopyAssets Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD DefaultCategoryId Bigint NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD GetDataFromChildren Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD CanCopyAssets Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD DefaultCategoryId Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD GetDataFromChildren Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-open-id-prefix', 17, 'OpenID prefix', 'This is the standard prefix that will be applied to OpenIDs entered by users, and will be displayed on the OpenID login page', 'http://', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-open-id', 9, 'Label - Open ID', 'OpenID:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'login-page-copy-open-id', 1, 'Login page copy (OpenID)', 'Text to display on the OpenID login page.', '<p>Please enter your OpenID to log in.</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-asset-and-children', 14, 'Javascript - Confirm delete asset and children?', 'Are you sure you want to permanantly delete this ?entityName?? Any ?childNamePlural? that this ?entityName? has may also be deleted.', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-more-like-this', 12, 'Link - More like this', 'more like this...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-follow-link', 12, 'Link - Follow link', 'view...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>You may also add a single <a href="viewUploadAssetFile?parentId=?assetId?&entityId=?entityId?">?childName?</a> or multiple <a href="viewDataImport?parentId=?assetId?&entityId=?entityId?">?childrenName?</a> to this ?typeName?.' WHERE Identifier='upload-success-parent'  ]]>
		</sqlStatement>
		
	</version><version number="3.273" private="true">
		
		<userChangeDescription> 
			Updated video preview and added video embedding
		</userChangeDescription>
		
		<appSettingChange type="add" section="Asset view settings" setting="scale-video-previews" value="false">
			<comment>
				Should video previews be scaled to fit the standard size of the player?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset view settings" setting="show-flash-video-on-view-details" value="false">
			<comment>
				Should the flash video player be shown on the asset details page? If false a popup link will be shown instead
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Image sizes" setting="video-preview-max-height" value="0">
			<comment>
				What is the maximum height of a video preview? (0 = same as image)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Image sizes" setting="video-preview-max-width" value="0">
			<comment>
				What is the maximum width of a video preview? (0 = same as image)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset view settings" setting="flash-player-width" value="350">
			<comment>
				What width should the flash player be shown at?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset view settings" setting="flash-player-height" value="300">
			<comment>
				What height should the flash player be shown at?
			</comment>
		</appSettingChange>
		
	</version><version number="3.274">
		
		<userChangeDescription> 
			Added Asset workflow framework
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE CM_Category ADD WorkflowName Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE CM_Category ADD WorkflowName NVarchar(200) NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE CM_Category ADD WorkflowName NVarchar2(200)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table WorkflowInfo (
				Id Bigint NOT NULL AUTO_INCREMENT,
				WorkflowName Varchar(200) ,
				VariationName Varchar(200) ,
				StateName Varchar(200) ,
				LastStateChangeDate Datetime ,
			 Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
			ROW_FORMAT = Default
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [WorkflowInfo]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[WorkflowName] Nvarchar(200) NULL,
				[VariationName] Nvarchar(200) NULL,
				[StateName] Nvarchar(200) NULL,
				LastStateChangeDate Datetime ,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table WorkflowInfo (
				Id Double precision NOT NULL ,
				WorkflowName NVarchar2(200),
				VariationName NVarchar2(200),
				StateName NVarchar2(200),
				LastStateChangeDate Date)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table WorkflowInfo add primary key (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			CREATE SEQUENCE WorkflowInfoSequence START WITH 100 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="mysql">		
			ALTER TABLE Asset ADD WorkflowInfoId Bigint 
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table Asset add Index IX_Relationship281 (WorkflowInfoId)
		</sqlStatement>
		<sqlStatement type="mysql">
			ALTER TABLE Asset add Foreign Key (WorkflowInfoId) references WorkflowInfo (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			ALTER TABLE Asset ADD WorkflowInfoId Integer
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Asset] add  foreign key([WorkflowInfoId]) references [WorkflowInfo] ([Id]) on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			ALTER TABLE Asset ADD WorkflowInfoId Double precision 
		</sqlStatement>
				
		<sqlStatement type="oracle">
			Alter table Asset add foreign key (WorkflowInfoId) references WorkflowInfo (Id)
		</sqlStatement>
		
	</version><version number="3.275" private="true">
		
		<userChangeDescription> 
			Improvements to synchronisation functionality
		</userChangeDescription>

	</version><version number="3.276">
		
		<userChangeDescription> 
			Asset rating and feedback
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetRating ADD DateOfFeedback Datetime
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetRating ADD DateOfFeedback Datetime
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetRating ADD DateOfFeedback Date
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-comments', 9, 'Label - Comments', 'Comments', 1, 2) ]]> 
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-rating', 9, 'Label - Rating', 'Rating', 1, 2) ]]> 
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-rating', 13, 'Snippet - Rating', 'Rating', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-comment', 13, 'Snippet - Comment', 'Comment', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-review', 13, 'Snippet - Review', 'Review', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-ratings', 13, 'Snippet - Ratings', 'Ratings', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-comments', 13, 'Snippet - Comments', 'Comments', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-reviews', 13, 'Snippet - Reviews', 'Reviews', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-feedback', 13, 'Snippet - No Feedback', 'There are currently no ?type?s', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-feedback-present', 13, 'Snippet - Feedback Present', 'Users have left ?type?s for this #item#.', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT Attribute ON
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField, IsReadOnly) VALUES (600, 31, 1, 'rating', 'Average Rating', 0, 0, 1) ]]>
		</sqlStatement>


		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT Attribute OFF
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'submit-feedback-main', 1, 'Submit Feedback Intro', '<p>Complete the form below and click submit. Your ?type? will be displayed on the view asset page.</p>', 1, 1) ]]> 
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-submit-feedback', 10, 'Heading - Submit Feedback', 'Submit ?type?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-submit-feedback', 16, 'Title - Submit Feedback', '#company-name# | #heading-submit-feedback#', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup ADD CantReviewAssets TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CantReviewAssets Integer DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE CategoryVisibleToGroup ADD CantReviewAssets Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		

		<appSettingChange type="add" section="General config" setting="comments" value="false">
			<comment>
				Determines whether users should be able to leave comments against an asset
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="ratings" value="false">
			<comment>
				Determines whether users should be able to rate assets
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="multiple-comments-per-asset" value="false">
			<comment>
				Determines whether users can add more than one comment per asset
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="max-rating" value="5">
			<comment>
				The upper limit of the asset rating scale if it is in use
			</comment>
		</appSettingChange>

	</version><version number="3.277" private="true">
		
		<userChangeDescription> 
			Update to Asset Feedback system
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetRating ADD FeedbackSubject Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetRating ADD FeedbackSubject NVarchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetRating ADD FeedbackSubject NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-subject', 9, 'Label - Subject', 'Subject', 1, 2) ]]> 
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'feedbackComments', 15, 'feedbackComments', 'You need to provide comments for your feedback entry.', 1, 2) ]]> 
		</sqlStatement>

	</version><version number="3.278" private="true">
		
		<userChangeDescription> 
			Enable column formatting for checkbox attributes
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="checkbox-attribute-single-list-limit" value="14">
			<comment>
				The largest number of checkbox attributes to display in a single list before spliting into x columns where x is checkbox-attribute-columns
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="checkbox-attribute-columns" value="3">
			<comment>
				The number of columns to split a list of checkbox attributes into if there are more than x checkboxes (where x is checkbox-attribute-single-list-limit)
			</comment>
		</appSettingChange>

	</version><version number="3.279" private="true">
		
		<userChangeDescription> 
			Added limit to relationship 'Select all' functionality
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="select-all-relationship-limit" value="100">
			<comment>
				The maximum no of relationships that can be created with the Select All button at one time...
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-relationships-limit', 13, 'Snippet - Relationship Limit', 'There are too many results to use the select all functionality.', 1, 2) ]]> 
		</sqlStatement>


	</version><version number="3.280" private="true">
	
		<userChangeDescription> 
			Update to OpenID libraries
		</userChangeDescription>
	
	</version><version number="3.281" private="true">
		
		<userChangeDescription> 
			Completion of video embedding functionality
		</userChangeDescription>
		
		<appSettingChange type="add" section="Directory settings" setting="flash-player-base-url" value="tools/flow-player">
			<comment>
				The relative path of the flash player
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Directory settings" setting="repurposed-video-flash-player-base-url" value="">
			<comment>
				If asset file repurposing is enabled, what is the base url for the flash player for embeddable videos? (Note, if this is left blank the default location within the webapp will be used)
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Image sizes" setting="repurposed-video-preview-max-height" value="0">
			<comment>
				What is the maximum height of the video preview on the repurposed/embedded video page? Set to zero for 'no limit' 
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE VideoAsset ADD Duration Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE VideoAsset ADD Width Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE VideoAsset ADD Height Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AudioAsset ADD Duration Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AudioAsset ADD Width Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AudioAsset ADD Height Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedAsset ADD Duration Bigint
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE VideoAsset ADD Duration Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE VideoAsset ADD Width Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE VideoAsset ADD Height Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AudioAsset ADD Duration Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AudioAsset ADD Width Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AudioAsset ADD Height Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset ADD Duration Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE VideoAsset ADD Duration Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE VideoAsset ADD Width Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE VideoAsset ADD Height Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AudioAsset ADD Duration Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AudioAsset ADD Width Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AudioAsset ADD Height Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedAsset ADD Duration Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-duration', 9, 'Label - Duration', 'Duration:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-seconds', 13, 'Snippet - Seconds', 'seconds', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-video-html', 17, 'Embeddable video HTML snippet', 'This is a snippet of html that may be provided for embedding a video. The snippet should include the variable: ?url?, and may also include ?height? and/or ?width?', '<embed src="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CbaseURL%3A%27?flvPlayerUrl?%27%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CnoVideoClip%3A%27%2E%2E%2F%2E%2E%2Fimages%2Fstandard%2Fmisc%2Fno%2Dvideo%2Egif%27%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%2CvideoFile%3A%27?url?%27%7D" width="?width?" height="?height?" scale="scale" bgcolor="111111" type="application/x-shockwave-flash" allowFullScreen="true" allowScriptAccess="always" allowNetworking="all" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed>', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-video', 10, 'Heading - Embeddable Video', 'Embeddable Video', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-videos', 10, 'Heading - Embeddable Video Versions', 'Embeddable Video Versions', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-videos', 16, 'Title - Embeddable Video Versions', '#company-name# | #heading-repurposed-videos#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-video', 16, 'Title - Embeddable Video', '#company-name# | #heading-repurposed-video#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-video-url', 9, 'Label - Video Url', 'Video url:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-repurposed-videos', 12, 'Link - Back to embeddable videos', 'Back to embeddable videos', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-update', 11, 'Button - Update', 'Update', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-reset', 11, 'Button - Reset', 'Reset', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-details-resize', 12, 'Link - View details or resize', 'View details or resize', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-repurposed-videos-intro', 13, 'Snippet - embeddable videos intro', 'Below are embeddable versions that have already been created for this video. You may reuse (and resize) any of these versions if they are appropriate, or if not (for example if the duration needs to change) you may <a href="?url?">create your own version</a>.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-repurposed-videos', 13, 'Snippet - embeddable videos intro', 'There are currently no embeddable versions of this image - you may <a href="?url?">create the first embeddable version</a> if you wish.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('label-lock-aspect-nc', 9, 'Label - Lock Aspect Ratio (no colon)', 'Lock Aspect Ratio', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-video-changes-page-only', 13, 'Snippet - video changes page only', 'Note, changes to the size will only affect this page, and will not affect the way this video appears elsewhere.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-smaller-then-actual-size', 13, 'Snippet - smaller than actual size', 'Shown smaller than actual size.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.282" private="true">
		
		<userChangeDescription> 
			Enabling news management for SqlServer
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">
			DROP TABLE [TranslatedNewsItem]
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			DROP TABLE [NewsItem]
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [NewsItem]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Title] Nvarchar(255) NOT NULL,
				[Content] Ntext NOT NULL,
				[DateCreated] Datetime NULL,
				[IsPublished] Tinyint Default 0 NOT NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [TranslatedNewsItem]
			(
				[LanguageId] Integer NOT NULL,
				[NewsItemId] Integer NOT NULL,
				[Title] Nvarchar(255) NULL,
				[Content] Ntext NULL,
			Primary Key ([LanguageId],[NewsItemId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedNewsItem] add  foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [TranslatedNewsItem] add  foreign key([NewsItemId]) references [NewsItem] ([Id])  on update no action on delete no action
		</sqlStatement>
		
	</version><version number="3.283" private="true">
		
		<userChangeDescription> 
			Update to feedback functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'submit-feedback-rating', 1, 'Submit Feedback Rating', 'Please select your rating by clicking on one of the stars below.', 1, 1) ]]> 
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'submit-feedback-comment', 1, 'Submit Feedback Comment', 'Please enter a subject and comment to complete your review.', 1, 1) ]]> 
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Please select your rating by clicking on one of the stars below, and then enter a subject and comment to complete your review.' WHERE Identifier='submit-feedback-main' ]]> 
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There are ?feedbackCount? reviews for this #item#.' WHERE Identifier='snippet-feedback-present' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-feedback-present-single', 13, 'Snippet - Feedback Present Single', 'There is 1 review for this #item#.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.284" private="true">
	
		<userChangeDescription> 
			Improved video conversion error handling
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-video-conversion-error', 13, 'Snippet - video conversion error', 'An error occurred during your video conversion. If you specified the frame rate and/or audio sampling rate you may have entered values that are incompatible with the output file format.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-video-conversion', 13, 'Snippet - no video conversion', 'You currently have no video conversions in progress.</p><p>If you were in the middle of converting a video then an error may have occurred with your conversion. Please return to the asset and try again.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-error-warning', 13, 'Snippet - error warning', 'Note, you should only enter values you know are valid for the format.', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.285" private="true">
		
		<userChangeDescription> 
			Update to video conversion advanced options
		</userChangeDescription>
		
		<appSettingChange type="add" section="Server settings" setting="video-preview-frame-rate" value="25">
			<comment>
				The frame rate used for video preview conversion
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-low', 13, 'Snippet - low', 'Low', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-standard', 13, 'Snippet - standard', 'Standard', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.286" private="true">
		
		<userChangeDescription> 
			Update video conversion content items
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-high', 13, 'Snippet - high', 'High', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier='snippet-low' ]]>
		</sqlStatement>
		
	</version><version number="3.287" private="true">
		
		<userChangeDescription> 
			Update to ratings system
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-not-yet-rated', 13, 'Snippet - not yet rated', 'Not yet rated', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.288" private="true">
		
		<userChangeDescription> 
			Update to workflow settings
		</userChangeDescription>
		
		<appSettingChange type="add" section="Workflow Settings" setting="workflow-xmlFilePath" value="WEB-INF/manager-config/workflow/workflows.xml">
			<comment>
				Path to workflow description file
			</comment>
		</appSettingChange>
		
	</version><version number="3.289" private="true">
		
		<userChangeDescription> 
			New content item
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-not-approved', 13, 'Snippet - Not Approved', 'Not Approved', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.290" private="true">
		
		<userChangeDescription> 
			Update to add content management to feedback subject
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew, NoHTMLMarkup) VALUES (18, 'feedback_subject', 'Feedback Subject', 'List items to be used for the feedback subject',0, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT List OFF
		</sqlStatement>

	</version><version number="3.291" private="true">
		
		<userChangeDescription> 
			Update to access level visibility
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE Attribute SET IsReadOnly=1 WHERE StaticFieldName='accessLevels'
		</sqlStatement>
			
		<sqlStatement type="all">
			UPDATE AttributeVisibleToGroup SET IsWriteable=0 WHERE AttributeId = (SELECT Id FROM Attribute WHERE StaticFieldName='accessLevels')
		</sqlStatement>
	
	</version><version number="3.292" private="true">
		
		<userChangeDescription> 
			Update to pdf functionality
		</userChangeDescription>
		
	</version><version number="3.293" private="true">
		
		<userChangeDescription> 
			Add maximum to workflow approve uploads screen
		</userChangeDescription>

		<appSettingChange type="add" section="Workflow Settings" setting="workflow-max-assets-on-list" value="20">
			<comment>
				Number of assets to show on upload approval workflow screen
			</comment>
		</appSettingChange>

	</version><version number="3.294" private="true">
		
		<userChangeDescription> 
			Add workflow messages to cms
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-note-about-approval-update-bulk', 13, 'Snippet - Note about setting approved/unapproved on bulk update', 'Note:<br/>Setting assets unapproved will add them to their configured approval workflow.<br/>Setting assets approved will remove them from any existing workflow.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-note-about-approval-update-set', 13, 'Snippet - Note about setting approved', 'Approving this asset will remove it from its approval workflow.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-note-about-approval-update-unset', 13, 'Snippet - Note about setting unapproved', 'Unapproving this asset will add the asset to the configured workflow (and it will appear under Approve Items for approvers).', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-approve-downloads', 7, 'Tab - Approve downloads', 'Downloads', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-approve-uploads', 7, 'Tab - Approve uploads', 'Uploads/Edits', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-number-uploaded-items', 13, 'Snippet - Number of uploaded items to approve', 'There are ?totalSize? #item#s in total, of which ?returnSize? are shown.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-uploaded-items', 13, 'Snippet - No uploaded items to approve', 'There are currently no #item#s for you to approve.', 1, 2) ]]>
		</sqlStatement>
						
	</version><version number="3.295" private="true">
		
		<userChangeDescription> 
			Update to workflow functionality
		</userChangeDescription>
		
	</version><version number="3.296" private="true">
		
		<userChangeDescription> 
			Enable batch approval of assets for workflow
		</userChangeDescription>
			
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-approve-assets', 12, 'Link - Batch approve assets', 'Batch approve these assets &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-do-not-embed-mapped-data', 9, 'Label - do not embed mapped data', 'Don''t embed mapped data', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.297" private="true">
		
		<userChangeDescription> 
			Added support for JPEG2000 file format
		</userChangeDescription>	
	
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>	
		
		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (19,'JPEG 2000','JPEG2000','jp2',2,0,1,1,null,'image/jpeg')
		</sqlStatement>
	
		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (20,'JPEG 2000','JPEG2000','j2k',2,0,1,1,null,'image/jpeg')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>			
		
	</version><version number="3.298" private="true">
		
		<userChangeDescription> 
			Enable batch approval of assets for workflow
		</userChangeDescription>
			
		<appSettingChange type="add" section="General config" setting="asset-entity-key" value="false">
			<comment>
				Should a key for the asset entities be shown on the search / browse results page
			</comment>
		</appSettingChange>
		

	</version><version number="3.299" private="true">
		
		<userChangeDescription> 
			Add workflow messages to cms
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-force-unapproved', 9, 'Label - force asset unapproved', 'Get Approved?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-note-about-force-unapproved', 13, 'Snippet - Note about forcing unapproved', 'Check to add the #item# to the approval workflow.', 1, 2) ]]>
		</sqlStatement>
						
	</version><version number="3.300">
		
		<userChangeDescription> 
			Added search builder and agreement update
		</userChangeDescription>
		
		<appSettingChange type="add" section="Search settings" setting="search-builder-enabled" value="true">
			<comment>
				Is the search builder enabled?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="search-builder-default" value="false">
			<comment>
				If the search builder is enabled, is it the default search method?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Search settings" setting="user-driven-sorting-enabled" value="true">
			<comment>
				Does the user have the option of sorting their own search results?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-use-search-builder', 12, 'Link - Use search builder', 'Use the search builder', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-use-search-form', 12, 'Link - Use search form', 'Use the search form', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET AttributeTypeId=8 WHERE Id IN (8,9) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT Attribute ON
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO Attribute (Id, SequenceNumber, AttributeTypeId, IsStatic, StaticFieldName, Label, IsMandatory, IsSearchField, IsReadOnly) VALUES (700, 32, 8, 1, 'dateLastDownloaded', 'Date Last Downloaded', 0, 0, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT Attribute OFF
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-text-nc', 9, 'Label - Agreement text (no colon)', 'Agreement text', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationEmptyClause', 15, 'failedValidationEmptyClause', 'Please enter a value for all clauses.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-approval-status-nc', 9, 'Label - Approval Status (no colon)', 'Approval Status', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-completeness-nc', 9, 'Label - Completeness (no colon)', 'Completeness', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-last-downloaded-nc', 9, 'Label - Last downloaded (no colon)', 'Date last downloaded', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-sort-by', 9, 'Label - Sort by', 'Sort by:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-default-ordering', 9, 'Label - Default ordering', 'Default ordering', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetEntityHasRelationships', 15, 'assetEntityHasRelationships', 'This type cannot currently be deleted because it is referenced by one or more other type''s relationships. Please reconfigure or remove any parent types first.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-ascending', 13, 'Snippet - Ascending', 'Ascending', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-descending', 13, 'Snippet - Descending', 'Descending', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-audio-html', 17, 'Embeddable audio HTML snippet', 'This is a snippet of html that may be provided for embedding an audio clip. The snippet should include the variable: ?url?, and may also include ?width?', '<embed src="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CbaseURL%3A%27?flvPlayerUrl?%27%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CnoVideoClip%3A%27%2E%2E%2F%2E%2E%2Fimages%2Fstandard%2Fmisc%2Fno%2Dvideo%2Egif%27%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%2CvideoFile%3A%27?url?%27%7D" width="?width?" height="74" scale="scale" bgcolor="111111" type="application/x-shockwave-flash" allowFullScreen="true" allowScriptAccess="always" allowNetworking="all" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed>', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-audio-clip', 10, 'Heading - Embeddable Audio Clip', 'Embeddable Audio Clip', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-audio-clips', 10, 'Heading - Embeddable  Audio Clips', 'Embeddable Audio Clips', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-audio-clips', 16, 'Title - Embeddable Audio Clips', '#company-name# | #heading-repurposed-audio-clips#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-audio-clip', 16, 'Title - Embeddable Audio Clip', '#company-name# | #heading-repurposed-audio-clip#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-clip-url', 9, 'Label - Clip Url', 'Clip url:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-repurposed-audio-clips', 12, 'Link - Back to embeddable audio clips', 'Back to embeddable audio clips', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There are currently no embeddable versions of this video - you may <a href="?url?">create the first embeddable version</a> if you wish.' WHERE Identifier='snippet-no-repurposed-videos' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-repurposed-video-intro', 13, 'Snippet - embeddable video intro', '', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-repurposed-audio-clip-intro', 13, 'Snippet - embeddable audio clip intro', '', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-repurposed-audio-clips-intro', 13, 'Snippet - embeddable audio clips intro', 'Below are embeddable versions that have already been created for this audio file. You may reuse any of these versions if they are appropriate, or if not (for example if the duration needs to change) you may <a href="?url?">create your own version</a>.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-repurposed-audio-clips', 13, 'Snippet - no embeddable audio clips', 'There are currently no embeddable versions of this audio file - you may <a href="?url?">create the first embeddable version</a> if you wish.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-minutes', 13, 'Snippet - Minutes', 'minutes', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-second', 13, 'Snippet - Second', 'second', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-minute', 13, 'Snippet - Minute', 'minute', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-audio-conversion-status', 16, 'Title - Audio Conversion Status', 'Audio Conversion Status', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-audio-conversion-status', 10, 'Heading - Audio Conversion Status', 'Audio Conversion Status', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-audio-conversion', 13, 'Snippet - no audio conversion', 'You currently have no audio conversions in progress.</p><p>If you were in the middle of converting an audio clip then an error may have occurred with your conversion. Please return to the asset and try again.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-audio-conversion-error', 13, 'Snippet - audio conversion error', 'An error occurred during your audio conversion. If you specified the audio sampling rate you may have entered values that are incompatible with the output file format.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-converting-audio', 13, 'Snippet - Converting audio', 'Converting your audio clip. This may take a few minutes...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-converting-video', 13, 'Snippet - Converting video', 'Converting your video. This may take a few minutes...', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-converted-file-size', 13, 'Snippet - Converted file size', 'Current converted file size:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-audio-conversion-finished', 13, 'Snippet - Audio conversion finished', 'Your audio conversion has finished', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-video-conversion-finished', 13, 'Snippet - Video conversion finished', 'Your video conversion has finished', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-media-download-links', 13, 'Snippet - Media download links', 'If your download doesn&#39;t start automatically please <a href="?downloadUrl?">right click here</a> and select &#39;Save As&#39;. Once you have finished downloading the file you can either <a href="?viewAssetUrl?">view the asset page</a> or select another option from the menu on the left hand side.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-download-audio', 10, 'Heading - Download Audio', 'Download Audio', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-audio', 16, 'Title - Download Audio', '#company-name# | #heading-download-audio#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'audio-conversion-advanced-copy', 1, 'Copy - Audio Conversion Advanced Copy', '<em><p>You can use the following form to adjust the audio sample rate (Hz) of the converted audio clip. Note that selecting a value higher than the input clip''s value will result in no change.</p><p>You can also select to download a particular chunk of the audio clip by setting the offset start position and the duration you want to download.</p></em>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-low', 13, 'Snippet - low', 'Low', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-builder-intro', 1, 'Intro - Search builder', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-relevance', 9, 'Label - Relevance', 'Relevance', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-boolean-and', 13, 'Snippet - Boolean AND', 'AND', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-boolean-or', 13, 'Snippet - Boolean OR', 'OR', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-general-keywords', 13, 'Snippet - General keywords', 'General Keywords', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-search-builder-query-changed', 13, 'Snippet - Search builder query changed', 'When searching using a date or numeric value, the clauses from this value onwards in the query must use the "AND" operator. The query has been changed to reflect this.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-search-builder-clause', 12, 'Link - Add search builder clause', 'add clause', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Asset Usage' WHERE Label='Asset usage' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Audit Logging' WHERE Label='Audit logging' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Active Status' WHERE Label='Active status' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Activation Date' WHERE Label='Activation date' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Expiry Date' WHERE Label='Expiry date' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Usage Rights' WHERE Label='Usage rights' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Date Last Downloaded' WHERE Body LIKE 'Date last downloaded' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Agreement Text:' WHERE Body LIKE 'Agreement text:' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Agreement Type:' WHERE Body LIKE 'Agreement type:' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET Label='Agreement Type' WHERE Id=400 ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET AttributeTypeId=8 WHERE Id=8 and AttributeTypeId=3]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD UnrestAgreementId Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD RestAgreementId Bigint
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD IsSearchBuilderField Bool NOT NULL DEFAULT 1
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD IsBuilderSearch Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD IsDescending Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD SortAttributeId Bigint
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD UnrestAgreementId Bigint NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD RestAgreementId Bigint NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD IsSearchBuilderField Tinyint DEFAULT 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD IsBuilderSearch Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD IsDescending Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD SortAttributeId Bigint NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD UnrestAgreementId Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD RestAgreementId Number NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD IsSearchBuilderField Char(1) DEFAULT 1 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD IsBuilderSearch Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD IsDescending Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD SortAttributeId Number NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET IsSearchBuilderField=IsSearchField ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET IsSearchBuilderField=0 WHERE Id IN (6,15,16,17,18,19,22,23,31,200) ]]>
		</sqlStatement>
		
	</version><version number="3.301" private="true">
		
		<userChangeDescription> 
			Enable messages to be left when approving assets
		</userChangeDescription>
			
		<appSettingChange type="add" section="General config" setting="enable-asset-approval-messages" value="false">
			<comment>
				Whether users can leave messages when approving assets
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-message-nc', 9, 'Label - Message', 'Message', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-asset-approval-messages', 10, 'Label - Asset approval messages', 'Asset approval messages', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-no-messages', 1, 'No messages', 'There are no messages for this asset', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-message-from-previous', 13, 'Snippet - Message from previous approver', 'Message from previous approver:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-message-to-next', 13, 'Snippet - Message to next', 'Message to next approver:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table AssetWorkflowAudit (
				Id Bigint NOT NULL AUTO_INCREMENT,
				UserId Bigint,
				AssetId Bigint NOT NULL,
				Message Mediumtext,
				DateAdded Datetime,
			Primary Key (Id,AssetId)) TYPE = InnoDB
		</sqlStatement>
 
		<sqlStatement type="mysql">
			Alter table AssetWorkflowAudit add Index IX_Relationship282 (AssetId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetWorkflowAudit add Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetWorkflowAudit add Index IX_Relationship284 (UserId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table AssetWorkflowAudit add Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table AssetWorkflowAudit (
				Id Double precision NOT NULL ,
				UserId Double precision,
				AssetId Double precision NOT NULL ,
				Message NClob,
				DateAdded Date,
			primary key (Id,AssetId) 
			) 
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AssetWorkflowAudit add  foreign key (AssetId) references Asset (Id) 
		</sqlStatement>	
		
		<sqlStatement type="oracle">
			Alter table AssetWorkflowAudit add  foreign key (UserId) references AssetBankUser (Id) 
		</sqlStatement>	

		<sqlStatement type="oracle">
			CREATE SEQUENCE WorkflowAuditSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>	


		<sqlStatement type="sqlserver">
			Create table [AssetWorkflowAudit]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[UserId] Integer NULL,
				[AssetId] Integer NOT NULL,
				[Message] Ntext NULL,
				[DateAdded] Datetime NULL,
			Primary Key ([Id],[AssetId])
			) 
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">
			Alter table [AssetWorkflowAudit] add  foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>	
		
		<sqlStatement type="sqlserver">
			Alter table [AssetWorkflowAudit] add  foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>	


	</version><version number="3.302" private="true">
	
		<userChangeDescription> 
			Updates to search builder functionality
		</userChangeDescription>
		
		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin > Attributes and click 'reindex existing assets'. ]]>
		</userPostUpdateMessage>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-contains', 13, 'Snippet - Operator: contains', 'contains', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-not-contains', 13, 'Snippet - Operator: doesn''t contain', 'doesn''t contain', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-equal-to', 13, 'Snippet - Operator: equal to', 'equal to', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-not-equal-to', 13, 'Snippet - Operator: not equal to', 'not equal to', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-before', 13, 'Snippet - Operator: before', 'before', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-after', 13, 'Snippet - Operator: after', 'after', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-less-than', 13, 'Snippet - Operator: less than', 'less than', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-op-more-than', 13, 'Snippet - Operator: more than', 'more than', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.303" private="true">
	
		<userChangeDescription> 
			Enhancements to tinting and messages on approval
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-previous-messages', 12, 'Link - View previous messages', 'View previous messages', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-decide-later', 13, 'Snippet - Decide later', 'Decide later', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-change-approval-status', 10, 'Subhead - Change Approval Status', 'Change Approval Status', 1, 2) ]]>
		</sqlStatement>
			
	</version><version number="3.304" private="true">
	
		<userChangeDescription> 
			Enhancement to search builder validation
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNumberFormat', 15, 'failedValidationNumberFormat', 'Please ensure that numeric values are provided where appropriate.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.305">
	
		<userChangeDescription> 
			Added sort functionality when browsing assets
		</userChangeDescription>
		
		<appSettingChange type="add" section="Browse settings" setting="user-driven-browse-sorting-enabled" value="false">
			<comment>
				Can the user sort the assets in the browse view?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-audio-url', 9, 'Label - Audio Url', 'Audio url:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='technical-embeddable-audio-html'
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-audio-html', 17, 'Embeddable audio HTML snippet', 'This is a snippet of html that may be provided for embedding an audio clip. The snippet should include the variable: ?url?', '<embed src="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CbaseURL%3A%27?flvPlayerUrl?%27%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CnoVideoClip%3A%27%2E%2E%2F%2E%2E%2Fimages%2Fstandard%2Fmisc%2Fno%2Dvideo%2Egif%27%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%2CvideoFile%3A%27?url?%27%7D" width="300" height="74" scale="scale" bgcolor="111111" type="application/x-shockwave-flash" allowFullScreen="true" allowScriptAccess="always" allowNetworking="all" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed>', 1, 3) ]]>
		</sqlStatement>
		
	</version><version number="3.306" private="true">
	
		<userChangeDescription> 
			Workflow enhancements
		</userChangeDescription>
		
	</version><version number="3.307" private="true">
	
		<userChangeDescription> 
			Search enhancements
		</userChangeDescription>
		
	</version><version number="3.308" private="true">
	
		<userChangeDescription> 
			Update to video/audio preview
		</userChangeDescription>
	
		<appSettingChange type="update" section="Asset view settings" setting="show-flash-video-on-view-details" value="true" />
		
		<appSettingChange type="update" section="Asset view settings" setting="show-audio-preview-in-page" value="true" />
		
	</version><version number="3.309" private="true">
		
		<userChangeDescription> 
			Update media files original filename
		</userChangeDescription>	

		<sqlStatement type="mysql">
			UPDATE Asset SET OriginalFilename=SUBSTRING_INDEX(FileLocation, '/', -1) WHERE (ISNULL(OriginalFileLocation) OR OriginalFileLocation='') AND (AssetTypeId=3 OR AssetTypeId=4)
		</sqlStatement>
		<sqlStatement type="mysql">
			UPDATE Asset SET OriginalFilename=SUBSTRING_INDEX(OriginalFileLocation, '/', -1) WHERE (NOT ISNULL(OriginalFileLocation) AND NOT OriginalFileLocation='') AND (AssetTypeId=3 OR AssetTypeId=4)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			UPDATE Asset SET OriginalFilename=SUBSTRING(FileLocation, CHARINDEX('/', FileLocation)+1, LEN(FileLocation)) WHERE (OriginalFileLocation IS NULL OR OriginalFileLocation='') AND (AssetTypeId=3 OR AssetTypeId=4)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			UPDATE Asset SET OriginalFilename=SUBSTRING(OriginalFileLocation, CHARINDEX('/', OriginalFileLocation)+1, LEN(OriginalFileLocation)) WHERE (OriginalFileLocation IS NOT NULL AND NOT OriginalFileLocation='') AND (AssetTypeId=3 OR AssetTypeId=4)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			UPDATE Asset SET OriginalFilename=SUBSTR(FileLocation, INSTR(FileLocation, '/')+1) WHERE OriginalFileLocation IS NULL AND (AssetTypeId=3 OR AssetTypeId=4)
		</sqlStatement>
		<sqlStatement type="oracle">
			UPDATE Asset SET OriginalFilename=SUBSTR(OriginalFileLocation, INSTR(OriginalFileLocation, '/')+1) WHERE NOT OriginalFileLocation IS NULL AND (AssetTypeId=3 OR AssetTypeId=4)
		</sqlStatement>
	
	</version><version number="3.310" private="true">
		
		<userChangeDescription> 
			Add option for users with update permission to add assets to approval workflow.
		</userChangeDescription>	

		<appSettingChange type="add" section="Workflow Settings" setting="workflow-users-with-update-can-add-assets-to-workflow" value="false">
			<comment>
				Whether users with update right can add assets to workflow
			</comment>
		</appSettingChange>
	
	</version><version number="3.311" private="true">
		
		<userChangeDescription> 
			Enhancement to email sending functionality
		</userChangeDescription>	

		<appSettingChange type="add" section="Server settings" setting="seconds-to-sleep-between-emails" value="1">
			<comment>
				Time in seconds to sleep between batch sending emails
			</comment>
		</appSettingChange>
	
	</version><version number="3.312">
	
		<userChangeDescription> 
			Enhanced category count cache
		</userChangeDescription>
		
		<appSettingChange type="add" section="Scheduled tasks" setting="category-count-refresh-period-minutes" value="10">
			<comment>
				How often should a task be run to refresh the category count cache?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="minimum-category-count-refresh-size" value="100">
			<comment>
				Minimum size for category counts to be refreshed in the cache by the scheduled task (smaller than this and invalidated entries will be loaded on request)
			</comment>
		</appSettingChange>
		
	</version><version number="3.313">
	
		<userChangeDescription> 
			Content enhancement
		</userChangeDescription>
		
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'no-items-to-browse', 1, 'Copy - No items to browse', 'There are no #items# in this ?browseableName?.', 1, 1)
		</sqlStatement>
	
	</version><version number="3.313.1" private="true">
	
		<userChangeDescription> 
			Enhancement to advanced search
		</userChangeDescription>
	
	</version><version number="3.313.2" private="true">
	
		<userChangeDescription> 
			Enhancement to conversion types
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET IsConversionTarget=0 WHERE FileExtension='jp2'
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET IsConversionTarget=0 WHERE FileExtension='j2k'
		</sqlStatement>		
	
	</version><version number="3.313.3" private="true">
	
		<userChangeDescription> 
			Enable workflow approvals for Oracle
		</userChangeDescription>
	
	</version><version number="3.313.4" private="true">
	
		<userChangeDescription> 
			Upgrade approval setup functionality
		</userChangeDescription>
	
	</version><version number="3.314">
	
		<userChangeDescription> 
			Improved API
		</userChangeDescription>
		
		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin > Attributes and click 'reindex existing assets'. ]]>
		</userPostUpdateMessage>
		
		<appSettingChange type="add" section="API Settings" setting="api-restrict-by-ip" value="true">
			<comment>
				Whether only certain request IP addresses should be allowed access to the API
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="API Settings" setting="api-allowed-ip-addresses" value="212.42.168.9">
			<comment>
				The IP addresses that are allowed access to the Asset Bank API (comma separated)
			</comment>
		</appSettingChange>

		<appSettingChange type="delete" setting="api-remote-download-method" />
		<appSettingChange type="delete" setting="api-remote-download-host" />
		<appSettingChange type="delete" setting="api-remote-download-username" />
		<appSettingChange type="delete" setting="api-remote-download-password" />
		<appSettingChange type="delete" setting="api-remote-download-port" />

	</version><version number="3.315">
	
		<userChangeDescription> 
			Improvements to Flash Uploader
		</userChangeDescription>

	</version><version number="3.315.1" private="true">
	
		<userChangeDescription> 
			Attribute enhancements
		</userChangeDescription>

	</version><version number="3.315.2" private="true">
	
		<userChangeDescription> 
			Enhancements to access levels
		</userChangeDescription>

	</version><version number="3.315.3">
	
		<userChangeDescription> 
			Added support for article-style asset display
		</userChangeDescription>
		
		<appSettingChange type="add" section="Asset view settings" setting="show-edit-relationships" value="true">
			<comment>
				Should the 'edit relationships' link be shown (providing other circumstances allow it)?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Asset view settings" setting="display-empty-asset-without-icon" value="false">
			<comment>
				If an asset doesn't have a file (and there is no icon configured for its Asset Type) should the preview panel be hidden, and buttons moved to below the metadata?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Server settings" setting="tinymce-image-manager-installed" value="false">
			<comment>
				Is the image manager installed and integrated with TinyMCE?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetEntity ADD ShowAttributeLabels Bool DEFAULT 1
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetEntity ADD ShowAttributeLabels Tinyint Default 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			ALTER TABLE AssetEntity ADD ShowAttributeLabels Char(1) Default 1 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-single', 12, 'Link - Add single', 'Add single', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-multiple', 12, 'Link - Add multiple', 'Add multiple', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-find-multiple', 12, 'Link - Find existing', 'Find existing', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.315.4">
	
		<userChangeDescription> 
			Extended news functionality
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="news-menu-enabled" value="false">
			<comment>
				Whether to show section for news in menu
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="news-max-characters" value="100">
			<comment>
				Number of characters to show of news items before truncating
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="news-max-items" value="5">
			<comment>
				Number of news items to show on homepage
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-more', 12, 'Link - More', 'More &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-news', 7, 'Menu - News', 'News', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-all-news', 12, 'Link - View all news', 'View all news &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-more-news', 12, 'Link - More news', 'More news', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.315.5" private="true">
	
		<userChangeDescription> 
			Enabled further static attribtues for search builder
		</userChangeDescription>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='label-last-downloaded-nc' AND LanguageId=1
		</sqlStatement>
				
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-last-downloaded-nc', 9, 'Label - Last downloaded (no colon)', 'Date Last Downloaded', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='label-agreement-text-nc' AND LanguageId=1
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-agreement-text-nc', 9, 'Label - Agreement text (no colon)', 'Agreement Text', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.315.6" private="true">
	
		<userChangeDescription> 
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.315.7">
	
		<userChangeDescription> 
			Enhancements to batch update + processing of Photoshop files
		</userChangeDescription>
		
	</version><version number="3.315.8" private="true">
	
		<userChangeDescription> 
			Added organisation to user searching
		</userChangeDescription>
		
	</version><version number="3.315.9" private="true">
	
		<userChangeDescription> 
			Update to category functionality
		</userChangeDescription>
		
	</version><version number="3.315.10" private="true">
	
		<userChangeDescription> 
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.315.11" private="true">
		
		<userChangeDescription> 
			Invite users functionality
		</userChangeDescription>
	
		<appSettingChange type="add" section="User registration/ login" setting="user-invitations-enabled" value="false">
			<comment>
				Users can invite people to join Asset Bank
			</comment>
		</appSettingChange>		
	
		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD CanInviteUsers TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter Table UserGroup add [CanInviteUsers] Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter Table UserGroup add CanInviteUsers Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser ADD InvitedByUserId BigInt
		</sqlStatement>
			<sqlStatement type="sqlserver">		
			ALTER TABLE AssetBankUser ADD InvitedByUserId INTEGER
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE AssetBankUser ADD InvitedByUserId Double precision
		</sqlStatement>	
		
		<sqlStatement type="all">
			INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'invitation to register','noreply@noreply.com','#email#;',NULL,NULL,'Asset Bank Invitation','<p>You have been invited to join Asset Bank. Please click the link below to register: </p><p>#url#</p><p>The user who invited you included this message: </p><p>#message#</p><p>Kind regards,<br />Asset Bank Admin</p>','invitation_to_register')
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-invite-users', 10, 'Heading - Invite users', 'Invite Users', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-invitations-sent', 13, 'Snippet - Invitations sent', 'Your invitations were sent', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-invite-more-users', 12, 'Link - Invite more users', '&laquo; Invite more users', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'invitations-intro', 1, 'Copy - Invitations introduction', 'From here you can invite people to Asset Bank. Enter the email addresses of people you wish to invite and a message to be added to the invitation.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-compose-invite', 10, 'Heading - Compose invite', 'Compose invite', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-email-addresses', 9, 'Label - Email addresses', 'Email addresses:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-separate-multiple-emails', 13, 'Snippet - Separate multiple emails', 'Separate multiple email addresses with a comma.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-denotes-required-field', 13, 'Snippet - Denotes required field', 'denotes a required field', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.315.12">
		
		<userChangeDescription> 
			Improvement to inviting users functionality
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			<![CDATA[ UPDATE AssetBankUser SET InvitedByUserId=NULL WHERE InvitedByUserId < 1 ]]>
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table AssetBankUser add Index IX_Relationship285 (InvitedByUserId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table AssetBankUser add Foreign Key (InvitedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [AssetBankUser] add  foreign key([InvitedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table AssetBankUser add  foreign key (InvitedByUserId) references AssetBankUser (Id) 
		</sqlStatement>
	
	</version><version number="3.315.13">
	
		<userChangeDescription> 
			Admin users ts and cs functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Download options" setting="adminUsersExemptFromDownloadTsCs" value="false">
			<comment>
				Whether admin users are exempt from agreeing to the download ts and cs (only applicable if mustReadTsCsBeforeDownload is true)
			</comment>
		</appSettingChange>

	</version><version number="3.316" private="true">
	
		<userChangeDescription> 
			Add Asset worksets, so users can have unsubmitted assets
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>
	
		<appSettingChange type="delete" setting="display-keywords-by-root-ancestor" />
		
		<appSettingChange type="add" setting="display-keywords-by-root-ancestor-ids" value="">
			<comment>
				A list of tree ids for keywords that will be displayed grouped by root ancestor on the asset details page
			</comment>
		</appSettingChange>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD IsUnsubmitted Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD IsUnsubmitted Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD IsUnsubmitted Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
	
		<appSettingChange type="add" section="Workflow Settings" setting="workflow-enable-unsubmitted-assets" value="false">
			<comment>
				Whether to enable unsubmitted assets
			</comment>
		</appSettingChange>
			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-unsubmitted', 7, 'Main menu - Unsubmitted assets', 'Unsubmitted', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.317" updaterChanged="true">
	
		<userChangeDescription> 
			Added storage device management
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />

		<appSettingChange type="add" section="General config" setting="storage-device-safety-margin-system" value="100">
			<comment>
				The amount of free space (in Mb) on a system or mixed storage device before it is reported full
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="storage-device-safety-margin-assets" value="1024">
			<comment>
				The amount of free space (in Mb) on an asset storage device before it is reported full
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Scheduled tasks" setting="storage-device-usage-update-period-minutes" value="240">
			<comment>
				How often should a task be run to update the storage device usage data?
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Directory settings" setting="file-cache-directory" value="cache">
			<comment>
				The directory in which any file caches are stored
			</comment>
		</appSettingChange>

	
		<sqlStatement type="mysql">
			Create table StorageDevice (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(255) NOT NULL,
				Path Varchar(255) NOT NULL,
				IsRelative Bool NOT NULL DEFAULT 0,
				StorageTypeId Bigint NOT NULL DEFAULT 0,
				MaxSpaceInMb Bigint,
				UsedSpaceInBytes Bigint NOT NULL DEFAULT 0,
				LastScanTime Datetime,
				IsLocked Bool NOT NULL DEFAULT 0,
				SequenceNumber Int NOT NULL DEFAULT 0,
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [StorageDevice]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NOT NULL,
				[Path] Nvarchar(255) NOT NULL,
				[IsRelative] Tinyint Default 0 NOT NULL,
				[StorageTypeId] Integer Default 0 NOT NULL,
				[MaxSpaceInMb] Bigint NULL,
				[UsedSpaceInBytes] Bigint Default 0 NOT NULL,
				[LastScanTime] Datetime NULL,
				[IsLocked] Tinyint Default 0 NOT NULL,
				[SequenceNumber] Integer Default 0 NOT NULL,
			Primary Key ([Id])
			)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table StorageDevice (
				Id Double precision NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
				Path NVarchar2(255) NOT NULL ,
				IsRelative Char (1) Default 0 NOT NULL ,
				StorageTypeId Double precision Default 0 NOT NULL ,
				MaxSpaceInMb Double precision,
				UsedSpaceInBytes Double precision Default 0 NOT NULL ,
				LastScanTime Date,
				IsLocked Char (1) Default 0 NOT NULL ,
				SequenceNumber Integer Default 0 NOT NULL ,
			primary key (Id) 
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT StorageDevice ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO StorageDevice (Id,Name,StorageTypeId,Path,IsRelative,IsLocked,SequenceNumber) VALUES (1,'Default',3,'files',1,0,1)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT StorageDevice OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO SystemSetting (Id,Value) VALUES ('InitStorageDevice','true')
		</sqlStatement>
		
	</version><version number="3.318" private="true">
		
		<userChangeDescription> 
			Removed unnecessary properties after storage device upgrade
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />
		
	</version><version number="3.319" private="true">
		
		<userChangeDescription> 
			Agreement functionality update
		</userChangeDescription>
		
	</version><version number="3.320" private="true">
		
		<userChangeDescription> 
			Add CMS item for unsubmitted items functionality
			Add a setting for having view permission require permission on ALL rather than ANY access levels
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-update-batch', 12, 'Link - Batch update last batch', 'Batch update the last imported batch &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" section="General config" setting="user-requires-view-permission-on-all" value="false">
			<comment>
				When considering permission to view or otherwise act on assets, should a user have permission on ALL an asset's access levels? Note this overrides user-requires-delete-permission-on-all
			</comment>
		</appSettingChange>		
	
	</version><version number="3.321" private="true">
		
		<userChangeDescription> 
			Changed column count for splitting
		</userChangeDescription>
		
		<appSettingChange type="update" setting="checkbox-attribute-single-list-limit" value="8" section="General config">
			<comment>
				The largest number of checkbox attributes to display in a single list before spliting into x columns where x is checkbox-attribute-columns
			</comment>
		</appSettingChange>
		
	</version><version number="3.322">

		<userChangeDescription> 
			Separate out upload and download approval permissions
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup ADD CanApproveAssetUploads TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CanApproveAssetUploads Integer DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE CategoryVisibleToGroup ADD CanApproveAssetUploads Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE CategoryVisibleToGroup SET CanApproveAssetUploads=1 WHERE CanApproveAssets=1
		</sqlStatement>		
			
		<appSettingChange type="add" section="General config" setting="mandatory-asset-approval-messages" value="false">
			<comment>
				Whether the messages should be mandatory
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'workflowMessageMandatory', 15, 'workflowMessageMandatory', 'Please enter a message when changing the state of an asset.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.323" private="true">

		<userChangeDescription> 
			Enable default to restricted functionality
		</userChangeDescription>
		
		<appSettingChange type="add" section="Asset view settings" setting="default-to-restricted" value="false">
			<comment>
				Should assets be defaulted to restricted for uploads from non admin users
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Asset view settings" setting="non-admin-can-restrict" value="false">
			<comment>
				Can non admin uploaders restrict assets?
			</comment>
		</appSettingChange>

	</version><version number="3.324" private="true">

		<userChangeDescription> 
			Added user based restricted asset control functionality
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup ADD CanViewRestrictedAssets TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CanViewRestrictedAssets Integer DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE CategoryVisibleToGroup ADD CanViewRestrictedAssets Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
	
	</version><version number="3.325" private="true">

		<userChangeDescription> 
			Add email templates for alerts to asset owner when assets approved/rejected
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'workflow asset approved','noreply@noreply.com','#emailAddresses#;','','','Asset Bank: asset approved','<p>Dear #name#<br /><br />The following asset you uploaded has been approved:</p><p>#assetDescription#</p><p>Kind regards,<br />Asset Bank Admin</p>','workflow_asset_approved') ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'workflow asset rejected','noreply@noreply.com','#emailAddresses#;','','','Asset Bank: asset rejected','<p>Dear #name#<br /><br />The following asset you uploaded has been rejected:</p><p>#assetDescription#</p><p>Message:<br/>#message#</p><p>Kind regards,<br />Asset Bank Admin</p>','workflow_asset_rejected') ]]>
		</sqlStatement>

		<appSettingChange type="add" section="User registration/ login" setting="show-alert-for-new-user-notification" value="false">
			<comment>
				Whether to show an alert to indicate whether or not a new user will receive a notification
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-add-user-with-notification', 14, 'Javascript - Confirm add a new user with notification', 'You have chosen to send a notification to the new user. Click ok to continue.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-add-user-without-notification', 14, 'Javascript - Confirm add a new user without notification', 'You have chosen not to notify the new user. Click ok to continue.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.326" private="true">

		<userChangeDescription> 
			Made ID keyword searchable
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

		<sqlStatement type="all">
			UPDATE Attribute SET IsKeywordSearchable=1 WHERE StaticFieldName='assetId'
		</sqlStatement>
	
	</version><version number="3.327" private="true">

		<userChangeDescription> 
			Add setting for locking the storage devices
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="storage-device-edit-lock" value="true">
			<comment>
				Whether to lock storage devices, so that they can no longer be changed via the front end
			</comment>
		</appSettingChange>
	
	</version><version number="3.328" private="true">

		<userChangeDescription> 
			Enhancement to submit options
		</userChangeDescription>

	</version><version number="3.329" private="true">

		<userChangeDescription> 
			Add cms content for unsubmitted assets functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-submit-action', 9, 'Label - Submit Action', 'Submit action', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submit-option-live', 13, 'Snippet - Submit to live', 'Submit to live', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submit-option-live-if-permitted', 13, 'Snippet - Submit to live if permissions allow', '(if permissions allow)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submit-option-approval', 13, 'Snippet - Submit for approval', 'Submit for approval', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submit-option-unsubmitted', 13, 'Snippet - Do not submit yet', 'Do not submit yet', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-unsubmitted', 12, 'Link - View unsubmitted assets', 'View unsubmitted #items# &raquo;', 1, 2) ]]>
		</sqlStatement> 
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-upload-success-unsubmitted', 1, 'Snippet - Upload Success page unsubmitted asset', 'Your #item# has not yet been submitted.', 1, 2) ]]>
		</sqlStatement> 
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-upload-unsubmitted', 1, 'Snippet - Bulk Upload page unsubmitted asset', 'The #items# from the last bulk upload were not submitted.', 1, 2) ]]>
		</sqlStatement>  
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-alert-unsubmitted-asset', 1, 'Snippet - Alert you have an unsubmitted asset', 'You have <strong>1</strong> <a href="viewUnsubmittedAssets">unsubmitted #item#</a>.', 1, 2) ]]>
		</sqlStatement>  
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-alert-unsubmitted-assets', 1, 'Snippet - Alert you have some unsubmitted assets', 'You have <strong>?lNumUnsubmittedAssets?</strong> <a href="viewUnsubmittedAssets">unsubmitted #items#</a>.', 1, 2) ]]>
		</sqlStatement>   
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-unsubmitted-items', 10, 'Heading - Unsubmitted Items', 'Unsubmitted Items', 1, 2) ]]>
		</sqlStatement>   
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-unsubmitted-asset', 1, 'Snippet - You have an unsubmitted asset', 'You have <strong>1</strong> unsubmitted #item#.', 1, 2) ]]>
		</sqlStatement>   
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-unsubmitted-assets', 1, 'Snippet - You have some unsubmitted assets', 'You have <strong>?lNumUnsubmittedAssets?</strong> unsubmitted #items#.', 1, 2) ]]>
		</sqlStatement>   
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-update-assets', 12, 'Link - Batch update assets', 'Batch update these assets &raquo;', 1, 2) ]]>
		</sqlStatement>   
		
	</version><version number="3.330">

		<userChangeDescription> 
			Added option to view particular file formats directly from the view details page
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			ALTER TABLE FileFormat ADD CanViewOriginal Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE FileFormat ADD CanViewOriginal Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE FileFormat ADD CanViewOriginal Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
	</version><version number="3.331" private="true">

		<userChangeDescription> 
			Improvement to inviting users functionality
		</userChangeDescription>
		
	</version><version number="3.332" private="true">

		<userChangeDescription> 
			Changes to enable control over the quality of videos
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="video-preview-bitrate" value="400k">
			<comment>
				The bitrate to use for the video preview conversion
			</comment>
		</appSettingChange>


		<appSettingChange type="add" section="Asset View settings" setting="frame-rate-standard-default" value="25">
			<comment>
				frame rate and audio sampling rate settings for video conversions (to cater for any video formats that don't support the default settings add a new setting replacing default with the video format extension - i.e. frame-rate-standard-flv etc.)...
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Asset View settings" setting="frame-rate-high-default" value="50" />
		<appSettingChange type="add" section="Asset View settings" setting="audio-rate-standard-default" value="44100" />
		<appSettingChange type="add" section="Asset View settings" setting="audio-rate-high-default" value="48000" />
		<appSettingChange type="add" section="Asset View settings" setting="frame-rate-standard-mpg" value="20" />

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-video-quality', 9, 'Label - Video quality', 'Video quality:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-best', 13, 'Snippet - best', 'Best', 1, 2) ]]>
		</sqlStatement>
		

	</version><version number="3.333">

		<userChangeDescription> 
			Allow user to specify whether to search sub-categories on advanced search and other pages.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-search-subcategories', 9, 'Label -  Search subcategories checkbox on search', 'Search subcategories of the selected categories', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE ListItem SET BODY = 'Find only #items# that are not in any category' WHERE Identifier='label-items-not-in-cat' 
		</sqlStatement>

	</version><version number="3.334" private="true">

		<userChangeDescription> 
			Support for SQLServer in latest release
		</userChangeDescription>

	</version><version number="3.335" private="true">
	
		<userChangeDescription>
			Correction for flv audio sample rates
		</userChangeDescription>

		<appSettingChange type="add" section="Asset View settings" setting="audio-rate-high-flv" value="44100" />
	
	</version><version number="3.335.1">
	
		<userChangeDescription>
			Add setting for whether to add plain text to emails, and add view link to unsubmitted items.
		</userChangeDescription>

		<appSettingChange type="add" section="Server settings" setting="email-add-plain-text" value="true" />

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-edit-details', 12, 'Link - View/Edit details', 'View/Edit details', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.336" updaterChanged="true" fileArchive="app.zip">
	
		<userChangeDescription>
			Added functionality to allow different update types
		</userChangeDescription>

		<appSettingChange type="add" section="Application Updater Settings" setting="updateType" value="">
			<comment>
				What type of update is in progress?
			</comment>
		</appSettingChange>

		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />
	
	</version><version number="3.337" private="true">

		<userChangeDescription> 
			Updater changes
		</userChangeDescription>

		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />

	</version><version number="3.338">
		<userChangeDescription> 
			Functionality to detect and use auto-rotate settings in images taken with digital camera
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-autorotated', 9, 'Label - Image has been auto-rotated', 'This image has been auto-rotated by ?autoRotateAngle?&deg;', 1, 2)]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType ON
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataType (Id, Name) VALUES (6, '[Any]')
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType OFF
		</sqlStatement>


		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (500, 6, 'Keywords', 'Keywords')
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (501, 6, 'XResolution', 'XResolution')
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (502, 6, 'YResolution', 'YResolution')
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>
		
	</version><version number="3.339">
	
		<userChangeDescription>
			Added support for viewing SWF and FLV files directly
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-full-version', 12, 'Link - View full version', 'view full version &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE FileFormat SET PreviewInclude='../inc/preview_flv.jsp' WHERE FileExtension='flv' ]]>
		</sqlStatement>
		
	</version><version number="3.340">
	
		<userChangeDescription>
			Added functionality for varying video preview start position
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-change-preview-start', 9, 'Label - Change Video Preview Start', 'Also change the preview clip to start from the selected frame?', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.341">
	
		<userChangeDescription>
			Added support for Sage Passport 
		</userChangeDescription>

		<appSettingChange type="delete" setting="enable-open-id" />
		<appSettingChange type="delete" setting="open-id-is-default" />
		<appSettingChange type="add" section="User registration/ login" setting="sso-enabled" value="false">
			<comment>
				Should SSO be used for user identification/authentication?
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="User registration/ login" setting="sso-plugin-class" value="">
			<comment>
				SSO plugin class - actually the component role as registered in components.xconf
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="User registration/ login" setting="sso-login-is-default" value="false">
			<comment>
				Use the SSO login form as default
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="User registration/ login" setting="login-actions" value="/action/viewLogin;/action/login;/action/loginWithToken;/action/ssoAuthenticate;/action/viewSSOLogin;/action/ssoLogin;/action/ssoSessionCheck;/action/ssoCreateSession;">
			<comment>
				Actions which are login actions (and not subject to authentication filter)
			</comment>
		</appSettingChange>
				
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-sso-login', 12, 'Link - Login with SSO', 'Login using SSO', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Identifier='login-page-copy-sso' WHERE Identifier='login-page-copy-open-id' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier='technical-open-id-prefix' ]]>
		</sqlStatement>
		
	</version><version number="3.342" private="true">
	
		<userChangeDescription> 
			Added translation capability to metadata import
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Metadata Import</h2><p>A metadata import is achieved by uploading a data file to the server using the file upload control on this page.</p><h3>Data File Format</h3><p>The data file must conform to the following formatting rules:</p><p>&nbsp;</p><ul><li>It must be a plain-text file.</li><li>All fields (columns) should be separated by a tab character.</li><li>Each record should start on a new line.</li><li>If the file was generated during a metadata export, the first line of the file will contain information telling the system how to interpret the data. If the file was not previously exported, the first line can contain human-readable data or can be blank, but must still be present.</li><li>The second line of the file should contain the column headers that identify the fields of the record being updated. There are several standard headers for standard attributes, and you can also add headers that match your custom metadata fields. A description of how this is done can be found in the next section.</li><li>An &quot;Id&quot; column must be present in the imported data file to identify the record in the system. This will typically be the filename of the asset without the file extension.</li><li>Where either the Categories or AccessLevels columns are present, data should be included as follows: separate categories should be delimited using a semi-colon (;). If the category is not at the root level, the name of its parent(s) should be included in front of its name, separated by a forward-slash (/). For example, if you have a subcategory of &quot;Animals&quot; called &quot;Cats&quot;, the field value to specify this category should be &quot;Animals/Cats&quot;. To also include this record in a &quot;Photo&quot; category the complete field value would be &quot;Animals/Cats;Photo&quot;</li><li>Where a date is provided, it should be in the format &quot;DD/MM/YYYY HH:MM&quot;</li></ul><p>&nbsp;</p><h3>Data Column Headers</h3><p>Each column in the data file requires a header, entered on the second line of the file. These headers will either be one of the standard headers, or a custom one matching an attribute under your control. The standard headers (relating to the standard attributes) are listed below:</p><p>&nbsp;</p><ul><li>AccessLevels</li><li>DescriptiveCategories</li><li>AddedByUser</li><li>DateAdded</li><li>DateCreated</li><li>DateModified</li></ul><p>&nbsp;</p><p>In order to populate a custom attribute from the data file, the column header for the attribute must start with &quot;att:&quot; followed by the attribute name. For example, to populate an attribute &quot;Title&quot;, a column header for the data must be called &quot;att:Title&quot;. Note that the attribute name should match the name in the application exactly, including any spaces and capitalisation.</p><p>It is possible to provide translations for any text-based attribute values by providing additional columns with a sub-prefix of &quot;lang_&quot; plus the (typically 2-letter) code for the language. For example, in order to provide a translation for a Title attribute in french (code <strong>fr</strong>) you would need to add a column with header &quot;att:lang_fr:Title&quot;. You would have needed to set up French as a language first, but the language can be suspended. </p><h3>Creating a Tab Delimited File using Excel</h3><p>You can generate a tab-delimited text file from Excel by choosing &quot;Save as...&quot; and then selecting &quot;Text (Tab delimited)&quot; for the field &quot;Save as type&quot;.</p><p>When you have generated the text file from Excel you should check it using a text editor. Use &quot;search and replace&quot; to replace any characters that Excel may have added to the data - for example, it often adds &quot; characters around fields.</p>' WHERE Identifier='metadata-import' ]]>
		</sqlStatement>
	
	</version><version number="3.343" private="true">
	
		<userChangeDescription>
			System Setting change
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			Alter table SystemSetting Modify Column Id VARCHAR(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [SystemSettingTemp]
			(
				[Id] Nvarchar(20) NOT NULL,
				[Value] Nvarchar(200) NULL
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			INSERT INTO SystemSettingTemp SELECT * FROM SystemSetting
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			DROP TABLE SystemSetting
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [SystemSetting]
			(
				[Id] Nvarchar(200) NOT NULL,
				[Value] Nvarchar(200) NULL,
				Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			INSERT INTO SystemSetting SELECT * FROM SystemSettingTemp
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			DROP TABLE SystemSettingTemp
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table SystemSetting MODIFY Id NVARCHAR2(200)
		</sqlStatement>

	</version><version number="3.344">
	
		<userChangeDescription> 
			Added translation capability to metadata export
		</userChangeDescription>

<!--	
		<sqlStatement type="mysql">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Metadata Import</h2><p>A metadata import is achieved by uploading a data file to the server using the file upload control on this page.</p><h3>Data File Format</h3><p>The data file must conform to the following formatting rules:</p><p>&nbsp;</p><ul><li>It must be a plain-text file.</li><li>All fields (columns) should be separated by a tab character.</li><li>Each record should start on a new line.</li><li>If the file was generated during a metadata export, the first line of the file will contain information telling the system how to interpret the data. If the file was not previously exported, the first line can contain human-readable data or can be blank, but must still be present.</li><li>The second line of the file should contain the column headers that identify the fields of the record being updated. There are several standard headers for standard attributes, and you can also add headers that match your custom metadata fields. A description of how this is done can be found in the next section.</li><li>An &quot;Id&quot; column must be present in the imported data file to identify the record in the system. This will typically be the filename of the asset without the file extension. If you wish to use the numerical id of the asset instead, the first line of the file metadata should contain &quot;filenameFormat:none&quot;.<br /></li><li>Where either the Categories or AccessLevels columns are present, data should be included as follows: separate categories should be delimited using a semi-colon (;). If the category is not at the root level, the name of its parent(s) should be included in front of its name, separated by a forward-slash (/). For example, if you have a subcategory of &quot;Animals&quot; called &quot;Cats&quot;, the field value to specify this category should be &quot;Animals/Cats&quot;. To also include this record in a &quot;Photo&quot; category the complete field value would be &quot;Animals/Cats;Photo&quot;</li><li>Where a date is provided, it should be in the format &quot;DD/MM/YYYY HH:MM&quot;</li></ul><p>&nbsp;</p><h3>Data Column Headers</h3><p>Each column in the data file requires a header, entered on the second line of the file. These headers will either be one of the standard headers, or a custom one matching an attribute under your control. The standard headers (relating to the standard attributes) are listed below:</p><p>&nbsp;</p><ul><li>AccessLevels</li><li>DescriptiveCategories</li><li>AddedByUser</li><li>DateAdded</li><li>DateCreated</li><li>DateModified</li></ul><p>&nbsp;</p><p>In order to populate a custom attribute from the data file, the column header for the attribute must start with &quot;att:&quot; followed by the attribute name. For example, to populate an attribute &quot;Title&quot;, a column header for the data must be called &quot;att:Title&quot;. Note that the attribute name should match the name in the application exactly, including any spaces and capitalisation.</p><p>It is possible to provide translations for any text-based attribute values by providing additional columns with a sub-prefix of &quot;lang_&quot; plus the (typically 2-letter) code for the language. For example, in order to provide a translation for a Title attribute in french (for which the code would be <strong>fr</strong>) you would need to add a column with header &quot;att:lang_fr:Title&quot;. You would have needed to set up French as a language first, but the language can be suspended. Note that the translation column(s) must appear in the metadata file to the <em>right </em>of the column containing the default language attribute.<br /></p><h3>Creating a Tab Delimited File using Excel</h3><p>You can generate a tab-delimited text file from Excel by choosing &quot;Save as...&quot; and then selecting &quot;Text (Tab delimited)&quot; for the field &quot;Save as type&quot;.</p><p>When you have generated the text file from Excel you should check it using a text editor. Use &quot;search and replace&quot; to replace any characters that Excel may have added to the data - for example, it often adds &quot; characters around fields.</p>' WHERE Identifier='metadata-import' ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Metadata Import</h2><p>A metadata import is achieved by uploading a data file to the server using the file upload control on this page.</p><h3>Data File Format</h3><p>The data file must conform to the following formatting rules:</p><p>&nbsp;</p><ul><li>It must be a plain-text file.</li><li>All fields (columns) should be separated by a tab character.</li><li>Each record should start on a new line.</li><li>If the file was generated during a metadata export, the first line of the file will contain information telling the system how to interpret the data. If the file was not previously exported, the first line can contain human-readable data or can be blank, but must still be present.</li><li>The second line of the file should contain the column headers that identify the fields of the record being updated. There are several standard headers for standard attributes, and you can also add headers that match your custom metadata fields. A description of how this is done can be found in the next section.</li><li>An &quot;Id&quot; column must be present in the imported data file to identify the record in the system. This will typically be the filename of the asset without the file extension. If you wish to use the numerical id of the asset instead, the first line of the file metadata should contain &quot;filenameFormat:none&quot;.<br /></li><li>Where either the Categories or AccessLevels columns are present, data should be included as follows: separate categories should be delimited using a semi-colon (;). If the category is not at the root level, the name of its parent(s) should be included in front of its name, separated by a forward-slash (/). For example, if you have a subcategory of &quot;Animals&quot; called &quot;Cats&quot;, the field value to specify this category should be &quot;Animals/Cats&quot;. To also include this record in a &quot;Photo&quot; category the complete field value would be &quot;Animals/Cats;Photo&quot;</li><li>Where a date is provided, it should be in the format &quot;DD/MM/YYYY HH:MM&quot;</li></ul><p>&nbsp;</p><h3>Data Column Headers</h3><p>Each column in the data file requires a header, entered on the second line of the file. These headers will either be one of the standard headers, or a custom one matching an attribute under your control. The standard headers (relating to the standard attributes) are listed below:</p><p>&nbsp;</p><ul><li>AccessLevels</li><li>DescriptiveCategories</li><li>AddedByUser</li><li>DateAdded</li><li>DateCreated</li><li>DateModified</li></ul><p>&nbsp;</p><p>In order to populate a custom attribute from the data file, the column header for the attribute must start with &quot;att:&quot; followed by the attribute name. For example, to populate an attribute &quot;Title&quot;, a column header for the data must be called &quot;att:Title&quot;. Note that the attribute name should match the name in the application exactly, including any spaces and capitalisation.</p><p>It is possible to provide translations for any text-based attribute values by providing additional columns with a sub-prefix of &quot;lang_&quot; plus the (typically 2-letter) code for the language. For example, in order to provide a translation for a Title attribute in french (for which the code would be <strong>fr</strong>) you would need to add a column with header &quot;att:lang_fr:Title&quot;. You would have needed to set up French as a language first, but the language can be suspended. Note that the translation column(s) must appear in the metadata file to the <em>right </em>of the column containing the default language attribute.<br /></p><h3>Creating a Tab Delimited File using Excel</h3><p>You can generate a tab-delimited text file from Excel by choosing &quot;Save as...&quot; and then selecting &quot;Text (Tab delimited)&quot; for the field &quot;Save as type&quot;.</p><p>When you have generated the text file from Excel you should check it using a text editor. Use &quot;search and replace&quot; to replace any characters that Excel may have added to the data - for example, it often adds &quot; characters around fields.</p>' WHERE Identifier='metadata-import' ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Metadata Import</h2><p>A metadata import is achieved by uploading a data file to the server using the file upload control on this page.</p><h3>Data File Format</h3><p>The data file must conform to the following formatting rules:</p><p>&nbsp;</p><ul><li>It must be a plain-text file.</li><li>All fields (columns) should be separated by a tab character.</li><li>Each record should start on a new line.</li><li>If the file was generated during a metadata export, the first line of the file will contain information telling the system how to interpret the data. If the file was not previously exported, the first line can contain human-readable data or can be blank, but must still be present.</li><li>The second line of the file should contain the column headers that identify the fields of the record being updated. There are several standard headers for standard attributes, and you can also add headers that match your custom metadata fields. A description of how this is done can be found in the next section.</li><li>An &quot;Id&quot; column must be present in the imported data file to identify the record in the system. This will typically be the filename of the asset without the file extension. If you wish to use the numerical id of the asset instead, the first line of the file metadata should contain &quot;filenameFormat:none&quot;.<br /></li><li>Where either the Categories or AccessLevels columns are present, data should be included as follows: separate categories should be delimited using a semi-colon (;). If the category is not at the root level, the name of its parent(s) should be included in front of its name, separated by a forward-slash (/). For example, if you have a subcategory of &quot;Animals&quot; called &quot;Cats&quot;, the field value to specify this category should be &quot;Animals/Cats&quot;. To also include this record in a &quot;Photo&quot; category the complete field value would be &quot;Animals/Cats;Photo&quot;</li><li>Where a date is provided, it should be in the format &quot;DD/MM/YYYY HH:MM&quot;</li></ul>' WHERE Identifier='metadata-import' ]]>
		</sqlStatement>
	
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE ListItem SET Body=CONCAT(Body,'<p>&nbsp;</p><h3>Data Column Headers</h3><p>Each column in the data file requires a header, entered on the second line of the file. These headers will either be one of the standard headers, or a custom one matching an attribute under your control. The standard headers (relating to the standard attributes) are listed below:</p><p>&nbsp;</p><ul><li>AccessLevels</li><li>DescriptiveCategories</li><li>AddedByUser</li><li>DateAdded</li><li>DateCreated</li><li>DateModified</li></ul><p>&nbsp;</p><p>In order to populate a custom attribute from the data file, the column header for the attribute must start with &quot;att:&quot; followed by the attribute name. For example, to populate an attribute &quot;Title&quot;, a column header for the data must be called &quot;att:Title&quot;. Note that the attribute name should match the name in the application exactly, including any spaces and capitalisation.</p><p>It is possible to provide translations for any text-based attribute values by providing additional columns with a sub-prefix of &quot;lang_&quot; plus the (typically 2-letter) code for the language. For example, in order to provide a translation for a Title attribute in french (for which the code would be <strong>fr</strong>) you would need to add a column with header &quot;att:lang_fr:Title&quot;. You would have needed to set up French as a language first, but the language can be suspended. Note that the translation column(s) must appear in the metadata file to the <em>right </em>of the column containing the default language attribute.<br /></p><h3>Creating a Tab Delimited File using Excel</h3><p>You can generate a tab-delimited text file from Excel by choosing &quot;Save as...&quot; and then selecting &quot;Text (Tab delimited)&quot; for the field &quot;Save as type&quot;.</p><p>When you have generated the text file from Excel you should check it using a text editor. Use &quot;search and replace&quot; to replace any characters that Excel may have added to the data - for example, it often adds &quot; characters around fields.</p>') WHERE Identifier='metadata-import' ]]>
		</sqlStatement>
-->
				
	</version><version number="3.345">
	
		<userChangeDescription> 
			Enhancements to saved search functionality
			NOTE: USERS WILL NEED TO RECREATE ANY EXISTING SAVED SEARCHES AFTER THIS UPDATE
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: USERS WILL NEED TO RECREATE ANY EXISTING SAVED SEARCHES AFTER THIS UPDATE
			Any existing saved searches will be removed so that new alert and promoted functionality can be enabled
		</userPostUpdateMessage>

		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD Promoted Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD Promoted Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD Promoted Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
	
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD AvailableToAll Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD AvailableToAll Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD AvailableToAll Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD NewAssetAlert Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD NewAssetAlert Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD NewAssetAlert Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD SearchImage Varchar(250)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD SearchImage NVarchar(250)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD SearchImage NVarchar2(250)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD SearchCriteriaFile Varchar(250)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE SavedSearch ADD SearchCriteriaFile NVarchar(250)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch ADD SearchCriteriaFile NVarchar2(250)
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM SavedSearch
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE SavedSearch DROP COLUMN FullQuery
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE SavedSearch DROP COLUMN HttpQueryString
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-image', 9, 'Label - Image', 'Image:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-available-to-all', 9, 'Label - Available To All', 'Show for all users:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-show-on-homepage', 9, 'Label - Show On Homepage', 'Show on homepage:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-remove-current-image', 9, 'Label - Remove Current Image', 'Remove current image:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-current-image', 9, 'Label - Current Image', 'Current image:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-saved-search-alert', 9, 'Label - Saved Search Alert', 'Alert me when new images are added to this search:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO SystemSetting (Id,Value) VALUES ('LastSavedSearchAlert','0')
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'saved search alert email','noreply@noreply.com','#recipients#;','','','New Assets in Saved Searches','Dear Asset Bank user<br><br>This email has been automatically sent to you by Asset Bank because the following searches that you have saved have new assets available:<br><br>#searches#<br><br>Regards,<br>Asset Bank Admin','saved_search_alert_email') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-recommended-searches', 16, 'Title - Recommended searches', 'Recommended searches', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-my-searches', 16, 'Title - My saved searches', 'My saved searches', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="add" section="Directory settings" setting="saved-search-images-dir" value="images/standard/searches">
			<comment>
				Path to saved search images:
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Directory settings" setting="saved-search-criteria-dir" value="search">
			<comment>
				Path to saved search serialized criteria objects:
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Search settings" setting="saved-search-alert-period" value="4">
			<comment>
				The frequency period for checking and sending 'changed saved search' alerts (in hours)...
			</comment>
		</appSettingChange>

		<appSettingChange type="update" section="Browse settings" setting="user-driven-browse-sorting-enabled" value="true" />
		
	</version><version number="3.346">
	
		<userChangeDescription> 
			Enhancements to the Asset Type functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD TermForSibling Varchar(100)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD TermForSibling NVarchar(100)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD TermForSibling NVarchar2(100)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAssetEntity ADD TermForSibling Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE TranslatedAssetEntity ADD TermForSibling NVarchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAssetEntity ADD TermForSibling NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-related-asset-lead-in', 13, 'Snippet - Related asset lead in', 'This #item# has', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.347">
		<userChangeDescription> 
			Allow re-ordering of assets in lightbox
		</userChangeDescription>		
		
		<sqlStatement type="mysql">
			Alter Table AssetBoxAsset add SequenceNumber Int
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter Table AssetBoxAsset add SequenceNumber Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table AssetBoxAsset add SequenceNumber Number
		</sqlStatement>
	</version><version number="3.348">

		<userChangeDescription> 
			Add input mask validation functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD InputMask Varchar(200)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD InputMask NVarchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD InputMask NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE TranslatedAttribute ADD InputMask Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE TranslatedAttribute ADD InputMask NVarchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE TranslatedAttribute ADD InputMask NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationValid', 15, 'failedValidationValid', 'Please enter a valid value for the field:', 1, 2) ]]>
		</sqlStatement>

<!--
	Removed since causing data truncation errors
		<sqlStatement type="mysql">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Manage Attributes</h2>  <p>Items have a set of attributes associated with them. To change the sequence in which attributes appear to users on the view and edit item screens, use the [up] and [down] links on the "Manage Attributes" page.</p>    <h3>Standard attributes</h3>  <p>Standard attributes such as "title" and "size" are always present, and cannot be deleted. However you can change the way they appear to users, for example the label.Click [edit] by a standard attribute to configure it.</p><h3>Flexible attributes</h3><p>Flexible attributes can be added using the "Add a new attribute" link, or deleted using [X].Asset Bank comes with a number of pre configured flexible attributes, including the following:</p>  <ul class="bulleted"><li><strong>Author</strong>: usually this will be the photographer.</li><li><strong>Usage Rights</strong>: describes how items are meant be used.</li><li><strong>Notes</strong>: optional descriptive Textarea field.</li><li><strong>Quality</strong>: optional descriptive Dropdown field.</li><li><strong>Metadata status</strong>: describes how complete the item data is. This should be set to "Incomplete" when using the Bulk Upload feature, or when an item is not quite ready for viewing yet.</li><li><strong>Active status</strong>: describes the activation of items - ie, whether they should be visible or not to users.</li><li><strong>Activation date</strong>: the date an item becomes active for users to see (see Date attribute rules below).</li><li><strong>Expiry date</strong>: the date an item expires (see Date attribute rules below).</li></ul><p>When adding a new flexible attribute, you can choose the type, eg Textfield or Dropdown.</p><h3>Attribute configuration</h3><p>To configure an attribute, click the [edit] link. You can change some or all of the following aspects, depending on the type of attribute.</p>  <ul class="bulleted"> <li><strong>Label</strong>: how the attribute is labelled when viewing or editing items.</li><li><strong>Mandatory</strong>: make it mandatory when adding/editing items.</li><li><strong>Help text</strong>: rollover text shown to users who add or edit an asset. Use this to explain what they should enter into a particular field, if it not obvious.</li><li><strong>Default value</strong>: default value of the flexible attribute - this will be preset when a user is uploading a new item.</li><li><strong>Value if not visible</strong>: value set for a flexible attribute, when a user is adding a new item but does not have the right to see the attribute.</li><li><strong>Show on search</strong>: users can use the field in the advanced search.</li><li><strong>Highlight on view</strong>: whether or not to make this field more prominent on the "View Asset" page.</li><li><strong>Include in keyword searches</strong>: this field is to be included when searching by keyword.</li><li><strong>Visible only to super-users</strong>: make a standard attribute visible only to super-users.</li><li><strong>Input validation mask</strong>: add a regular expression to validate against when saving values for this attribute (Textfield only). Regular expressions are very powerful string comparators and hence can be quite complicated to write. For further information about regular expression syntax please read the following <a href="http://www.regular-expressions.info/reference.html" target="_blank">documentation</a>. Common examples are (\\w+)@(\\w+\\.)(\\w+)(\\.\\w+)* for loose email validation and \\d\\d\\/\\d\\d\\/\\d\\d\\d\\d for loose date format validation.</li></ul><p>For Dropdown and Checklist attributes, click [edit list values] to define the possible values for the attribute. When adding or editing a value for a dropdown, you can enter a value for the field "IPTC/EXIF Mapping". If this contains a value, and a mapping is set up to map an embedded data field to this attribute, then any value found in the image that matches the "IPTC/EXIF Mapping" will automatically select this attribute value. Note that the "IPTC/EXIF Mapping" field can contain multiple values: separated by | for OR or & for AND. Each map value can start with &lt;,&lt;=,&gt; or &gt;= for numeric values, i.e. to map ranges. </p><h3>Date attribute rules</h3><p>For Date type attributes, you can add rules using the [edit rules] link. The "Manage Rules" page describes how you can add rules that are triggered automatically accordingto the value of the date attribute.</p><p>Asset Bank comes with two preconfigured rules:</p><ul class="bulleted"><li><strong>Activation date: Activate item</strong>: this rule changes the "Active state" of an item to "Active",when the Activation date of the item passes.</li><li><strong>Expiry date: Expire item</strong>: this rule changes the "Active state" of an item to "Expired",when the Expiry date of the item passes.</li></ul>' WHERE Identifier='attributes' AND ListId=2 ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Manage Attributes</h2>  <p>Items have a set of attributes associated with them. To change the sequence in which attributes appear to users on the view and edit item screens, use the [up] and [down] links on the "Manage Attributes" page.</p>    <h3>Standard attributes</h3>  <p>Standard attributes such as "title" and "size" are always present, and cannot be deleted. However you can change the way they appear to users, for example the label.Click [edit] by a standard attribute to configure it.</p><h3>Flexible attributes</h3><p>Flexible attributes can be added using the "Add a new attribute" link, or deleted using [X].Asset Bank comes with a number of pre configured flexible attributes, including the following:</p>  <ul class="bulleted"><li><strong>Author</strong>: usually this will be the photographer.</li><li><strong>Usage Rights</strong>: describes how items are meant be used.</li><li><strong>Notes</strong>: optional descriptive Textarea field.</li><li><strong>Quality</strong>: optional descriptive Dropdown field.</li><li><strong>Metadata status</strong>: describes how complete the item data is. This should be set to "Incomplete" when using the Bulk Upload feature, or when an item is not quite ready for viewing yet.</li><li><strong>Active status</strong>: describes the activation of items - ie, whether they should be visible or not to users.</li><li><strong>Activation date</strong>: the date an item becomes active for users to see (see Date attribute rules below).</li><li><strong>Expiry date</strong>: the date an item expires (see Date attribute rules below).</li></ul><p>When adding a new flexible attribute, you can choose the type, eg Textfield or Dropdown.</p><h3>Attribute configuration</h3><p>To configure an attribute, click the [edit] link. You can change some or all of the following aspects, depending on the type of attribute.</p>  <ul class="bulleted"> <li><strong>Label</strong>: how the attribute is labelled when viewing or editing items.</li><li><strong>Mandatory</strong>: make it mandatory when adding/editing items.</li><li><strong>Help text</strong>: rollover text shown to users who add or edit an asset. Use this to explain what they should enter into a particular field, if it not obvious.</li><li><strong>Default value</strong>: default value of the flexible attribute - this will be preset when a user is uploading a new item.</li><li><strong>Value if not visible</strong>: value set for a flexible attribute, when a user is adding a new item but does not have the right to see the attribute.</li><li><strong>Show on search</strong>: users can use the field in the advanced search.</li><li><strong>Highlight on view</strong>: whether or not to make this field more prominent on the "View Asset" page.</li><li><strong>Include in keyword searches</strong>: this field is to be included when searching by keyword.</li><li><strong>Visible only to super-users</strong>: make a standard attribute visible only to super-users.</li><li><strong>Input validation mask</strong>: add a regular expression to validate against when saving values for this attribute (Textfield only). Regular expressions are very powerful string comparators and hence can be quite complicated to write. For further information about regular expression syntax please read the following <a href="http://www.regular-expressions.info/reference.html" target="_blank">documentation</a>. Common examples are (\\w+)@(\\w+\\.)(\\w+)(\\.\\w+)* for loose email validation and \\d\\d\\/\\d\\d\\/\\d\\d\\d\\d for loose date format validation.</li></ul><p>For Dropdown and Checklist attributes, click [edit list values] to define the possible values for the attribute. When adding or editing a value for a dropdown, you can enter a value for the field "IPTC/EXIF Mapping". If this contains a value, and a mapping is set up to map an embedded data field to this attribute, then any value found in the image that matches the "IPTC/EXIF Mapping" will automatically select this attribute value. Note that the "IPTC/EXIF Mapping" field can contain multiple values: separated by | for OR or & for AND. Each map value can start with &lt;,&lt;=,&gt; or &gt;= for numeric values, i.e. to map ranges. </p><h3>Date attribute rules</h3><p>For Date type attributes, you can add rules using the [edit rules] link. The "Manage Rules" page describes how you can add rules that are triggered automatically accordingto the value of the date attribute.</p><p>Asset Bank comes with two preconfigured rules:</p><ul class="bulleted"><li><strong>Activation date: Activate item</strong>: this rule changes the "Active state" of an item to "Active",when the Activation date of the item passes.</li><li><strong>Expiry date: Expire item</strong>: this rule changes the "Active state" of an item to "Expired",when the Expiry date of the item passes.</li></ul>' WHERE Identifier='attributes' AND ListId=2 ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE ListItem SET Body='<h2>Manage Attributes</h2>  <p>Items have a set of attributes associated with them. To change the sequence in which attributes appear to users on the view and edit item screens, use the [up] and [down] links on the "Manage Attributes" page.</p>    <h3>Standard attributes</h3>  <p>Standard attributes such as "title" and "size" are always present, and cannot be deleted. However you can change the way they appear to users, for example the label.Click [edit] by a standard attribute to configure it.</p><h3>Flexible attributes</h3><p>Flexible attributes can be added using the "Add a new attribute" link, or deleted using [X].Asset Bank comes with a number of pre configured flexible attributes, including the following:</p>  <ul class="bulleted"><li><strong>Author</strong>: usually this will be the photographer.</li><li><strong>Usage Rights</strong>: describes how items are meant be used.</li><li><strong>Notes</strong>: optional descriptive Textarea field.</li><li><strong>Quality</strong>: optional descriptive Dropdown field.</li><li><strong>Metadata status</strong>: describes how complete the item data is. This should be set to "Incomplete" when using the Bulk Upload feature, or when an item is not quite ready for viewing yet.</li><li><strong>Active status</strong>: describes the activation of items - ie, whether they should be visible or not to users.</li><li><strong>Activation date</strong>: the date an item becomes active for users to see (see Date attribute rules below).</li><li><strong>Expiry date</strong>: the date an item expires (see Date attribute rules below).</li></ul><p>When adding a new flexible attribute, you can choose the type, eg Textfield or Dropdown.</p><h3>Attribute configuration</h3><p>To configure an attribute, click the [edit] link. You can change some or all of the following aspects, depending on the type of attribute.</p>  <ul class="bulleted"> <li><strong>Label</strong>: how the attribute is labelled when viewing or editing items.</li><li><strong>Mandatory</strong>: make it mandatory when adding/editing items.</li><li><strong>Help text</strong>: rollover text shown to users who add or edit an asset. Use this to explain what they should enter into a particular field, if it not obvious.</li><li><strong>Default value</strong>: default value of the flexible attribute - this will be preset when a user is uploading a new item.</li><li><strong>Value if not visible</strong>: value set for a flexible attribute, when a user is adding a new item but does not have the right to see the attribute.</li><li><strong>Show on search</strong>: users can use the field in the advanced search.</li><li><strong>Highlight on view</strong>: whether or not to make this field more prominent on the "View Asset" page.</li><li><strong>Include in keyword searches</strong>: this field is to be included when searching by keyword.</li><li><strong>Visible only to super-users</strong>: make a standard attribute visible only to super-users.</li><li><strong>Input validation mask</strong>: add a regular expression to validate against when saving values for this attribute (Textfield only). Regular expressions are very powerful string comparators and hence can be quite complicated to write. For further information about regular expression syntax please read the following <a href="http://www.regular-expressions.info/reference.html" target="_blank">documentation</a>. Common examples are (\\w+)@(\\w+\\.)(\\w+)(\\.\\w+)* for loose email validation and \\d\\d\\/\\d\\d\\/\\d\\d\\d\\d for loose date format validation.</li></ul><p>For Dropdown and Checklist attributes, click [edit list values] to define the possible values for the attribute. When adding or editing a value for a dropdown, you can enter a value for the field "IPTC/EXIF Mapping". If this contains a value, and a mapping is set up to map an embedded data field to this attribute, then any value found in the image that matches the "IPTC/EXIF Mapping" will automatically select this attribute value. Note that the "IPTC/EXIF Mapping" field can contain multiple values: separated by | for OR or & for AND. Each map value can start with &lt;,&lt;=,&gt; or &gt;= for numeric values, i.e. to map ranges. </p><h3>Date attribute rules</h3><p>For Date type attributes, you can add rules using the [edit rules] link. The "Manage Rules" page describes how you can add rules that are triggered automatically accordingto the value of the date attribute.</p><p>Asset Bank comes with two preconfigured rules:</p><ul class="bulleted"><li><strong>Activation date: Activate item</strong>: this rule changes the "Active state" of an item to "Active",when the Activation date of the item passes.</li><li><strong>Expiry date: Expire item</strong>: this rule changes the "Active state" of an item to "Expired",when the Expiry date of the item passes.</li></ul>' WHERE Identifier='attributes' AND ListId=2 ]]>
		</sqlStatement>
-->
	</version><version number="3.349">

		<userChangeDescription> 
			Allow colorspace conversions on download
		</userChangeDescription>		

		<sqlStatement type="mysql">
			Create table ColorSpace (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Description Varchar(200) ,
				ShowOnAdvancedDownload Tinyint DEFAULT 1,
			 Primary Key (Id)) TYPE = InnoDB
			ROW_FORMAT = Default
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [ColorSpace]
				(
				[Id] Integer NOT NULL Identity(100,1),
				[Description] Nvarchar(255),
				[ShowOnAdvancedDownload] Tinyint Default 1 NOT NULL,
				Primary Key ([Id])
				)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table ColorSpace (
				Id Double precision NOT NULL ,
				Description NVarchar2(255) NOT NULL ,
				ShowOnAdvancedDownload Char (1) Default 0 NOT NULL ,
			primary key (Id) 
			) 
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT ColorSpace ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO ColorSpace(Id,Description) VALUES (1, 'RGB')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO ColorSpace(Id,Description,ShowOnAdvancedDownload) VALUES (2, 'CMYK', 0)
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO ColorSpace(Id,Description) VALUES (3, 'Greyscale')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT ColorSpace OFF
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter Table UsageTypeFormat add ConvertToColorSpaceId Bigint DEFAULT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE UsageTypeFormat ADD ConvertToColorSpaceId Integer NULL
		</sqlStatement>
		<sqlStatement type="oracle">	
			ALTER TABLE UsageTypeFormat ADD ConvertToColorSpaceId Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table UsageTypeFormat add Index IX_Relationship286 (ConvertToColorSpaceId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table UsageTypeFormat add Foreign Key (ConvertToColorSpaceId) references ColorSpace (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [UsageTypeFormat] add  foreign key([ConvertToColorSpaceId]) references [ColorSpace] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table UsageTypeFormat add  foreign key (ConvertToColorSpaceId) references ColorSpace (Id) 
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-color-space', 9, 'Label - Color space', 'Color space: ', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.350">

		<userChangeDescription>
			Added brand templates
		</userChangeDescription>

		<appSettingChange type="add" setting="brand-templates-enabled" value="false" section="Brand Templates Settings">
			<comment>
				Whether to enable brand templates
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="brand-template-extensions" value="pdf" section="Brand Templates Settings">
			<comment>
				Extensions that brand templates can have. Note that the code currently only supports PDFs as brand templates because it relies on the template files containing Adobe Acrobat Forms.
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD IsBrandTemplate Bool NOT NULL DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD IsBrandTemplate Integer DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD IsBrandTemplate Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-create-doc-from-brand-template', 9, 'Intro - Create Document From Brand Template', '<p>Please fill in the fields below.  The text you enter will be used to fill in the template when you download it.</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-is-brand-template', 9, 'Label - Is Brand Template', 'Brand Template?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-create-doc-from-brand-template', 10, 'Heading - Create Document from Template', 'Create Document from Template', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-create-doc-from-brand-template', 11, 'Button - Create Document From Brand Template', 'Create Document', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationBrandTemplate', 15, 'failedValidationBrandTemplate', 'This asset cannot be used as a brand template because it does not contain an Acrobat PDF Form.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-create-doc-from-brand-template', 16, 'Title - Create Document From Brand Template', '#company-name# | #heading-create-doc-from-brand-template#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AssetDownloadType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AssetDownloadType (Id, Description) VALUES (7, 'Generated from Brand Template')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AssetDownloadType OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-brand-template-details', 10, 'Heading - Brand Template Details', 'Brand Template Details', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-create-from-brand-template-and-download', 11, 'Button - Create Doc from Brand Template and Download', 'Create and Download', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.351" private="true">

		<userChangeDescription>
			Updates to saved search functionality
		</userChangeDescription>
	
	</version><version number="3.352" private="true">

		<userChangeDescription>
			Fix problem with search builder
		</userChangeDescription>
	
	</version><version number="3.353" private="true">

		<userChangeDescription>
			Added search asset id filter
		</userChangeDescription>
	
		<appSettingChange type="add" setting="search-filter-batch-size" value="500" section="Search settings">
			<comment>
				Search filter batch size
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="search-max-boolean-clauses" value="10000" section="Search settings">
			<comment>
				Max number of boolean clauses
			</comment>
		</appSettingChange>
		
	</version><version number="3.354" private="true">

		<userChangeDescription>
			Added external dictionary picker attribute type
		</userChangeDescription>
	
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO AttributeType (Id,Name) VALUES (12,'External dictionary') ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-dictionary-chooser', 11, 'Button - Dictionary Chooser', 'Select...', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.355" private="true">

		<userChangeDescription>
			Updates to the audio asset functionality
		</userChangeDescription>
	
	</version><version number="3.356" private="true">

		<userChangeDescription>
			Updates to the saved search functionality
		</userChangeDescription>
	
	</version><version number="3.357" private="true">

		<userChangeDescription>
			Improve bulk upload validation
		</userChangeDescription>
	
	</version><version number="3.358" private="true">

		<userChangeDescription>
			Add functionality to enable multiple keyword browsers
		</userChangeDescription>
		
		<appSettingChange type="append" setting="keyword-browse-page-id" value="" section="Browse settings">
			<comment>
				determines whether to show the browse by keywords pages - the setting should be a comma seperated list of the ids of the trees to browse (0 or blank indicates that the functionality is switched off)
			</comment>
		</appSettingChange>

	</version><version number="3.359" private="true">

		<userChangeDescription>
			Update to saved searches
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-search', 13, 'Snippet - save search', 'Save search', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.360">

		<userChangeDescription>
			Add functionality to allow search results to be filtered using an external filter
		</userChangeDescription>

		<appSettingChange type="append" setting="external-filter-class" value="" section="External Search Filter Settings">
			<comment>
				Class, which must implement com.bright.assetbank.externalfilter.service.ExternalFilter, to use to filter search results. Can be left empty, in which case no external filter will be used.
			</comment>
		</appSettingChange>

		<appSettingChange type="append" setting="external-filter-transaction-manager-name" value="DBTransactionManager" section="External Search Filter Settings">
			<comment>
				Transaction Manager (in components.xconf) that the external search filter should use
			</comment>
		</appSettingChange>

		<appSettingChange type="append" setting="external-filter-schema" value="" section="External Search Filter Settings">
			<comment>
				Name of database schema used by the external filter
			</comment>
		</appSettingChange>

	</version><version number="3.361">
	
		<userChangeDescription> 
			Added file-type embedding and sort by popularity
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD CanEmbedFile Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD CanEmbedFile Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD CanEmbedFile Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-num-downloads', 9, 'Label - Number of downloads', 'Number of Downloads', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-num-views', 9, 'Label - Number of views', 'Number of Views', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-embed-file', 16, 'Title - Embed File', '#company-name# | #heading-embed-file#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-embed-file', 10, 'Heading - Embed file', 'Embed file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-embed-file-intro', 1, 'Snippet - Embed file introduction', 'The link and/or url below can be used to embed the file in an external website or application.', 1, 2)  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-reset-embed-status', 14, 'Javascript - Confirm reset embed status', 'Are you sure you want to prevent this file from being embedded?', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-file-url', 9, 'Label - File url', 'File url:', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.362" private="true">
	
		<userChangeDescription> 
			Update to Asset Types
		</userChangeDescription>
	
		<sqlStatement type="all">
			INSERT INTO AssetEntityAttribute (AssetEntityId, AttributeId) SELECT ae.Id, a.Id FROM AssetEntity ae, Attribute a WHERE a.StaticFieldName='categories'
		</sqlStatement>
	
	</version><version number="3.363">
		<userChangeDescription>
			Added action on selected assets in lightbox functionality
		</userChangeDescription>
		
		<appSettingChange type="add" setting="image-comparison-max-height" value="250" section="Image sizes">
			<comment>
				Image comparison sizes
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="image-comparison-max-width" value="250" section="Image sizes" />
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoAssetsSelectedLightbox', 15, 'failedValidationNoAssetsSelectedLightbox', 'You must select one or more #items# to perform an action on', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoAssetActionSelected', 15, 'failedValidationNoAssetActionSelected', 'You must select an action to apply from the drop down list', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-actions', 13, 'Snippet - Actions...', 'Actions...', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-compare', 13, 'Snippet - Compare', 'Compare images', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-compare-images', 10, 'Heading - Compare images', 'Compare Images', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-compare-images', 16, 'Title - Compare images', '#company-name# | #heading-compare-images#', 1, 2) ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-compare-images', 1, 'Intro - Compare images', 'The images that you selected for comparison are shown below.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-lightbox', 12, 'Link - Back to lightbox', '&laquo; Back to lightbox', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationOneAssetSelectedLightbox', 15, 'failedValidationOneAssetSelectedLightbox', 'You must select two or more images to compare', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.364">
		
		<userChangeDescription>
			Allow reordering of the lightbox using Ajax
		</userChangeDescription>
	
	</version><version number="3.365" private="true">
		
		<userChangeDescription>
			Enhancement to colorspace functionality
		</userChangeDescription>
	
		<sqlStatement type="all">
			UPDATE ColorSpace SET ShowOnAdvancedDownload=0 WHERE Id=3
		</sqlStatement>
	</version><version number="3.366">
	
		<userChangeDescription> 
			Update to metadata mappings, to add  'other' group
		</userChangeDescription>
	
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataType (Id, Name) VALUES (7, '[Other]')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType OFF
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (600, 7, 'MAX(width,height)', 'MAX(width,height)')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (601, 7, 'MIN(width,height)', 'MIN(width,height)')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (602, 7, 'Pixels (width*height)', 'width*height')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>
	</version><version number="3.367" private="true">

		<userChangeDescription>
			Enhancements to external filter search
		</userChangeDescription>

	</version><version number="3.368">

		<userChangeDescription>
			Added file transfer functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="file-transfer-enabled" value="false" section="File Transfer Settings">
			<comment>
				Whether to enable transfer of files by emailing links without creating assets
			</comment>
		</appSettingChange>

		<!-- Email Templates -->
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (TextId, LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, Hidden) VALUES ('file_transfer',1,1,'file transfer link','#from#','#recipients#;','','','Asset Bank: #filename#','This message was sent to you from #username# via Asset Bank.<br /><br />#message#<br /><br /><br /> <a href=\"#url#\">Click here to download</a>',0) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (TextId, LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, Hidden) VALUES ('file_transfer_notification_loggedin',1,1,'notification of file transfer - logged in','noreply@noreply.com','#recipients#;','','','Asset Bank: File Downloaded','The file, #filename#, that you sent to #original_recipients# has been downloaded by #username#.',0) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (TextId, LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, Hidden) VALUES ('file_transfer_notification_loggedout',1,1,'notification of file transfer - not logged in','noreply@noreply.com','#recipients#;','','','Asset Bank: File Downloaded','The file, #filename#, that you sent to #original_recipients# has been downloaded.',0) ]]>
		</sqlStatement>

		<!-- Titles -->
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-file-transfer-step-1', 16, 'Title - File Transfer Step 1', '#company-name# | #heading-file-transfer-step-1#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-file-transfer-step-2', 16, 'Title - File Transfer Step 2', '#company-name# | #heading-file-transfer-step-2#', 1, 2) ]]>
		</sqlStatement>

		<!-- Headings -->
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-file-transfer-step-1', 10, 'Heading - File Transfer Step 1', 'File Transfer Step 1: Upload File', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-file-transfer-step-2', 10, 'Heading - File Transfer Step 2', 'File Transfer Step 2: Choose Recipients', 1, 2) ]]>
		</sqlStatement>

		<!-- Labels -->
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-file', 9, 'Label - file', 'File:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-notify-when-downloaded', 9, 'Label - Notify when downloaded (File Transfer)', 'Notify me when the file is downloaded:', 1, 2) ]]>
		</sqlStatement>

		<!-- Snippets -->
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-file-transfer-flashjava-upload-instructions', 13, 'Snippet - Flash/Java Upload Instructions', '<p>First, upload your file using the controls below, then click Next to choose who to send it to.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-file-transfer-simple-upload-instructions', 13, 'Snippet - Simple Upload Instructions', '<p>Please click &quot;Browse&quot; to locate the file you want to send, and then click &quot;Upload&quot; to upload the file.<br /> Once the file has been uploaded you will be able to enter the email addresses of the people you want to send it to.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-separate-with-semicolon', 13, 'Snippet - Seperate addresses with ;', '(Separate addresses with '';'')', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-email-sent', 13, 'Snippet - Email Sent Confirmation', '<p>Your email has been sent.</p>', 1, 1) ]]>
		</sqlStatement>

		<!-- Menu Items -->
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-file-transfer', 7, 'Main menu - File Transfer', 'File Transfer', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.369">

		<userChangeDescription>
			Added option to embed PDFs as files
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-embed-as-image', 12, 'Link - Embed as image', 'embed as image', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-embed-as-file', 12, 'Link - Embed as file', 'embed as file', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.370">

		<userChangeDescription> 
			Allow attributes to be mandatory when doing bulk upload
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD IsMandatoryBulkUpload Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD IsMandatoryBulkUpload Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD IsMandatoryBulkUpload Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>

	</version><version number="3.371" private="true">

		<userChangeDescription>
			Filter changes
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Create table FilterForCategory (
				FilterId Bigint NOT NULL,
				CategoryId Bigint NOT NULL,
				SequenceNumber Int,
			 Primary Key (FilterId,CategoryId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table FilterForCategory add Index IX_Relationship290 (CategoryId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table FilterForCategory add Foreign Key (CategoryId) references CM_Category (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table FilterForCategory add Index IX_Relationship289 (FilterId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table FilterForCategory add Foreign Key (FilterId) references Filter (Id) on delete  restrict on update  restrict
		</sqlStatement>

		
		<sqlStatement type="mysql">
			Create table GroupFilterExclusion (
				FilterId Bigint NOT NULL,
				UserGroupId Bigint NOT NULL,
				Primary Key (FilterId,UserGroupId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table GroupFilterExclusion add Index IX_Relationship288 (UserGroupId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table GroupFilterExclusion add Foreign Key (UserGroupId) references UserGroup (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table GroupFilterExclusion add Index IX_Relationship287 (FilterId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table GroupFilterExclusion add Foreign Key (FilterId) references Filter (Id) on delete  restrict on update  restrict
		</sqlStatement>



		<sqlStatement type="oracle">
			Create table FilterForCategory (
				FilterId Integer NOT NULL ,
				CategoryId Integer NOT NULL,
				SequenceNumber Integer)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterForCategory add primary key (FilterId,CategoryId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterForCategory add foreign key (FilterId) references Filter (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table FilterForCategory add foreign key (CategoryId) references CM_Category (Id)
		</sqlStatement>	
		

		<sqlStatement type="oracle">
			Create table GroupFilterExclusion (
				FilterId Integer NOT NULL ,
				UserGroupId Integer NOT NULL)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table GroupFilterExclusion add primary key (FilterId,UserGroupId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table GroupFilterExclusion add foreign key (FilterId) references Filter (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table GroupFilterExclusion add foreign key (UserGroupId) references UserGroup (Id)
		</sqlStatement>
		

		
		<sqlStatement type="sqlserver">
			Create table [FilterForCategory]
			(
				[FilterId] Integer NOT NULL,
				[CategoryId] Integer NOT NULL,
				[SequenceNumber] Integer NOT NULL,
			Primary Key ([FilterId],[CategoryId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterForCategory] add  foreign key([FilterId]) references [Filter] ([Id]) on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterForCategory] add  foreign key([CategoryId]) references [CM_Category] ([Id]) on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [GroupFilterExclusion]
			(
				[FilterId] Integer NOT NULL,
				[UserGroupId] Integer NOT NULL,
			Primary Key ([FilterId],[UserGroupId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [GroupFilterExclusion] add  foreign key([FilterId]) references [Filter] ([Id]) on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [GroupFilterExclusion] add  foreign key([UserGroupId]) references [UserGroup] ([Id]) on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="mysql">
			Alter Table Filter modify SequenceNumber Int NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table Filter Alter column SequenceNumber Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter Table Filter add SequenceNumberTemp Number NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			UPDATE Filter SET SequenceNumberTemp=SequenceNumber
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter Table Filter drop column SequenceNumber
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter Table Filter RENAME COLUMN SequenceNumberTemp TO SequenceNumber
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-filters', 10, 'Heading - Filters', 'Filters', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-filter', 10, 'Heading - Filter', 'Filter', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-clearing-current-filter', 12, 'Link - Clear current filter', 'Clear current filter &raquo;', 1, 2) ]]>
		</sqlStatement>

				
	</version><version number="3.372">

		<userChangeDescription> 
			Add support for DCR and RAF raw files
		</userChangeDescription>

		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>		

		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType, ConverterClass) VALUES 	(21,'DCR','Kodak Digital Camera Raw Image File','dcr',2,0,1,0,null,null,'com.bright.assetbank.converter.RawToImageConverter')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType, ConverterClass) VALUES 	(22,'RAF','FUJI photo RAW File','raf',2,0,1,0,null,null,'com.bright.assetbank.converter.RawToImageConverter')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>			

	</version><version number="3.373">

		<userChangeDescription> 
			Add support for Windows Integrated Authentication SSO plugins
		</userChangeDescription>

		<appSettingChange type="append" section="User registration/ login" setting="post-login-redirect-exceptions" value=";/action/ssoHTTPRequestToken">
		</appSettingChange>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/ssoHTTPRequestToken">
		</appSettingChange>

	</version><version number="3.374">
		
		<userChangeDescription> 
			Add filter group exclusion functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="strict-filter-exclusions" value="false" section="Browse settings">
			<comment>
				If true, a user will not see a particular filter if they are in ANY group that has that filter set as an exclusion.
				If false, a user will only not see a particular filter if ALL the groups they are in has that filter excluded. 
			</comment>
		</appSettingChange>
		
	</version><version number="3.375" private="true">

		<userChangeDescription> 
			Additional approval process for user registration
		</userChangeDescription>

		<appSettingChange type="add" setting="additional-user-approval-enabled" value="false" section="User registration/ login">
			<comment>
				Require new users to specify a user in Asset Bank to approve them (prior to admin approval)
			</comment>
		</appSettingChange>		
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'additional user approval','noreply@noreply.com','#recipients#;','','','User requesting approval','Dear #name#<br><br>This email has been automatically sent to you by Asset Bank because the following user has registered and requested that you authorise them :<br><br>Forename: #forename#<br>Surname: #surname#<br>Email Address: #email#<br>Telephone: #telephone#<br>Username: #username#<br><br>To approve this user please click the link below:<br>#approve#<br><br>To reject this user please click the link below:<br>#reject#<br><br>Regards,<br>Asset Bank Admin','additional_user_approval') ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'user-to-verify-with', 1, 'Supply details of user to verify with', 'To register you must supply the details of an existing user to verify you.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoUserDetailsSupplied', 15, 'failedValidationNoUserDetailsSupplied', 'You must supply the name and email address of an existing user to verify your registration.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationEmailNotValidForUser', 15, 'failedValidationEmailNotValidForUser', 'The email address supplied for verification does not belong to a registered user.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'thank-you-for-approving', 1, 'Thank you for approving text', 'Thank you for approving this user. Their details have been sent to an admin user for final approval.', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'thank-you-for-rejecting', 1, 'Thank you for rejecting text', 'Thank you for rejecting this user. Their details have been removed from the system.', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-homepage', 12, 'Link - Back to homepage', '&laquo; Back to homepage', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-user-approval', 10, 'Heading - User approval', 'User approval', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.376" private="true">

		<userChangeDescription> 
			Download approval notes functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-download-approval-notes', 9, 'Label - Download approval notes', 'Download approval notes:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-notes-for', 13, 'Snippet - Notes for', 'Notes for', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.377" private="true">

		<userChangeDescription> 
			Added watermark switch to usage types
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE UsageTypeFormat ADD COLUMN Watermark Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UsageTypeFormat ADD Watermark Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UsageTypeFormat ADD Watermark Char(1) Default 0 NOT NULL
		</sqlStatement>
	
	</version><version number="3.378" private="true">

		<userChangeDescription> 
			Security enhancements
		</userChangeDescription>
	
	</version><version number="3.379" private="true">

		<userChangeDescription> 
			Add admin only bulk update switch
		</userChangeDescription>

		<appSettingChange type="add" setting="bulk-update-admin-only" value="false" section="Batch Settings">
			<comment>
				Show the bulk update page be available to admin users only
			</comment>
		</appSettingChange>
	
	</version><version number="3.380">

		<userChangeDescription> 
			Added feature to show Attributes on child assets
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD COLUMN ShowOnChild Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD ShowOnChild Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD ShowOnChild Char(1) Default 0 NOT NULL
		</sqlStatement>
	
		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD COLUMN IncludeInSearchForChild Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD IncludeInSearchForChild Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD IncludeInSearchForChild Char(1) Default 0 NOT NULL
		</sqlStatement>
	
		<sqlStatement type="mysql">		
			ALTER TABLE DisplayAttribute ADD COLUMN ShowOnChild Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE DisplayAttribute ADD ShowOnChild Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE DisplayAttribute ADD ShowOnChild Char(1) Default 0 NOT NULL
		</sqlStatement>
	
	</version><version number="3.381">

		<userChangeDescription> 
			Added email this page functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="email-this-page-enabled" value="false" section="general config">
			<comment>
				Whether the email this page functionality is enabled
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="email-this-page-integrated" value="false" section="general config">
			<comment>
				Whether the email this page functionality should take into account integrated authentication (only relevant if email-this-page-enabled is true)
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'email this page','noreply@noreply.com','','','','A webpage you might be interested in','Dear [recipient name],<br /><br />I thought you might be interested in the following webpage:<br /><br /><a href=\"#url#\">#link#</a><br /><br />Regards,<br />#name#','email_this_page') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-email-this-page', 10, 'Heading - Email This Page', 'Email This Page', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-email-this-page', 16, 'Title - Email This Page', '#company-name# | #heading-email-this-page#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-email-this-page', 13, 'Snippet - Email This Page', '<p>You can check and edit the email you are about to send in the preview below. Once you are happy with it just enter the email address to send to and click the send button. </p><p>Please be aware that the person you are sending the page to will have to have permission to see the page (either via the page being public or the person having valid login details)', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-email-success', 13, 'Snippet - Email Success', '<p>Your email has been successfully sent.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-email-this-page', 12, 'Link - Email This Page', 'Email This Page', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-visit-the-page', 12, 'Link - Visit The Webpage', 'Visit the webpage &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-your-name', 13, 'Snippet - Your Name', '[your name]', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.382">
		
		<userChangeDescription> 
			Allow concurrent bulk uploads, and for thumbnail generation to be deferred on bulk upload
		</userChangeDescription>

		<appSettingChange type="add" setting="bulk-upload-concurrency-count" value="2" section="General config">
			<comment>
			The number of threads used to service the import queue, i.e. the number of concurrent bulk imports that can happen.
			Don't make this too large or the server will be overloaded with image conversion processes.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="thumbnail-generation-concurrency-count" value="1" section="General config">
			<comment>
				The number of threads used to generate images when their creation was deferred on bulk upload
				Don't make this too large or the server will be overloaded with image conversion processes.
			</comment>
		</appSettingChange>		
		
		<appSettingChange type="add" setting="thumbnails-pending-image" value="/images/standard/thumbnails-pending.gif" section="General config">
			<comment>
			The image used when an asset's thumbnails haven't been generated yet (if applicable)
			</comment>
		</appSettingChange>	

		<appSettingChange type="add" setting="legacy-thumbnail-directory" value="" section="Data migration">
			<comment>
			If you want the application to look for a preexisting thumbnail image to use when generating its own thumbnails, specify the directory containing those images.
			This is intended to provide a quick way to generate thumbnails in the case where the source files are very large but smaller versions exist that can be used.
			NOTE 1: the setting cache-large-image MUST be set to true for this 'legacy thumbnail' functionality to work. Otherwise these settings are ignored.
			NOTE 2: this functionality is intended for using with 'bulk import' during data migration, not single upload or on an on-going basis.
			NOTE 3: generally, this setting should be empty as it will slow down the import/adding process otherwise.			</comment>
		</appSettingChange>			

		<appSettingChange type="add" setting="legacy-thumbnail-suffix" value=".jpg" section="Data migration">
			<comment>
				The suffix to add to the original filename (minus its extension) to make up the name of the legacy thumbnail file.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="legacy-thumbail-use-for-large" value="true" section="Data migration">
			<comment>
				If the legacy-thumbnail-directory setting is set, and the application finds a legacy thumbnail for a particular image, should it just use that image directly for its large size, rather than resizing it?
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-defer-thumbnails-note', 13, 'Snippet - defer thumbnail generation note', '<p><em>Checking this means your #items# will be imported more quickly, but you may not see the thumbnails until later.</em></p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-defer-thumbnails', 9, 'Label - Defer Thumbnail Generation', 'Defer thumbnail creation?', 1, 2)]]>
		</sqlStatement>										
		
	</version><version number="3.383" private="true">

		<userChangeDescription> 
			Lightbox enhancements
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-remove-from-lightbox', 13, 'Snippet - Remove from lightbox', 'Remove from #my-lightbox#', 1, 2) ]]>
		</sqlStatement>	
		
	</version><version number="3.384" private="true">

		<userChangeDescription> 
			Migration routine for where include-metadata-from-parents-for-search=true
		</userChangeDescription>
	
		<sqlStatement type="all" appSettingCondition="include-metadata-from-parents-for-search=true">
			UPDATE Attribute SET IncludeInSearchForChild=1			
		</sqlStatement>	
		
	</version><version number="3.385" private="true">

		<userChangeDescription> 
			There is now a mapping for 'auto-rotate', so that it can be removed if auto-rotate on upload is not required.
		</userChangeDescription>
	
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>	
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (603, 7, 'Auto-rotate from camera', 'Auto-rotate from camera')
		</sqlStatement>	
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>			
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataMapping (EmbeddedDataValueId, AttributeId, MappingDirectionId) SELECT 603, Id, 1 FROM Attribute WHERE StaticFieldName='orientation'
		</sqlStatement>			
	</version><version number="3.386" private="true">

		<userChangeDescription>
			Added ability to have more than one file format with the same extension, plus custom player/viewer on view asset page.
		</userChangeDescription>

		<appSettingChange type="add" section="Directory settings" setting="static-resource-path-suffix" value="assets">
			<comment>
				This is a path within [webapp-name]/action/ under which resource will be fetched from the webapp-relative directory 'static'. For example, if this setting is set to 'assets' and the webapp is called 'asset-bank', a resource path /asset-bank/action/assets/foo.swf would in fact be served from /files/static/foo.swf. This allows static resources that must be available to custom jsp pages via relative paths to be found.
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE FileFormat ADD ViewFileInclude Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE FileFormat ADD ViewFileInclude Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE FileFormat ADD ViewFileInclude Varchar2(255)
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET ViewFileInclude=PreviewInclude
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET PreviewInclude=NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-select-file-type', 13, 'Snippet - Select file type', 'The file extension for this file is used by more than one format - please select the format from the list below.', 1, 2)  ]]>
		</sqlStatement>
		
	</version><version number="3.387" private="true">

		<userChangeDescription>
			Added additional customisable content
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'waitingQueuedDownloads', 15, 'waitingQueuedDownloads', 'Waiting for queued downloads to complete. You are in the queue at position ', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'waitingQueuedImports', 15, 'waitingQueuedImports', 'Other imports are currently in progress. Your import has been queued and will be started as soon as possible. You are in the queue at position ', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="delete" setting="show-mapping-direction" />
		
		<appSettingChange type="delete" setting="default-mapping-direction" />
		
	</version><version number="3.388" private="true">

		<userChangeDescription>
			Added additional customisable content
		</userChangeDescription>
		
	</version><version number="3.389">

		<userChangeDescription>
			Added ability to have more than one file format with the same extension, plus custom player/viewer on view asset page.
		</userChangeDescription>
		
	</version><version number="3.389.1" private="true">

		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.390" private="true">

		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.391" private="true">

		<userChangeDescription>
			Content enhancements
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Download items in your #a-lightbox# as a compressed zip file' WHERE Body LIKE 'Download all the items in your #a-lightbox# as a compressed zip file' AND Identifier='subhead-dl-lightbox-zip']]>
		</sqlStatement>		
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='This page enables you to choose which attributes are printed alongside the image.' WHERE Body LIKE 'This page enables you to chose which attributes are printed alongside the image.' AND Identifier='intro-print-image']]>
		</sqlStatement>		
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='You cannot save this file because the Org Unit &#39;[0]&#39; would exceed its file storage quota - please contact an administrator to resolve this issue.' WHERE Body LIKE 'You cannot save this file because the Org Unit &#39;[0]&#39; would exceeded its file storage quota - please contact an administrator to resolve this issue.' AND Identifier='failedValidationInsufficientOrgUnitQuota']]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='More actions...' where Identifier='snippet-actions']]>
		</sqlStatement>	
		
	</version><version number="3.392" private="true">

		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.393" private="true">

		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.394">

		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.395">
	
		<userChangeDescription> 
			Enhancements to saved search functionality
			NOTE: USERS WILL NEED TO RECREATE ANY EXISTING SAVED SEARCHES AFTER THIS UPDATE
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM SavedSearch
		</sqlStatement>

		<userPostUpdateMessage>
			NOTE: USERS WILL NEED TO RECREATE ANY EXISTING SAVED SEARCHES AFTER THIS UPDATE
		</userPostUpdateMessage>

	</version><version number="3.396" private="true">

		<userChangeDescription>
			New XMP Embedded Data Field
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>	
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (700, 3, 'Rating', 'Rating')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>	

	</version><version number="3.397" private="true">
	
		<userChangeDescription>
			Fix problem with asset box download permissions
		</userChangeDescription>

		
		<appSettingChange type="add" section="General config" setting="potentially-duplicate-email-period" value="5">
			<comment>
				The amount of time to ignore duplicate emails for before sending a given email. Applicable to approval required emails.
			</comment>
		</appSettingChange>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetsExcludedFromDownload', 15, 'assetsExcludedFromDownload', 'You do not have permission to download ?count? of the assets in your #a-lightbox# in your selected format. Any that you don''t have permission on will be excluded from your zip file.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.398" private="true">
	
		<userChangeDescription>
			Rework authentication, fix problem with SSO
		</userChangeDescription>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/registerUser">
		</appSettingChange>

		<appSettingChange type="add" section="User registration/ login" setting="change-password-action" value="/action/changePassword">
			<comment>
				Action for changing the password (the only action allowed if password has expired)
			</comment>
		</appSettingChange>

	</version><version number="3.399" private="true">
	
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.400" private="true">
	
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
	</version><version number="3.401" private="true">
	
		<userChangeDescription>
			(Indexes moved to 3.402)
		</userChangeDescription>
	</version><version number="3.402">
	
		<userChangeDescription>
			Update to export / import
		</userChangeDescription>

		<appSettingChange type="add" section="External Search Filter Settings" setting="export-external-dictionary-as-string" value="false">
			<comment>
				Whether to export external dictionaries as strings
			</comment>
		</appSettingChange>

	</version><version number="3.403">

		<userChangeDescription>
			Optimisations for Oracle and MS SQL Server. At the end of the update process you will see links to optimiation scripts for Oracle and MS SQL Server.
		</userChangeDescription>

		<userPostUpdateMessage>
			Optimisation scripts are available for Oracle and MS SQL Server at: http://www.assetbank.co.uk/download/optimisation/oracle_indexes_ver_3-403.sql and
http://www.assetbank.co.uk/download/optimisation/sqlserver_indexes_ver_3-403.sql
			If your database is either Oracle or MS SQL Server then please ask your DBA to download the appropriate script and to run it against your Asset Bank database/schema.
			If your database is MySQL then no action is required.
		</userPostUpdateMessage>

	</version><version number="3.404">

		<userChangeDescription>
			Fix problem with user registration
		</userChangeDescription>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/viewRegisterUser;/action/viewRegisterFeedback;">
		</appSettingChange>

	</version><version number="3.405" private="true">
	
		<userChangeDescription>
			Update to synchronisation functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Asset Publishing" setting="specify-entity-id-in-publish" value="true">
			<comment>
				Should the entity id be specified in the export that makes up the first step of publishing. Only need to set to false if the receiving asset bank doesn't have asset entities enabled with matching entities setup.
			</comment>
		</appSettingChange>

	</version><version number="3.406" private="true">
	
		<userChangeDescription>
			Update to usage rights and fix to login actions
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE AttributeValue SET IsEditable=1 WHERE Id=3
		</sqlStatement>

		<appSettingChange type="append" section="User registration/ login" setting="post-login-redirect-exceptions" value=";/action/viewLogin">
		</appSettingChange>

	</version><version number="3.407" private="true">
	
		<userChangeDescription>
			Update to synchronisation functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Asset Publishing" setting="publish-original-file-destination-format" value="">
			<comment>
				Should we use a converted version as the original file on the recipient Asset Bank? If so, specify the format (jpg, bmp etc), if not leave blank
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Asset Publishing" setting="publish-original-file-destination-max-height" value="">
			<comment>
				If we are using a converted version for the original file, what is the maximum height to use (aspect ratio will be maintained)
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Asset Publishing" setting="publish-original-file-destination-max-width" value="">
			<comment>
				If we are using a converted version for the original file, what is the maximum width to use (aspect ratio will be maintained)
			</comment>
		</appSettingChange>

	</version><version number="3.408" private="true">
		<userChangeDescription>
			Changes to XHTML structure.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There is <strong>?numItems?</strong> #item# in your #a-lightbox#.' where Identifier='lb-item-lightbox']]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There is <strong>?numItems?</strong> #item# in this #a-lightbox#.' where Identifier='lb-item-lightboxes']]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There are <strong>?numItems?</strong> #items# in your #a-lightbox#' where Identifier='lb-items-lightbox']]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='There are <strong>?numItems?</strong> #items# in this #a-lightbox#.' where Identifier='lb-items-lightboxes']]>
		</sqlStatement>	
	</version><version number="3.409">
		<userChangeDescription>
			Use Ajax for bulk upload progress
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-import-in-progress', 13, 'Snippet - Import in progress', 'The import is in progress...', 1, 2) ]]>
		</sqlStatement>	
	</version><version number="3.410">
		
		<userChangeDescription>
			Allow downloading of child assets from parent page
		</userChangeDescription>		
		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetEntity ADD COLUMN CanDownloadChildren Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetEntity ADD CanDownloadChildren Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE AssetEntity ADD CanDownloadChildren Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-download-child-assets', 16, 'Title - download child assets', '#company-name# | #heading-download-child-assets#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-download-child-assets', 10, 'Heading - download child assets', 'Download child assets', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-download-children', 11, 'Button - download children', 'Download children', 1, 2) ]]>	
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-download-child-assets', 10, 'Subhead - download child assets', 'Download child assets as a compressed zip file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-assets-ready', 13, 'Snippet - assets ready for download', 'Your assets are ready to download!', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-children', 12, 'Link - back to children', '&laquo; Back to child assets', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-download-all-children-text', 13, 'Snippet - Download all children text', 'Click the ''#button-download-all#'' button to download all the children of this item as a zip file.', 1, 3) ]]>
		</sqlStatement>
		
		<appSettingChange type="delete" setting="asset-box-filename" />
		
	</version><version number="3.411">
		
		<userChangeDescription>
			Made request on CD fields mandatory
		</userChangeDescription>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationForName', 15, 'failedValidationForName', 'Please enter your name.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationForAddress', 15, 'failedValidationForAddress', 'Please enter your address.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationForCDCustomField', 15, 'failedValidationForCDCustomField', 'Please enter your telephone number.', 1, 2) ]]>
		</sqlStatement>				
		
	</version><version number="3.412" private="true">
		
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>	

	</version><version number="3.413" private="true">
		
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>	

	</version><version number="3.414" private="true">
		
		<userChangeDescription>
			Ecommerce enhancements
		</userChangeDescription>	
		
		<appSettingChange type="append" section="User registration/ login" setting="post-login-redirect-exceptions" value=";/action/demoPaymentForm">
		</appSettingChange>

	</version><version number="3.415" private="true">
		
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>	

	</version><version number="3.416">
		
		<userChangeDescription>
			Add option to re-embed metadata into original image on saving an asset
		</userChangeDescription>	
		
		<appSettingChange type="add" section="General config" setting="reembed-metadata-on-save" value="false">
			<comment>
				If true, then the original image is updated when an asset is saved, to run the embedded metadata population from the updated attributes
			</comment>
		</appSettingChange>

	</version><version number="3.417" private="true">
		
		<userChangeDescription>
			Download shared asset enhancements
		</userChangeDescription>	
		
		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value="/action/demoPaymentForm;/action/viewDownloadSharedAsset;/action/downloadSharedAsset;">
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'thumbnailsNotYetGenerated', 15, 'thumbnailsNotYetGenerated', 'You cannot download a converted version of this image at present as its thumbnails have not yet been generated. Please try again later.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.418">
		
		<userChangeDescription>
			Add Submitted assets section for users to track their assets through approval
		</userChangeDescription>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-submitted', 7, 'Main menu - Submitted assets', 'Submitted', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-submitted-items', 10, 'Heading - Submitted Items', 'Submitted Items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-submitted-items', 13, 'Snippet - No submitted items in approval', 'You currently have no #item#s being approved.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-submitted-items', 10, 'Subheading - Items not yet approved', 'Items not yet approved', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-alert-revised-asset', 1, 'Snippet - Alert you have an asset requiring revision', 'You have <strong>1</strong> <a href="viewOwnerAssetApproval">#item# requiring revision</a>.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-alert-revised-assets', 1, 'Snippet - Alert you have some assets requiring revision', 'You have <strong>?lNumUnsubmittedWorkflowedAssets?</strong> <a href="viewOwnerAssetApproval">#items# requiring revision</a>.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-asset-workflow-audit', 12, 'Link - View asset workflow audit', 'View approval history...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-owner-approved-items', 12, 'Link - View owners approved items', 'View your approved #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-workflow-items-await-review', 13, 'Snippet - Workflow review screen - these items are currently awaiting approval', 'These #items# are currently awaiting approval.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>The #item# has been submitted to an admin user for approval - <a href="../action/viewOwnerAssetApproval">view approval progress</a>.</p>' WHERE Identifier = 'intro-update-result-1' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Message from previous user:' WHERE Identifier = 'snippet-message-from-previous' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Message to next user:' WHERE Identifier = 'snippet-message-to-next' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-transition', 9, 'Label - Transition', 'Transition', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE AssetWorkflowAudit ADD Transition Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetWorkflowAudit ADD Transition Varchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetWorkflowAudit ADD Transition Varchar2(200)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-revise-assets', 12, 'Link - Batch revise assets', 'Batch revise these #items# &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-message-required', 13, 'Snippet - Workflow transition message required', 'message required', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-message-optional', 13, 'Snippet - Workflow transition message optional', 'please add a message below', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			INSERT INTO LogType (Id, Name) VALUES (5, 'Status Change')			
		</sqlStatement>		
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT LogType ON
		</sqlStatement>		
		<sqlStatement type="sqlserver">
			INSERT INTO LogType (Id, Name) VALUES (5, 'Status Change')			
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT LogType OFF
		</sqlStatement>
		
		<sqlStatement type="oracle">
			INSERT INTO LogType (Id, Name) VALUES (5, 'Status Change')			
		</sqlStatement>
					
		<appSettingChange type="delete" setting="enable-asset-approval-messages" />
		<appSettingChange type="delete" setting="mandatory-asset-approval-messages" />
				
	</version><version number="3.419" private="true">
		
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
	
		<appSettingChange type="add" section="Asset View settings" setting="related-assets-max-for-view" value="200">
			<comment>
			The maximum number of related assets to show on the 'view asset' page.
			NOTE: if this is set larger than 1000 then Oracle will throw an error.			
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" section="User registration/ login" setting="additional-approval-domain" value="">
			<comment>
				Users can only be specified as the initial approver if their email belongs to this domain
			</comment>
		</appSettingChange>		
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='The email address specified for approval is invalid.' where Identifier='failedValidationEmailNotValidForUser']]>
		</sqlStatement>	
		
	</version><version number="3.420" private="true">
		
		<userChangeDescription>
			High resolution approval process functionality
		</userChangeDescription>
		
		<sqlStatement type="mysql">        
            ALTER TABLE UsageType ADD COLUMN IsConsideredHighRes Bool DEFAULT 0
        </sqlStatement>
        <sqlStatement type="sqlserver">        
            ALTER TABLE UsageType ADD IsConsideredHighRes Tinyint Default 0 NOT NULL
        </sqlStatement>
        <sqlStatement type="oracle">        
            ALTER TABLE UsageType ADD IsConsideredHighRes Char(1) Default 0 NOT NULL
        </sqlStatement>	
		
		<sqlStatement type="mysql">        
            ALTER TABLE CategoryVisibleToGroup ADD COLUMN ApprRequiredForHighRes Bool DEFAULT 0
        </sqlStatement>
        <sqlStatement type="sqlserver">        
            ALTER TABLE CategoryVisibleToGroup ADD ApprRequiredForHighRes Tinyint Default 0 NOT NULL
        </sqlStatement>
        <sqlStatement type="oracle">        
            ALTER TABLE CategoryVisibleToGroup ADD ApprRequiredForHighRes Char(1) Default 0 NOT NULL
        </sqlStatement>	

		<sqlStatement type="mysql">        
            ALTER TABLE AssetApproval ADD COLUMN IsHighResApproval Bool DEFAULT 0
        </sqlStatement>
        <sqlStatement type="sqlserver">        
            ALTER TABLE AssetApproval ADD IsHighResApproval Tinyint Default 0 NOT NULL
        </sqlStatement>
        <sqlStatement type="oracle">        
            ALTER TABLE AssetApproval ADD IsHighResApproval Char(1) Default 0 NOT NULL
        </sqlStatement>	

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT ApprovalStatus ON
		</sqlStatement>
		
		<sqlStatement type="all"> 
			INSERT INTO ApprovalStatus (Id,Name) VALUES (4,'Approved for high res')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT ApprovalStatus OFF
		</sqlStatement>		
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-your-lightbox', 12, 'Link - View your lightbox', 'View your #a-lightbox# &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-request-high-res', 12, 'Intro - Request high res', 'You are requesting approval to download the high resolution version of the #item#(s) below.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-mixed-res-lightbox', 13, 'Snippet - Mixed res lightbox', 'You do not have high-res download rights for some assets so high-res usage types have been disabled.', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-low-res-only', 13, 'Snippet - Low-res only', 'Low-res download only', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-approved-for-high-res', 13, 'Snippet - Approved for high-res', 'Approved for high-res download', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-high-res-pending', 13, 'Snippet - High-res approval pending', 'High-res approval pending', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-high-res-download', 13, 'Snippet - Request high-res download', '<p>To download a high resolution version please <a href="viewRequestApproval?id=?assetId?">request approval</a> (the #item# will be added to your #a-lightbox#)</p>', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-high-res-view', 13, 'Snippet - Request high-res view', '<p>To download a high resolution version please <a href="viewRequestApproval?id=?assetId?">request approval</a> (the #item# will be added to your #a-lightbox#)</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET Body = 'To register you must supply the details of an authorised person to verify you.' WHERE Identifier='user-to-verify-with' 
		</sqlStatement>
		
	</version><version number="3.421">
		
		<userChangeDescription>
			Added voting functionality to ratings
		</userChangeDescription>
	
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

		<appSettingChange type="add" section="general config" setting="ratings-are-votes" value="false">
			<comment>
				Use the ratings as a vote system. Replace the series of stars with a single 'vote for this asset' link. Replace the average rating search with a 'number of votes' search.
			</comment>
		</appSettingChange>	

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-votes', 13, 'Snippet - Votes', 'Votes', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-vote', 13, 'Snippet - Vote', 'Vote', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-already-voted', 13, 'Snippet - Already voted', 'You have voted for this #item#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-vote-for-this-item', 13, 'Snippet - Vote for this item', 'Vote for this #item# &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-retract-vote', 13, 'Snippet - Retract vote', 'Retract vote &raquo;', 1, 2) ]]>
		</sqlStatement>

		
	</version><version number="3.422" private="true">
		
		<userChangeDescription>
			Modified vote sorting functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-num-votes', 9, 'Label - Number of votes', 'Number of Votes', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.423" private="true">
		
		<userChangeDescription>
			Enhancements to workflow batch updates
		</userChangeDescription>
	
	</version><version number="3.424" private="true">
		
		<userChangeDescription>
			Changes to custom sorting
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD COLUMN HideForSort Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD HideForSort Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD HideForSort Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE ListItem SET Body = 'You may download a low-res version of this image but will have to request approval for a high-res version' WHERE Identifier='snippet-request-high-res-view' 
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE ListItem SET Body = '' WHERE Identifier='snippet-request-high-res-download' 
		</sqlStatement>
		
	</version><version number="3.425" private="true">
		
		<userChangeDescription>
			Setting to enable input density used when rasterizing postscript images to be specified per webapp
		</userChangeDescription>
		<appSettingChange type="add" section="Image sizes" setting="postscript-input-density" value="300">
			<comment>
				The density (DPI) setting to use when rasterizing PS documents such as PDFs. The larger this value the higher quality the image but the longer it will take to process.
			</comment>
		</appSettingChange>
	
	</version><version number="3.426">
		
		<userChangeDescription>
			Added support for Google Analytics
		</userChangeDescription>
		<appSettingChange type="add" section="General config" setting="google-analytics-id" value="">
			<comment>
				If you wish to use Google Analytics enter your site ID here e.g. UA-1234567-8
			</comment>
		</appSettingChange>
	
	</version><version number="3.427" private="true">
		
		<userChangeDescription>
			Enhancements to request on CD functionality
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET Body = 'Request all on CD' WHERE Identifier='button-request-cd' 
		</sqlStatement>
	
	</version><version number="3.428" private="true">
		
		<userChangeDescription>
			Upgraded synchronisation functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Asset Publishing Settings" setting="publishing-batch-size" value="50">
			<comment>
				The number of assets to include in each batch that is published to another asset bank
			</comment>
		</appSettingChange>	

	</version><version number="3.429" private="true">
		
		<userChangeDescription>
			Update to organisational unit functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Organisational units" setting="org-unit-admin-can-access-all-users" value="false">
			<comment>
				Do org unit administrators have access to all users in the system rather than just the user in their groups? If so then they will have restricted access to edit the users (they wont be able to edit username, email or passwords)
			</comment>
		</appSettingChange>	

	</version><version number="3.430" private="true">
		
		<userChangeDescription>
			Update to approval functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-download-requests-pending-approval', 13, 'Snippet - download requests pending approval', 'However, there are <a href="viewAssetApproval">download requests pending approval &raquo;</a>', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.431">
		
		<userChangeDescription>
			Added support for Windows MetaFile
		</userChangeDescription>	
	
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>	
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (23,'WMF','WMF - Windows MetaFile','wmf',2,0,1,0,null,null) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>			
		
	</version><version number="3.432">
		
		<userChangeDescription>
			Add prefix option for autoincrement attribute type
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD Prefix Varchar(40)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD Prefix NVarchar(40)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD Prefix NVarchar2(40)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE AttributeValue ADD NumberValue Bigint 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AttributeValue ADD NumberValue Integer 
		</sqlStatement>
				
		<sqlStatement type="oracle">
			ALTER TABLE AttributeValue ADD NumberValue Integer 
		</sqlStatement>
		
	
	</version><version number="3.433" private="true">
		
		<userChangeDescription>
			Update to organisational units
		</userChangeDescription>	

	</version><version number="3.434" private="true">
		
		<userChangeDescription>
			Add autoincrement attribute width field
		</userChangeDescription>	

	</version><version number="3.435">
		
		<userChangeDescription>
			Option for drop down list of filters when browsing categories/access levels
		</userChangeDescription>
		
		<appSettingChange type="add" section="Browse settings" setting="browse-filters-are-dropdowns" value="false">
			<comment>
				Whether to show browse filters as dropdowns instead of links
			</comment>
		</appSettingChange>	
		
	</version><version number="3.436">
		
		<userChangeDescription>
			Added option to limit the lightbox maximum size for download
		</userChangeDescription>
		
		<appSettingChange type="add" section="Server settings" setting="lightbox-max-download-size" value="0">
			<comment>
				The maximum download size allowed for the lightbox in bytes (0 means unlimited)
			</comment>
		</appSettingChange>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-lightbox-too-large', 13, 'Snippet - Lightbox too large', 'This lightbox is too large to download. You should remove some items or use a smaller size.', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-lightbox-too-large-request-cd', 13, 'Snippet - Lightbox too large request CD', 'You may also <a href="viewRequestAssetBox">request these assets on CD</a>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Some of the assets that you selected do not have high-res approval. Please select only high-res approved assets if you wish to download high res versions' WHERE Identifier='snippet-mixed-res-lightbox'  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-download-high-res', 11, 'Button - Download high res', 'Download high-res', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.437" private="true">
		
		<userChangeDescription>
			Ajax add to lightbox enhancements
		</userChangeDescription>	

	</version><version number="3.438" private="true">
		
		<userChangeDescription>
			Ajax add to lightbox enhancements
		</userChangeDescription>	

	</version><version number="3.439">

		<userChangeDescription>
			Custom field update
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Alter Table CustomField add OrgUnitId Bigint DEFAULT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CustomField ADD OrgUnitId Integer NULL
		</sqlStatement>
		<sqlStatement type="oracle">	
			ALTER TABLE CustomField ADD OrgUnitId Double precision NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table CustomField add Index IX_Relationship291 (OrgUnitId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CustomField add Foreign Key (OrgUnitId) references OrgUnit (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [CustomField] add  foreign key([OrgUnitId]) references [OrgUnit] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table CustomField add  foreign key (OrgUnitId) references OrgUnit (Id) 
		</sqlStatement>

	</version><version number="3.440">

		<userChangeDescription>
			Empty file search functionality
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-file-status', 9, 'Label - File Status', 'File Status:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-empty-assets-only', 13, 'Snippet - Empty assets only', 'Empty assets only', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-non-empty-assets-only', 13, 'Snippet - Non-empty assets only', 'Non-empty assets only', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.441" private="true">

		<userChangeDescription>
			Content fixes
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'downloadVideo', 2, 'Download Video help text', 'The help text for downloading videos', '<h2>Downloading Videos</h2><p>The Download Video page enables you to download either the original video, or a converted version.</p><p>Before you download the item you may be asked to select a value in the intended usage dropdown list, to indicate how you intend to use the item. If the usage has sub-usage types then you may need to select those too.</p><p>Before preview or download of the asset, you may need to check a checkbox to confirm that you have read the Terms and Conditions.</p><p>To reduce the size of your download you can check the checkbox that asks you whether you want to compress your file. This will add your file to a ZIP archive, so you will need the necessary software to unzip it once you have downloaded it.</p><p>You may be given the option to send the item via email rather than a direct download. Selecting this option, and clicking the "email now" button will take you to a new page where you can specify the email address(es) to send the item to. You will also be able to add a message to the email and choose whether the item is included as an attachment or simply as a download link in the email.</p><p>Depending on your permissions as a user you will be shown either Quick Download options, Advanced Download options or both: </p><h3>Quick Download</h3><p>The quick download tab simply allows you to downloaded the original video.</p><h3>Advanced Download</h3><p>The advanced download options allow you to convert and modify the video before downloading it:</p><p><em>Note: depending on how Asset Bank is configured, you may not see all of these options.</em></p><ul><li><strong>Convert</strong> - use the dropdowns to select the file format of the video and the video quality.</li><li><strong>Resize</strong> - Use the text fields to define the desired size of your image download. Keep the aspect ratio locked to maintain the original height/width ratio of the video. </li><li><strong>Advanced options</strong> - set the offset to start you download version from, the duration of clip you want to download and video quality factors like frame rate.</li></ul><p>At any stage you can preview your changes to the by clicking the "<strong>Preview</strong>" button. </p>  <p>To download the video in the selected format click the "<strong>Download now</strong>" button. Your browser will then display a "File download" dialog box, in which you should click the "Save" button in order to save item to your local computer.</p><p><strong>Note to admin users:</strong> You can configure whether users see both the Quick and Advanced Download tabs by editing the permissions of the group that the user is in. To do this, go to the Groups section of the Admin area.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT Country ON
		</sqlStatement>	

		<sqlStatement type="all">
			INSERT INTO Country (Id, Name) VALUES (300,'Dubai')
		</sqlStatement>
	
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT Country OFF
		</sqlStatement>	
	
	</version><version number="3.442" private="true">
	
		<userChangeDescription>
			Enhancements to additional approval
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser ADD AdditionalApprovalName Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AssetBankUser ADD AdditionalApprovalName NVarchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetBankUser ADD AdditionalApprovalName NVarchar2(255)
		</sqlStatement>
	
	</version><version number="3.443">

		<userChangeDescription>
			New agreements functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-edit-agreement', 12, 'Link - Edit selected agreement', 'Edit/copy selected agreement &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.444" private="true">

		<userChangeDescription>
			Asset emailing update
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE UserGroup SET CanEmailAssets=0 WHERE Id=2
		</sqlStatement>

	</version><version number="3.445">
		
		<userChangeDescription>
			Add 'can add empty assets' group permission 
		</userChangeDescription>	

		<sqlStatement type="mysql">		
			ALTER TABLE UserGroup ADD COLUMN CanAddEmptyAssets Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UserGroup ADD CanAddEmptyAssets Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UserGroup ADD CanAddEmptyAssets Char(1) Default 0 NOT NULL
		</sqlStatement>
	
     <!-- Set all existing groups to have CanAddEmptyAssets=true if the setting is true -->
		<sqlStatement type="all" appSettingCondition="allow-empty-assets=true">		
			<![CDATA[ UPDATE UserGroup SET CanAddEmptyAssets=1 WHERE Id <> 2 ]]>
		</sqlStatement>

				
		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD MatchOnAttributeId Bigint 
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table AssetEntity add Foreign Key (MatchOnAttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD MatchOnAttributeId Integer 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AssetEntity] add  foreign key([MatchOnAttributeId]) references [Attribute] ([Id]) on update no action on delete no action
		</sqlStatement>
				
		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD MatchOnAttributeId Integer 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AssetEntity add foreign key (MatchOnAttributeId) references Attribute (Id)
		</sqlStatement>


	</version><version number="3.446" private="true">
		
		<userChangeDescription>
			Enhancements to file storage system
		</userChangeDescription>
		
	</version><version number="3.447" private="true">
		
		<userChangeDescription>
			Update to video embedding functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="?width?" height="?height?"><param name="movie" value="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CbaseURL%3A%27?flvPlayerUrl?%27%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CnoVideoClip%3A%27%2E%2E%2F%2E%2E%2Fimages%2Fstandard%2Fmisc%2Fno%2Dvideo%2Egif%27%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%2CvideoFile%3A%27?url?%27%7D" /><param name="scale" value="default" /><param name="bgcolor" value="111111" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CbaseURL%3A%27?flvPlayerUrl?%27%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CnoVideoClip%3A%27%2E%2E%2F%2E%2E%2Fimages%2Fstandard%2Fmisc%2Fno%2Dvideo%2Egif%27%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%2CvideoFile%3A%27?url?%27%7D" width="?width?" height="?height?"><!--<![endif]--><p>Your browser does not have the necessary plugin to display this content.</p><!--[if !IE]>--></object><!--<![endif]--></object>' WHERE Identifier='technical-embeddable-video-html' ]]>
		</sqlStatement>

	</version><version number="3.448" private="true">
		
		<userChangeDescription>
			Registration page fix
		</userChangeDescription>
		
		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/viewConditionsPopup">
		</appSettingChange>

	</version><version number="3.449" private="true">
		
		<userChangeDescription>
			Bulk Upload into Placeholder Assets
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-choose-what-to-upload', 13, 'Snippet - Choose what to upload', 'Choose what you want to upload:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-new-assets-with-metadata', 13, 'Snippet - New assets with metadata', 'Standard import (add new assets with metadata)', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-files-to-existing-assets', 13, 'Snippet - Add files to existing assets', 'Add files to existing assets', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-new-child-assets-to-parent', 13, 'Snippet - Add new child assets to parent', 'Add new child assets to existing parents', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.450" private="true">
		
		<userChangeDescription>
			Password reminder page fix
		</userChangeDescription>
		
		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/viewPasswordReminder;/action/passwordReminder">
		</appSettingChange>

	</version><version number="3.451">
		
		<userChangeDescription>
			Add option to bulk add a range of empty assets, and upload files into them later 
		</userChangeDescription>
		
		<userPostUpdateMessage>
			PLEASE CHECK YOUR SETTING 'allow-empty-assets' AFTER THIS UPGRADE (it may have been reset to false)
		</userPostUpdateMessage>
		
		
		<!-- Note setting this may already be there, but was removed for a period in 3.445. 
			For Asset Banks that received that upgrade, and had allow-empty-assets true,
			then they will need to change the setting back to true after the upgrade -->	
		<appSettingChange type="add" setting="allow-empty-assets" value="false" section="general config">
			<comment>
				Whether to allow assets without files (Asset Types with no registered file types will allow assets without files regardless of this setting)
			</comment>
		</appSettingChange>	
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-add-placeholders', 10, 'Heading - Add Empty Assets', 'Add Assets Without Files', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-placeholders', 13, 'Snippet - Add Empty Assets', 'Add assets without files', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNumPlaceholders', 15, 'failedValidationNumPlaceholders', 'Please enter a valid number for Number to Add.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-num-placeholders', 10, 'Subhead - Number of Empty Assets', 'Number of Empty Assets', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-num-placeholders', 9, 'Label - Number', 'Number:', 1, 2) ]]>
		</sqlStatement>
			
	</version><version number="3.452">
		
		<userChangeDescription>
			Allow filter to be set when sending links in marketing emails
		</userChangeDescription>
	
	</version><version number="3.453" private="true">
		
		<userChangeDescription>
			Enhancements to bulk upload
		</userChangeDescription>
	
	</version><version number="3.454" private="true">
		
		<userChangeDescription>
			Changes for defer thumbnail generation
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD ThumbnailGenerationFailed Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD ThumbnailGenerationFailed Integer DEFAULT 0 NOT NULL 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD ThumbnailGenerationFailed Char(1) DEFAULT 0 NOT NULL 
		</sqlStatement>
		
	</version><version number="3.455" private="true">

		<userChangeDescription>
			Allow user to choose how many search results are shown per page
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser ADD SearchResultsPerPage Integer
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AssetBankUser ADD SearchResultsPerPage Integer NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AssetBankUser ADD SearchResultsPerPage Number NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-results-per-page', 9, 'Label - Results per page', 'Results per page:', 1, 2) ]]>
		</sqlStatement>
			
	</version><version number="3.456">

		<userChangeDescription>
			Allow user to choose how many search results are shown per page
		</userChangeDescription>

		<appSettingChange type="add" setting="options-num-search-results" value="20,40,60,100" section="Search settings">
			<comment>
				Options to display for number of search results to display on a page (should include the default - max-num-search-results)
			</comment>
		</appSettingChange>	
		
	</version><version number="3.457">

		<userChangeDescription>
			Correct data type of CustomField.OrgUnitId in Oracle databases
		</userChangeDescription>

		<sqlStatement type="oracle">
			ALTER TABLE CustomField MODIFY OrgUnitId NUMBER(38)
		</sqlStatement>
			
	</version><version number="3.458">

		<userChangeDescription>
			Added option for bulk delete
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-bulk-delete-assets', 12, 'Link - Bulk delete assets', 'Delete the assets in this batch &raquo;', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-bulk-delete-confirm', 16, 'Title - Bulk delete confirm', '#company-name# | #heading-bulk-delete-confirm#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-bulk-delete-confirm', 10, 'Heading - Bulk delete confirm', 'Confirm bulk delete', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-bulk-delete-warning', 1, 'Bulk delete warning', 'Warning: If you proceed the #items# in the selected batch will be permanently deleted from the system.', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-delete-assets', 11, 'Button - Delete assets', 'Delete assets', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.459">
		
		<userChangeDescription>
			Encrypted url SSO functionality
		</userChangeDescription>
		
		<appSettingChange type="add" setting="update-remote-users-on-sso-login" value="true" section="User registration/ login">
			<comment>
				Should we always update the user profile with sso details on login?
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="remote-users-can-edit-name" value="false" section="User registration/ login">
			<comment>
				Can remote users edit their forename and surname in their profile?
			</comment>
		</appSettingChange>

		<sqlStatement type="all">		
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'sso-enc-url-failed-copy', 1, 'Encrypted Url SSO Login Failed Copy', 'Encrypted Url SSO Login Failed Copy', '<p>Your login attempt failed, this could be because the link you used has expired. Please return to your referrer, refresh the page that you came from and try the link again.</p><p>If the link still fails, please contact <a href="mailto:?email?">?email?</a>.</p><p>Alternatively if you have credentials you can <a href="viewLogin">login directly</a>.</p>', 1, 1) ]]>
		</sqlStatement>
	
	</version><version number="3.460">

		<userChangeDescription>
			Allow printing of images from lightbox
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Print or compare images' WHERE Identifier='snippet-compare' AND Body LIKE 'Compare images'  ]]>
		</sqlStatement>
		
	</version><version number="3.461" private="true">

		<userChangeDescription>
			Fix alternative upload text
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeID=1 WHERE Identifier='snippet-use-alternative-upload'
		</sqlStatement>
		
	</version><version number="3.462">

		<userChangeDescription>
			Added support for Office 2007 formats
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>		
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (201,'DOCX','Word 2007 documents','docx',1,0,0,0,'thumbnails/word_icon.gif','application/msword')  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (202,'XLSX','Excel 2007 spreadsheets','xlsx',1,0,0,0,'thumbnails/excel_icon.gif','application/vnd.ms-excel')  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (203,'PPTX','Powerpoint 2007 presentations','pptx',1,0,0,0,'thumbnails/powerpoint_icon.gif','application/vnd.ms-powerpoint')  ]]>
		</sqlStatement>		
		
		<sqlStatement type="sqlserver">		
			 SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>		
		
	</version><version number="3.463" private="true">
		<userChangeDescription>
			Minor content changes
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-my-searches', 10, 'Heading - My saved searches', 'My saved searches', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-recommended-searches', 10, 'Heading - Recommended searches', 'Recommended searches', 1, 2) ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-bulk-delete-confirm', 9, 'Label - Bulk delete confirm', 'I understand that the selected #items# will be permanently deleted.', 1, 3) ]]>	
		</sqlStatement>			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-bulk-delete-confirm', 9, 'Javascript - Bulk delete confirm', 'You must confirm you understand that #items# will be permanently deleted.', 1, 3) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Delete the selected #items# in this batch &raquo;' WHERE Identifier='link-bulk-delete-assets'  ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Run an update on the selected #items# in this batch &raquo;' WHERE Identifier='link-run-update-batch'  ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<div class="info"><strong>You currently have a bulk update batch defined.</strong><br />Please note that #items# in this batch are locked by you, so that other users cannot perform bulk updates on them until you click &quot;Finish with this batch&quot;.</div><p>There are <strong>?numInBatch?</strong> #items# in the batch.<br />There are <strong>?numSelUpdate?</strong> #items# selected for update.</p>' WHERE Identifier='copy-bulk-update-1'  ]]>
		</sqlStatement>
		
		
	</version><version number="3.464" private="true">

		<userChangeDescription>
			When density is set on download the Photoshop-specific headers are now set
		</userChangeDescription>
		
		<!-- Remove the default density setting as with this Exiftool will always be run, even if the user doesn't care about density -->
		<appSettingChange type="update" setting="default-density" value="" section="General config" />
		
	</version><version number="3.465" private="true">

		<userChangeDescription>
			Enhancement to print images functionality
		</userChangeDescription>	
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'compare', 2, 'Compare and Print help text', 'The help text for printing and comparing', '<h2>Compare and Print</h2><h3>Compare</h3><p>Here you can view images side by side. You can also set the visibility of certain attributes to help you during this comparison process. Note, by default, if an attribute value is empty for a particular asset, then this will not show - even if you tick the check box. It will only appear if the asset has a value for this attribute.</p><h3>Printing</h3><p>The printing option allows you to set the number of assets to be printed on each page. Depending on which browser you use you can then change printing settings to fine tune how these images will appear on the printed piece of paper. For example, you should be able to set whether or not to print to landscape or portrait, reduce border sizes, scale images, etc.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-select-attributes-display', 10, 'Subheading - Select attributes to display', 'Select attributes to display', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-options', 10, 'Subheading - Options', 'Options', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-apply', 11, 'Button - Apply', 'Apply &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-insert-page-breaks', 13, 'Snippet - When printing, insert page breaks', 'When printing, insert a page break after every', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-page-break', 13, 'Snippet - Page Break', 'Page Break', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.466" private="true">

		<userChangeDescription>
			Enhancement to print images functionality
		</userChangeDescription>
		
	</version><version number="3.467" private="true">

		<userChangeDescription>
			Category deletion changes
		</userChangeDescription>
		
	</version><version number="3.468" private="true">

		<userChangeDescription>
			Fix for add all to lightbox functionality
		</userChangeDescription>
		
		<appSettingChange type="add" setting="add-all-to-assetbox-limit" value="100" section="Lightbox settings">
			<comment>
				The limit on the number of assets that can be added to the lightbox from the 'add all' link
			</comment>
		</appSettingChange>

	</version><version number="3.469">

		<userChangeDescription>
			Allow image sizes to be displayed in metric or imperial
		</userChangeDescription>
		
		<appSettingChange type="add" setting="show-sizes-in-metric" value="true" section="Image sizes">
			<comment>
				Whether to show image sizes in metric
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" setting="show-sizes-in-imperial" value="false" section="Image sizes">
			<comment>
				Whether to show image sizes in imperial
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'mm (screen at ?screenDPI? DPI);' WHERE Identifier='snippet-mm-screen'  ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'mm (print at ?printDPI? DPI);' WHERE Identifier='snippet-mm-print'  ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-inches-screen', 13, 'Snippet - Inches screen', 'inches (screen at ?screenDPI? DPI);', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-inches-print', 13, 'Snippet - Inches print', 'inches (print at ?printDPI? DPI);', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.470">

		<userChangeDescription>
			Allow customisable number of columns on the homepage
		</userChangeDescription>
		
		<appSettingChange type="add" setting="category-columns-on-homepage" value="3" section="Browse settings">
			<comment>
				Number of columns to show on the homepage for categories and access levels
			</comment>
		</appSettingChange>		
	
	</version><version number="3.471" private="true">

		<userChangeDescription>
			Enhancements to autoincrement attribute
		</userChangeDescription>
		
	</version><version number="3.472" private="true">

		<userChangeDescription>
			Auto completion
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD IsAutoComplete Tinyint NOT NULL DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD IsAutoComplete Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD IsAutoComplete Char (1) Default 0 NOT NULL
		</sqlStatement>
		
	</version><version number="3.473">
		<userChangeDescription>
			New Composite Embedded Data type
		</userChangeDescription>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataType (Id, Name) VALUES (8, 'Composite')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataType OFF
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>	
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (800, 8, 'GPSAltitude', 'GPSAltitude')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (801, 8, 'GPSDateTime', 'GPSDateTime')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (802, 8, 'GPSLatitude', 'GPSLatitude')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (803, 8, 'GPSLatitudeRef', 'GPSLatitudeRef')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (804, 8, 'GPSLongitude', 'GPSLongitude')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (805, 8, 'GPSLongitudeRef', 'GPSLongitudeRef')
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (806, 8, 'GPSPosition', 'GPSPosition')
		</sqlStatement>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>	

	</version><version number="3.474">

		<userChangeDescription>
			Rename Batch update section to Update Items
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-update-assets', 10, 'Heading - Update Assets', 'Update #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-update-assets', 7, 'Main Menu - Update Assets', 'Update #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-bulk-update', 10, 'Subheading - Bulk Update', 'Update a group of assets, all at once', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-batch-update', 10, 'Subheading - Batch Update', 'Update a group of assets, one at a time', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.475">

		<userChangeDescription>
			Allow view larger size functionality to be restricted by group
		</userChangeDescription>
	
		<sqlStatement type="mysql">		
			ALTER TABLE UserGroup ADD COLUMN CanViewLargerSize Bool DEFAULT 1 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE UserGroup ADD CanViewLargerSize Tinyint Default 1 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE UserGroup ADD CanViewLargerSize Char(1) Default 1 NOT NULL
		</sqlStatement>
		
		
	</version><version number="3.476" private="true">

		<userChangeDescription>
			Option to make users reactivate their account if they haven't logged in for a specified number of days
		</userChangeDescription>
		
		<appSettingChange type="add" setting="verify-users-inactive-for" value="0" section="User registration/ login">
			<comment>
				If a user doesn't log in for the number of days set here they will be sent an email to re-activate their account (0 to disable)
			</comment>
		</appSettingChange>	
		
		<appSettingChange type="add" setting="verify-users-reactivation-period" value="0" section="User registration/ login">
			<comment>
				The number of days a user has to re-activate their account (after receiving the email) before it is deleted (verify-users-inactive-for must be set too)
			</comment>
		</appSettingChange>	
		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetBankUser ADD DateLastLoggedIn DATETIME
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetBankUser ADD DateLastLoggedIn DATETIME
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE AssetBankUser ADD DateLastLoggedIn DATE
		</sqlStatement>
		
		<sqlStatement type="mysql">
			UPDATE AssetBankUser SET DateLastLoggedIn=CURRENT_DATE()
		</sqlStatement>		
		<sqlStatement type="sqlserver">		
			UPDATE AssetBankUser SET DateLastLoggedIn=GETDATE()
		</sqlStatement>
		<sqlStatement type="oracle">
			UPDATE AssetBankUser SET DateLastLoggedIn=CURRENT_DATE
		</sqlStatement>	
		
		<sqlStatement type="mysql">		
			ALTER TABLE AssetBankUser ADD COLUMN ReactivationPending Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE AssetBankUser ADD ReactivationPending Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE AssetBankUser ADD ReactivationPending Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-account-reactivated', 10, 'Heading - Account reactivated', 'Account reactivated', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-thank-you-for-reactivating', 13, 'Snippet - Thank you for reactivating', 'Thank you for reactivating your account', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'user reactivation','noreply@noreply.com','#email#;','','','Your Asset Bank account will expire soon','Dear #name#,<br /><br />You have not logged into your Asset Bank account for #notLoggedInFor# days. Please click the link below to reactivate your account. If you have not reactivated your account within #reactivationPeriod# days it will be deleted.<br /><br /><a href=\"#url#\">Reactivate your account</a><br /><br />Regards,<br />Asset Bank Admin','user_reactivation') ]]>
		</sqlStatement>
		
	</version><version number="3.477" private="true">
		
		<userChangeDescription>
			Option to make users reactivate their account if they haven't logged in for a specified number of days
		</userChangeDescription>
		
	</version><version number="3.478" private="true">
		<userChangeDescription>
			Fix release: changes to enable logging stack trace with file deletion.
		</userChangeDescription>	
		<appSettingChange type="add" setting="log-stack-trace-with-deletion" value="false" section="General config">
			<comment>
				The following is for debug purposes: generally it should be set to false. If true, the application will record a stack trace with each file deletion, so that if a problems occure with files going missing it is possible to see where in the code files were being deleted
			</comment>
		</appSettingChange>
	</version><version number="3.479">

		<userChangeDescription>
			Option to make users reactivate their account if they haven't logged in for a specified number of days
		</userChangeDescription>
		
	</version><version number="3.480">
		
		<userChangeDescription>
			Auto completion.  Suggests words as you type into the search fields and when editing assets.
		</userChangeDescription>
	
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

		<appSettingChange type="add" setting="auto-complete-enabled" value="false" section="Auto Complete">
			<comment>
				Whether to enable auto completion.  When you change this from false to true you need to rebuild the auto complete index (http://asset-bank-server/asset-bank/action/viewACReindexStatus).
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="auto-complete-max-results" value="15" section="Auto Complete">
			<comment>
				Maximum number of suggestions to include when auto completing
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute CHANGE SearchTokenRegExp TokenDelimiterRegex varchar(20)
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			sp_rename 'Attribute.SearchTokenRegExp', 'TokenDelimiterRegex'
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE Attribute RENAME COLUMN SearchTokenRegExp TO TokenDelimiterRegex
		</sqlStatement>

	</version><version number="3.481">

		<userChangeDescription>
			Functionality for high-res usage types to be omitted when downloading low-res images
		</userChangeDescription>
		
		<appSettingChange type="add" setting="image-size-considered-low-res" value="0" section="User registration/ login">
			<comment>
				If an original image's area is less than this then it will be considered low res and high-res options will be omitted (0 to disable)
			</comment>
		</appSettingChange>	
		
	</version><version number="3.482">

		<userChangeDescription>
			Made search page title editable
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-search', 16, 'Title - Search', '#company-name# | #heading-search#', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.483" private="true">

		<userChangeDescription>
			Correct the default density to set to 0 rather than empty - to avoid 'setting not set' errors in log. Corrects version 3.464
		</userChangeDescription>
		<appSettingChange type="update" setting="default-density" value="0" section="General config" />
		
	</version><version number="3.484">
		
		<userChangeDescription>
			Allow admin users to set an expiry date on a user's account
		</userChangeDescription>		
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-user-expiry-date', 9, 'Label - User expiry date', 'Expiry date:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-account-suspended', 13, 'Snippet - Account suspended', 'Sorry, your account has been suspended.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.485">
		
		<userChangeDescription>
			Allow categories to be shown on the homepage quick search
		</userChangeDescription>
		
		<appSettingChange type="add" setting="show-categories-on-quick-search" value="false" section="Search settings">
			<comment>
				Show categories for quick search on homepage
			</comment>
		</appSettingChange>	
		
	</version><version number="3.486">

		<userChangeDescription>
			Improve security by generating a new password when the "Forgotten Password" form is used instead of emailing the user their current password
		</userChangeDescription>		

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p>Please enter your username (your email address) and we will email a new password to you.</p>' WHERE Identifier = 'intro-forgot-pwd-isemail' AND Body LIKE '<p>Please enter your username (your email address) and we will email your password to you.</p>' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p>Please enter your username or your email address and we will email a new password to you.</p>' WHERE Identifier = 'intro-forgot-pwd' AND Body LIKE '<p>Please enter your username  or your email address and we will email your password to you.</p>' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier = 'button-remind-me' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-reset-password', 11, 'Button - Reset Password', 'Reset Password', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Subject='Your Asset Bank password' WHERE TextId='password_reminder' AND Subject='Your Asset Bank password reminder' ]]>
		</sqlStatement>

	</version><version number="3.487" private="true">

		<userChangeDescription>
			Updates to ecommerce to allow ecommerce and hashed passwords to be used together
		</userChangeDescription>		

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (TextId, LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, Hidden) SELECT 'subscription_and_registration_confirmation', LanguageId, TypeId, 'subscription and registration confirmation', AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, Hidden FROM EmailTemplate WHERE TextId = 'subscription_confirmation' ]]>
		</sqlStatement>

	</version><version number="3.488" private="true">

		<userChangeDescription>
			Fix problem with clauses on search builder
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-hidden-clause', 13, 'Snippet - Hidden Search Builder Clause', '<p>This search has hidden clauses that you do not have permission to edit. You can refine the search by adding your own clauses below:</p><p>Hidden clauses...</p>', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.489">

		<userChangeDescription>
			Workflow enhancements
			NOTE: These enhancements assume Asset Bank is operating with one workflow. If your Asset Bank has more than one workflow please stop and contact support@assetbank.co.uk
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>


		<sqlStatement type="mysql">
			ALTER TABLE WorkflowInfo ADD WorkflowableEntityId Bigint
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE WorkflowInfo ADD WorkflowableEntityId Integer
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE WorkflowInfo ADD WorkflowableEntityId Integer
		</sqlStatement>
				

		<sqlStatement type="mysql">		
			ALTER TABLE CM_ItemInCategory ADD COLUMN IsApproved TinyInt
		</sqlStatement>
		
		<sqlStatement type="sqlserver">		
			ALTER TABLE CM_ItemInCategory ADD IsApproved Tinyint
		</sqlStatement>
		
		<sqlStatement type="oracle">		
			ALTER TABLE CM_ItemInCategory ADD IsApproved Char(1)
		</sqlStatement>


		<sqlStatement type="mysql">	
			UPDATE WorkflowInfo wf, Asset a SET wf.WorkflowableEntityId=a.Id WHERE a.WorkflowInfoId=wf.Id AND NOT ISNULL(a.WorkflowInfoId)
		</sqlStatement>
		<sqlStatement type="oracle">		
			UPDATE WorkflowInfo wf SET wf.WorkflowableEntityId=(SELECT a.Id FROM Asset a WHERE a.WorkflowInfoId=wf.Id AND a.WorkflowInfoId IS NOT NULL)
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			UPDATE wf SET wf.WorkflowableEntityId=a.Id FROM WorkflowInfo wf INNER JOIN Asset a ON (wf.Id = a.WorkflowInfoId)
		</sqlStatement>



		<sqlStatement type="all">		
			UPDATE CM_ItemInCategory SET IsApproved=1 WHERE ItemId IN (SELECT Id FROM Asset WHERE IsApproved=1)
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE Asset DROP COLUMN IsApproved
		</sqlStatement>

		<sqlStatement type="mysql">
			UPDATE CM_Category SET WorkflowName='default' WHERE (WorkflowName='' OR ISNULL(WorkflowName)) AND CategoryTypeId=2
		</sqlStatement>

		<sqlStatement type="oracle">
			UPDATE CM_Category SET WorkflowName='default' WHERE (WorkflowName='' OR WorkflowName IS NULL) AND CategoryTypeId=2
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE CM_Category SET WorkflowName='default' WHERE (WorkflowName='' OR WorkflowName IS NULL) AND CategoryTypeId=2
		</sqlStatement>

		<!-- problem removing unnamed foreign key columns in MySQL/SQL Server - so just null the contents -->
		<sqlStatement type="mysql">
			UPDATE Asset SET WorkflowInfoId=NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE Asset SET WorkflowInfoId=NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Asset DROP COLUMN WorkflowInfoId
		</sqlStatement>


		<sqlStatement type="all">		
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'submitOptionAllWorkflows', 15, 'submitOptionAllWorkflows', 'You need to provide submit options for all workflows when submitting an asset', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">		
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'submitOption', 15, 'submitOption', 'You need to select a submit option for this asset', 1, 2)
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-initialise-workflow', 10, 'Heading - Initialise Workflow', 'Initialise Workflow', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-initialise-workflow', 16, 'Title - Initialise Workflow', '#company-name# | #heading-initialise-workflow#', 1, 2) ]]>
		</sqlStatement>
		
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-workflow-init', 13, 'Snippet - Workflow Initialisation', '<p>The asset was added to access levels associated with the following workflows, please select a submit option for each workflow and click the Save button:</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-workflow-removed', 13, 'Snippet - Workflow Removed', 'You have removed one or more access levels from the asset you just saved. This resulted in the asset being removed from workflows associated with the access levels in question.', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-partial-approval', 13, 'Snippet - Partial Approval', 'Partially approved', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-selected-workflow', 9, 'Label - Selected workflow', 'Selected workflow:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ UPDATE ListItem SET Body='There are ?totalSize? #item#s in total' WHERE Identifier='snippet-number-uploaded-items' ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-number-uploaded-items2', 13, 'Snippet - Number of uploaded items to approve part 2', ', of which ?returnSize? are shown.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-update-workflow-status', 9, 'Label - Update workflow status', 'Update workflow status:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-awaiting-approval', 13, 'Snippet - Awaiting Approval', 'Awaiting approval', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-for', 13, 'Snippet - For', 'for', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all"> 
			<![CDATA[ UPDATE ListItem SET Body='You currently have no #item#s being approved for this workflow.' WHERE Identifier='snippet-no-submitted-items' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-batch-approval-update', 10, 'Heading - Batch Approval Update', 'Batch Approval Update for ?workflowName?', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetWorkflowAudit ADD WorkflowName Varchar(200)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AssetWorkflowAudit ADD WorkflowName NVarchar(200)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE AssetWorkflowAudit ADD WorkflowName NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE AssetWorkflowAudit SET WorkflowName='default'
		</sqlStatement>

	</version><version number="3.490" private="true">
		
		<userChangeDescription>
			Duplicate Asset Report fix
		</userChangeDescription>
		
		<appSettingChange type="add" setting="duplicate-asset-report-limit" value="200" section="general config">
			<comment>
				The maximum number of results to display on the duplicate assets report
			</comment>
		</appSettingChange>

	</version><version number="3.491">

		<userChangeDescription>
			Bulk update can now be used to remove selected keywords from a group of assets (previously keyords could only be appended to or replaced)
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-remove', 13, 'Snippet - remove (dropdown)', 'Remove', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.492" private="true">
	
		<userChangeDescription>
			Fixing typos, moving content into database
		</userChangeDescription>
		
		<sqlStatement type="all">
            <![CDATA[ UPDATE ListItem SET Body = '<p>Approval requests from ?fullName?</p><p>Select Approval Status &quot;Unapproved&quot; to reject the request, or &quot;Approved&quot; to approve it. Optionally you may add a message to the user when approving or rejecting the request.</p>' WHERE Identifier = 'intro-approve-items-p2' AND Body LIKE '<p>Approval requests from ?fullName?</p><p>Select Approval Status &quot;Unapproved&quot; to reject the request, or &quot;Approved&quot; to approve it.Optionally you may add a message to the user when approving or rejecting the request.</p>' ]]>
        </sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-download-as-file', 9, 'Label - Download as file', 'Download as a file', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-download-as-image', 9, 'Label - Download as image', 'Download as an image', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-loading', 13, 'Snippet - Loading', 'Loading...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-how-dl-pdf', 13, 'Snippet - How to download pdf', 'Please select how you want to download <em>?assetName?</em>:', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.493" private="true">
	
		<userChangeDescription>
			Minor text changes
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-of-selected-cats-als', 13, 'Snippet - Of selected categories/access levels', 'of the selected categories/access levels', 1, 2) ]]>		
		</sqlStatement>
		<sqlStatement type="all">
            <![CDATA[ UPDATE EmailTemplate SET Body = '#name# has requested approval to download a set of images.<br><br>Their email address: #email#<br><br>Please log in to Asset Bank and go to the Approve Images section to see the request and approve the images.<br><br>IDs of assets requested: #assetids#' WHERE TextId = 'admin_alert_approvals' AND Body LIKE '#name# has requested approval to download a set of images.<br><br>Their email address: #email#<br><br>Please log in to Asset Bank and goto the Approve Images section to see the request and approve the images.<br><br>IDs of assets requested: #assetids#' ]]>
        </sqlStatement>
	</version><version number="3.494" private="true">
		
		<userChangeDescription>
			Added new data lookup button attribute type
		</userChangeDescription>

		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeType (Id,Name) VALUES (13,'Data lookup button')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD PluginClass Varchar(250)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD PluginClass NVarchar(250)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD PluginClass NVarchar2(250)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD PluginParamsAttributeIds Varchar(250)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD PluginParamsAttributeIds NVarchar(250)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD PluginParamsAttributeIds NVarchar2(250)
		</sqlStatement>
	
	</version><version number="3.495" private="true">
		
		<userChangeDescription>
			Fix for submit option content problem
		</userChangeDescription>
			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-workflow-submit-options', 9, 'Label - Workflow submit options', 'Workflow submit options', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.496" private="true">
		
		<userChangeDescription>
			General fixes
		</userChangeDescription>
	
	</version><version number="3.497" private="true">
		
		<userChangeDescription>
			General fixes
		</userChangeDescription>
	
	</version><version number="3.498" private="true" updaterChanged="true">
		<userChangeDescription>
			Improvements to updater.  Retrieves new code and then runs one more update to store previously applied updates.
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="true" section="Application Updater Settings" />
		
	</version><version number="3.499">
		<userChangeDescription>
			Improvements to updater.
		</userChangeDescription>
		
		<appSettingChange type="update" setting="application-update-in-progress" value="false" section="Application Updater Settings" />
		
	</version><version number="3.500" private="true">

		<userChangeDescription>
			Auto completion - additional setting.
		</userChangeDescription>

		<appSettingChange type="add" setting="auto-complete-include-file-keywords" value="true" section="Auto Complete">
			<comment>
				Whether to include keywords found in text documents in auto complete suggestions
			</comment>
		</appSettingChange>

	</version><version number="3.501">

		<userChangeDescription>
			New slideshow functionality for assetbox, search and browse
		</userChangeDescription>

		<appSettingChange type="add" setting="search-results-transformation-directory" value="WEB-INF/manager-config/transform/search" section="Directory settings">
			<comment>
				The location of any xslt files that are used to transform the xml search results
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="enable-slideshow" value="false" section="Browse settings">
			<comment>
				Should the slideshow functionality be enabled (for assetbox, search and browse)
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="cache-unwatermarked-large-image" value="false" section="Asset View settings">
			<comment>
				Should the system cache an unwatermarked large image version of assets
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="view-unwatermarked-large-image-size" value="800" section="Asset View settings">
			<comment>
				The following is the size for the unwatermarked large image
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE ImageAsset ADD UnwatermarkedLargeFileLocation Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE ImageAsset ADD UnwatermarkedLargeFileLocation NVarchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE ImageAsset ADD UnwatermarkedLargeFileLocation NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-this-page-as-slideshow', 12, 'Link - View this page as a slideshow', 'View this page as a slideshow', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES ('link-all-as-slideshow', 12, 'Link - View all as a slideshow', 'View all as a slideshow', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-view-as-slideshow', 13, 'Snippet - View as slideshow', 'View as slideshow', 1, 2) ]]>		
		</sqlStatement>

	</version><version number="3.502">

		<userChangeDescription>
			Updates to video repurposing functionality
			NOTE: These enhancements will replace the video embedding HTML - if you have customised this through the Admin &gt; Content &gt; Technical Content section then you need to make a note of your changes and reproduce them after the upgrade.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedAsset ADD PreviewFileLocation Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset ADD PreviewFileLocation NVarchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedAsset ADD PreviewFileLocation NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="?width?" height="?height?"><param name="movie" value="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CplayList%3A%5B%7Burl%3A%27?previewFileLocation?%27%2CoverlayId%3A%20%27play%27%7D%2C%7Bname%3A%27main%27%2Curl%3A%27?url?%27%7D%5D%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%7D" /><param name="scale" value="default" /><param name="bgcolor" value="111111" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="?flvPlayerUrl?/FlowPlayerLight.swf?config=%7Bembedded%3Atrue%2CplayList%3A%5B%7Burl%3A%27?previewFileLocation?%27%2CoverlayId%3A%20%27play%27%7D%2C%7Bname%3A%27main%27%2Curl%3A%27?url?%27%7D%5D%2CshowFullScreenButton%3Afalse%2CshowMenu%3Atrue%2CcontrolsAreaBorderColor%3A14540253%2CautoPlay%3Afalse%2Cloop%3Afalse%2CautoBuffering%3Atrue%2CautoRewind%3Atrue%2CallowResize%3Afalse%2CshowStopButton%3Atrue%2CinitialScale%3A%27scale%27%7D" width="?width?" height="?height?"><!--<![endif]--><p>Your browser does not have the necessary plugin to display this content.</p><!--[if !IE]>--></object><!--<![endif]--></object>' WHERE Identifier='technical-embeddable-video-html' ]]>
		</sqlStatement>

		<appSettingChange type="add" setting="repurposed-video-maintain-preview" value="false" section="download options">
			<comment>
				Whether repurposed videos should maintain the selected preview image that the asset has at the time of the repurposed versions creation
			</comment>
		</appSettingChange>

	</version><version number="3.503" private="true">

		<userChangeDescription>
			Setting to control whether to force file names to an asset's id on download
		</userChangeDescription>

		<appSettingChange type="add" setting="use-id-for-download-filenames" value="false" section="General config">
			<comment>
				Should downloaded files use the id as the filename? If false the application uses the value from whatever attribute is defined as the name attribute
			</comment>
		</appSettingChange>
	
	</version><version number="3.504" private="true">

		<userChangeDescription>
			Content changes to browse by keywords page.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-items-for-keyword', 13, 'Snippet - No items found for keyword', '<strong>#subhead-no-items-found#</strong> - Please choose another keyword:', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.505" private="true">

		<userChangeDescription>
			Make year in footer easier to update
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-current-year', 13, 'Snippet - Current year', '2009', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p><span>&copy; #snippet-current-year# <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>' WHERE Identifier='footer-copy' AND Body LIKE '<p><span>&copy; 2007 <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p><span>&copy; #snippet-current-year# <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>' WHERE Identifier='footer-copy' AND Body LIKE '<p><span>&copy; 2008 <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p><span>&copy; #snippet-current-year# <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>' WHERE Identifier='footer-copy' AND Body LIKE '<p><span>&copy; 2009 <a href="http://www.bright-interactive.com" target="_blank">Bright Interactive</a>. <a href="../action/viewConditions">Terms &amp; Conditions</a> | <a href="../action/viewPrivacy">Privacy Policy</a> | <a href="../action/viewAbout">About Asset Bank</a></span></p>' ]]>
		</sqlStatement>
		
	</version><version number="3.506">

		<userChangeDescription>
			Allow categories and access levels to be removed on bulk update
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Remove from all categories' WHERE Identifier='label-delete-existing-cats' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier = 'label-delete-access-levels' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-change-access-levels', 13, 'Snippet - Change access levels', 'Change #access-level-root#:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-change-categories', 13, 'Snippet - Change categories', 'Change #category-root#:', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.507">
		
		<userChangeDescription>
			Add enhanced GPS embedded data mappings
		</userChangeDescription>

		<appSettingChange type="add" setting="embedded-gps-coordinate-format" value="%.6f" section="General config">
			<comment>
				The pattern for reading embedded GPS coordinates
			</comment>
		</appSettingChange>
		
		<!-- Remove the composite ones - not needed since we should use EXIF fields -->
		<sqlStatement type="all">
			DELETE FROM EmbeddedDataMapping WHERE EmbeddedDataValueId IN (800,801,802,803,804,805,806)
		</sqlStatement>
		<sqlStatement type="all">
			DELETE FROM EmbeddedDataValue WHERE EmbeddedDataTypeId=8
		</sqlStatement>
		<sqlStatement type="all">
			DELETE FROM EmbeddedDataType WHERE Id=8
		</sqlStatement>

		
		<!-- Add EXIF ones  -->
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (850, 1, 'GPSAltitude', 'GPSAltitude')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (851, 1, 'GPSAltitudeRef', 'GPSAltitudeRef')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (852, 1, 'GPSLatitude', 'GPSLatitude')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (853, 1, 'GPSLatitudeRef', 'GPSLatitudeRef')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (854, 1, 'GPSLongitude', 'GPSLongitude')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (855, 1, 'GPSLongitudeRef', 'GPSLongitudeRef')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (856, 1, 'GPSMapDatum', 'GPSMapDatum')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (857, 1, 'GPSDateStamp', 'GPSDateStamp')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (858, 1, 'GPSTimeStamp', 'GPSTimeStamp')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (859, 1, 'GPSSatellites', 'GPSSatellites')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (604, 7, 'GPSLatitude Signed', 'GPSLatitude Signed')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (605, 7, 'GPSLongitude Signed', 'GPSLongitude Signed')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (606, 7, 'GPSMapDatum Mapped', 'GPSMapDatum Mapped')
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>
		
	</version><version number="3.508" private="true">

		<userChangeDescription>
			Misc changes to slideshow
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-slideshow', 10, 'Heading - Slideshow', 'Slideshow', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-slideshow', 16, 'Title - Slideshow', '#company-name# | #heading-slideshow#', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-display-time', 13, 'Snippet - Display time', 'Picture display time (seconds):', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.509">
		
		<userChangeDescription>
			Add support for indexing Office 7 Word docx docs
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE FileFormat SET Name='DOCX', IsIndexable=1, ToTextConverterClass='com.bright.assetbank.converter.DOCXToTextConverter' WHERE Id=201
		</sqlStatement>
		
	</version><version number="3.510" private="true">
		
		<userChangeDescription>
			Data lookup attribute error reporting change and slideshow fix
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedDataLookup', 15, 'failedDataLookup', 'Error performing data lookup: ', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View these images as a slideshow' WHERE Identifier='link-this-page-as-slideshow' ]]>
		</sqlStatement>
		
	</version><version number="3.511" private="true">
		<userChangeDescription>
			Modifications and updates
		</userChangeDescription>
	</version><version number="3.512" private="true">
		<userChangeDescription>
			Changes to email this page functionality
		</userChangeDescription>
	
		<appSettingChange type="add" setting="wia-url" value="Default-sso.aspx?redirect=" section="General config">
			<comment>
				The url of the wia page (in relation to the application-url setting)
			</comment>
		</appSettingChange>

	</version><version number="3.513" private="true">
		<userChangeDescription>
			Text change to bulk upload page
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-navigate-away', 13, 'Snippet - Navigate away', 'You can navigate away from this page and return later without affecting the import.', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.514" private="true">
		
		<userChangeDescription>
			Improvements to Asset Bank help
		</userChangeDescription>
		
		<appSettingChange type="add" setting="local-help-enabled" value="true" section="General config">
			<comment>
				Whether to enable local help - set to false to only display up to date help from the Asset Bank website
			</comment>
		</appSettingChange>
		
		<sqlStatement type="all">
			UPDATE ListItem SET CannotBeDeleted=0 WHERE ListId=2
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-help', 16, 'Title - Help', '#company-name# | #heading-help#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-help', 10, 'Heading - Help', 'Help', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-online-help', 10, 'Heading - Online help', 'Online Help', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-admin-help', 10, 'Heading - Admin help', 'Online Admin Help', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-help', 10, 'Snippet - No help for this page', 'Sorry, there is no help for this page.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-edit-help-text', 12, 'Link - Edit help text', 'Edit help text for this page', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.515" private="true">
		<userChangeDescription>
			Update to slideshow functionality
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-show-attribute-labels', 13, 'Snippet - Show attribute labels', 'Show attribute labels:', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.516" private="true">
		
		<userChangeDescription>
			Oracle fixes
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Alter table Attribute Modify Column Label Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table Attribute Alter column Label Nvarchar(255) NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute MODIFY Label NULL
		</sqlStatement>
		
	</version><version number="3.517" private="true">
		<userChangeDescription>
			Update to add all to lightbox functionality
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-x', 12, 'Link - Add x to lightbox', 'add the first ?count? #items# to your #a-lightbox#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-add-x-cat-items-lightbox', 14, 'Javascript - Add x items in category to lightbox', 'Are you sure you want to add the first ?count? #items# in this category to your #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-add-x-search-lightbox', 14, 'Javascript - Add x search results to lightbox', 'Are you sure you want to add the first ?count? #items# in your search results to your #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>


	</version><version number="3.518" private="true">
		
		<userChangeDescription>
			General updates
		</userChangeDescription>
		
	</version><version number="3.519" private="true">
		<userChangeDescription>
			Enhancements for storage devices (Oracle)
		</userChangeDescription>
	
		<sqlStatement type="oracle">
			CREATE SEQUENCE StorageDeviceSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
	</version><version number="3.520" private="true">
		
		<userChangeDescription>
			Improvements to Asset Bank help
		</userChangeDescription>
		
	</version><version number="3.521">
		
		<userChangeDescription>
			Updates to asset synchronisation functionality
		</userChangeDescription>
		
	</version><version number="3.522" private="true">
		
		<userChangeDescription>
			Added Oracle sequence for news items
		</userChangeDescription>
		
		<userPostUpdateMessage>
			If you are using Oracle please run the following database statement (do not worry if you receive a message saying that it already exists) CREATE SEQUENCE NewsItemSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</userPostUpdateMessage>
		
	</version><version number="3.523">
		
		<userChangeDescription>
			Updates to bulk update and workflow functionality
		</userChangeDescription>
		
	</version><version number="3.524" private="true">
		
		<userChangeDescription>
			Correction to email template
		</userChangeDescription>
		
		<sqlStatement type="all">
            <![CDATA[ UPDATE EmailTemplate SET Body = '#name# has uploaded or updated items. The new or updated items require approval.<br><br>Please log in to Asset Bank and go to the Approve Items section to approve the changes.' WHERE TextId = 'admin_alert_upload_approvals' AND Body LIKE '#name# has uploaded or updated items. The new or updated items require approval.<br><br>Please log in to Asset Bank andgo to the Approve Items section to approve the changes.' ]]>
        </sqlStatement>
		
	</version><version number="3.525" private="true">
		
		<userChangeDescription>
			Search fixes
		</userChangeDescription>
		
	</version><version number="3.526" private="true">
		
		<userChangeDescription>
			More search fixes
		</userChangeDescription>
		
	</version><version number="3.527">
		
		<userChangeDescription>
			Change to default look and feel.
		</userChangeDescription>
		
		<appSettingChange type="update" section="Image sizes" setting="logo-image-height" value="42" />
		
	</version><version number="3.528" private="true">
		
		<userChangeDescription>
			Correction for DNG files so that they are treated as raw files
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET ConverterClass='com.bright.assetbank.converter.RawToImageConverter' WHERE FileExtension='dng'
		</sqlStatement>
		
	</version><version number="3.529" private="true">
		
		<userChangeDescription>
			Update to make telephone, fax and website custom user fields
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE CustomField ADD SequenceNumber Integer DEFAULT 999 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE CustomField ADD SequenceNumber Integer DEFAULT 999 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE CustomField ADD SequenceNumber Number  DEFAULT 999 NOT NULL
		</sqlStatement>
		
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT CustomField ON
		</sqlStatement>		
		<sqlStatement type="all">
			INSERT INTO CustomField (Id, FieldName, UsageTypeId, TypeId, Required, OrgUnitId, SequenceNumber) VALUES (1001, 'Telephone',1,1,0,null,1)
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="users-have-fax=true">
			INSERT INTO CustomField (Id, FieldName, UsageTypeId, TypeId, Required, OrgUnitId, SequenceNumber) VALUES (1002, 'Fax',1,1,0,null,2)
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="users-have-website=true">
			INSERT INTO CustomField (Id, FieldName, UsageTypeId, TypeId, Required, OrgUnitId, SequenceNumber) VALUES (1003, 'Website',1,1,0,null,3)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT CustomField OFF
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			UPDATE CustomField SET Required=1 WHERE Id=1001
		</sqlStatement>
		
		<sqlStatement type="all" appSettingCondition="users-register-strict-address=true">
			UPDATE CustomField SET Required=1 WHERE Id=1001
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO CustomFieldValueMapping (ItemId,CustomFieldId,TextValue) SELECT Id,1001,Telephone FROM AssetBankUser
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="users-have-fax=true">
			INSERT INTO CustomFieldValueMapping (ItemId,CustomFieldId,TextValue) SELECT Id,1002,Fax FROM AssetBankUser
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="users-have-website=true">
			INSERT INTO CustomFieldValueMapping (ItemId,CustomFieldId,TextValue) SELECT Id,1003,Website FROM AssetBankUser
		</sqlStatement>
		
		<sqlStatement type="all">
			ALTER TABLE AssetBankUser DROP COLUMN Telephone
		</sqlStatement>
		<sqlStatement type="all">
			ALTER TABLE AssetBankUser DROP COLUMN Fax
		</sqlStatement>
		<sqlStatement type="all">
			ALTER TABLE AssetBankUser DROP COLUMN Website
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body='Dear #name#<br><br>This email has been automatically sent to you by Asset Bank because the following user has registered and requested that you authorise them :<br><br>Forename: #forename#<br>Surname: #surname#<br>Email Address: #email#<br>Username: #username#<br><br>To approve this user please click the link below:<br>#approve#<br><br>To reject this user please click the link below:<br>#reject#<br><br>Regards,<br>Asset Bank Admin' WHERE TextId='additional_user_approval' ]]>
		</sqlStatement>
		
		<appSettingChange type="delete" setting="users-have-website" />
		
		<appSettingChange type="delete" setting="users-have-fax" />
		
	</version><version number="3.530" private="true">
		
		<userChangeDescription>
			Update to allow non-duplicates to be removed from duplicate report
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE Asset ADD COLUMN IsNotDuplicate Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE Asset ADD IsNotDuplicate Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE Asset ADD IsNotDuplicate Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-delete-peer-relationships', 9, 'Label - Delete peer relationships', 'Unrelate assets:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-num-uses', 9, 'Label - Number of Uses', 'Uses', 1, 2)  ]]>
		</sqlStatement>
		
	</version><version number="3.531" private="true">
		
		<userChangeDescription>
			Save message change
		</userChangeDescription>
		
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-update-result-1-2', 1, 'Intro - Update Result 1 (alternate)', '<p>The #item# has been updated. <a href="../action/viewOwnerAssetApproval">View the submitted page</a> to find out it''s current approval status.</p>', 1, 1)
		</sqlStatement>
	
	</version><version number="3.531.1">
		
		<userChangeDescription>
			Update to extra content page functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="extra-content-pages-admin-only" value="false" section="General config">
			<comment>
				Whether the extra content pages are admin only or not
			</comment>
		</appSettingChange>

	</version><version number="3.531.2">
		
		<userChangeDescription>
			Update to extra content page permission functionality
		</userChangeDescription>

		<appSettingChange type="add" setting="extra-content-pages-logged-in-only" value="false" section="General config">
			<comment>
				Whether the extra content pages are for logged in users only (ignored if extra-content-pages-admin-only is set to true)
			</comment>
		</appSettingChange>

	</version><version number="3.532" private="true">

		<userChangeDescription>
			Fix to Attribute data
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET IsStatic = 0, StaticFieldName = NULL WHERE Id = 7 ]]>
		</sqlStatement>

	</version><version number="3.533">

		<userChangeDescription>
			Improved performance of Asset Banks with large numbers of assets and/or attributes.
		</userChangeDescription>
		<userPostUpdateMessage>
			*** NOTE: The first time you start Asset Bank after this update it will migrate the attribute value data into new database tables.  This can take several hours if you have a large number of assets and/or attributes, during which time your Asset Bank will not be available for use.
			We recommend that you enable info level logging (in asset-bank/WEB-INF/classes/simplelog.properties) before restarting Asset Bank so that you can see log messages about the progress of the data migration.
			This can be done by editing [TOMCAT]/webapps/asset-bank/WEB-INF/classes/simplelog.properties and restarting Asset Bank ***
		</userPostUpdateMessage>
		<userPostUpdateMessage>
			Backups of the old attribute database tables will be left in your database.  After you have checked that the data migration was successful (i.e. your assets still have the same attribute values that they did before) you can drop the following tables: BAK_AttributeValue, BAK_TranslatedAttributeValue, BAK_AssetAttributeValue and BAK_FilterAttributeValue.
		</userPostUpdateMessage>

		<!-- Drop column that isn't used - it's always NULL and the actual values are stored in AttributeValue with AttributeId = 7 -->
		<sqlStatement type="mysql">
			CREATE TABLE BAK_AssetDateCreated AS SELECT Id, DateCreated FROM Asset WHERE DateCreated IS NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			CREATE TABLE BAK_AssetDateCreated AS SELECT Id, DateCreated FROM Asset WHERE DateCreated IS NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SELECT Id, DateCreated INTO BAK_AssetDateCreated FROM Asset WHERE DateCreated IS NOT NULL
		</sqlStatement>
		<sqlStatement type="all">
			ALTER TABLE Asset DROP COLUMN DateCreated
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table AttributeStorageType (
				Id Bigint NOT NULL,
				Name Varchar(60) NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [AttributeStorageType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(60) NOT NULL,
			Constraint [pk_AttributeStorageType] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table AttributeStorageType (
				Id Integer NOT NULL ,
				Name NVarchar2(60) NOT NULL ,
			 Constraint pk_AttributeStorageType primary key (Id) 
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeStorageType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeStorageType (Id, Name) VALUES (1, 'Value per Asset')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeStorageType (Id, Name) VALUES (2, 'Lookup List')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeStorageType (Id, Name) VALUES (3, 'Stored as Categories')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeStorageType (Id, Name) VALUES (100, 'Not Stored')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeStorageType OFF
		</sqlStatement>

		<!-- Create AttributeStorageTypeId and SequenceNumber columns as NULL, then populate them, then change them to NOT NULL -->
		<sqlStatement type="mysql">
			ALTER TABLE AttributeType ADD AttributeStorageTypeId BIGINT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AttributeType ADD AttributeStorageTypeId INTEGER NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AttributeType ADD AttributeStorageTypeId Integer NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE AttributeType ADD SequenceNumber INTEGER NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AttributeType ADD SequenceNumber INTEGER NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AttributeType ADD SequenceNumber Integer NULL
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE AttributeType SET AttributeStorageTypeId = 1 WHERE Id IN (1, 2, 3, 8, 9, 11, 12)
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE AttributeType SET AttributeStorageTypeId = 2 WHERE Id IN (4, 5, 6)
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE AttributeType SET AttributeStorageTypeId = 3 WHERE Id = 7
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE AttributeType SET AttributeStorageTypeId = 100 WHERE Id IN (10, 13)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE AttributeType SET SequenceNumber = Id * 10
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE AttributeType MODIFY AttributeStorageTypeId Bigint NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AttributeType ALTER COLUMN AttributeStorageTypeId INTEGER NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AttributeType MODIFY AttributeStorageTypeId NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE AttributeType MODIFY SequenceNumber INTEGER NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AttributeType ALTER COLUMN SequenceNumber INTEGER NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AttributeType MODIFY SequenceNumber NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AttributeType add Index IX_AttributeType_StorageT_FK (AttributeStorageTypeId)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_AttributeType_StorageT_FK] ON [AttributeType] ([AttributeStorageTypeId])
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_AttributeType_StorageT_FK ON AttributeType (AttributeStorageTypeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AttributeType add Constraint AttributeType_StorageT_FK Foreign Key (AttributeStorageTypeId) references AttributeStorageType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AttributeType] add Constraint [AttributeType_StorageT_FK] foreign key([AttributeStorageTypeId]) references [AttributeStorageType] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AttributeType add Constraint AttributeType_StorageT_FK foreign key (AttributeStorageTypeId) references AttributeStorageType (Id)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE AttributeType SET Name = 'Text field (long)' WHERE Id = 1
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE AttributeType SET Name = 'Text area (long)' WHERE Id = 2
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeType (Id, Name, AttributeStorageTypeId, SequenceNumber) VALUES (14, 'Text field', 1, 7)
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO AttributeType (Id, Name, AttributeStorageTypeId, SequenceNumber) VALUES (15, 'Text area', 1, 17)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>

		<!-- This only creates the PK column of AssetAttributeValues - the rest are added during the AttributeMigrationManager data migration -->
		<sqlStatement type="mysql">
			Create table AssetAttributeValues (
				AssetId Bigint NOT NULL,
			 Primary Key (AssetId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [AssetAttributeValues]
			(
				[AssetId] Integer NOT NULL,
			Constraint [pk_AssetAttributeValues] Primary Key ([AssetId])
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table AssetAttributeValues (
				AssetId Integer NOT NULL ,
			 Constraint pk_AssetAttributeValues primary key (AssetId) 
			)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetAttributeValues add Index IX_AAV_Asset_FK (AssetId)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_AAV_Asset_FK] ON [AssetAttributeValues] ([AssetId])
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetAttributeValues add Constraint AAV_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AssetAttributeValues] add Constraint [AAV_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table AssetAttributeValues add Constraint AAV_Asset_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD ValueColumnName VARCHAR(255) NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD ValueColumnName NVARCHAR(255) NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD ValueColumnName NVARCHAR2(255) NULL
		</sqlStatement>


		<sqlStatement type="mysql">
			<![CDATA[ Create table ListAttributeValue (
	Id Bigint NOT NULL AUTO_INCREMENT,
	AttributeId Bigint NOT NULL,
	IsEditable Tinyint NOT NULL DEFAULT 1,
	Value Varchar(255) NOT NULL,
	AdditionalValue Mediumtext,
	SequenceNumber Int,
	ActionOnAssetId Bigint,
	MapToFieldValue Varchar(255),
 Primary Key (Id)) TYPE = InnoDB
CHARSET = utf8 ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create table [ListAttributeValue]
(
	[Id] Integer NOT NULL Identity(100,1),
	[AttributeId] Integer NOT NULL,
	[IsEditable] Tinyint Default 1 NOT NULL,
	[Value] Nvarchar(255) NOT NULL,
	[AdditionalValue] Ntext NULL,
	[SequenceNumber] Integer NULL,
	[ActionOnAssetId] Integer NULL,
	[MapToFieldValue] Nvarchar(255) NULL,
Constraint [pk_ListAttributeValue] Primary Key ([Id])
) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create table ListAttributeValue (
	Id Integer NOT NULL ,
	AttributeId Integer NOT NULL ,
	IsEditable Char (1) Default 1 NOT NULL ,
	Value NVarchar2(255) NOT NULL ,
	AdditionalValue NClob,
	SequenceNumber Integer,
	ActionOnAssetId Integer,
	MapToFieldValue NVarchar2(255),
 Constraint pk_ListAttributeValue primary key (Id) 
)  ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			CREATE SEQUENCE ListAttributeValueSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Create table AssetListAttributeValue (
	AssetId Bigint NOT NULL,
	ListAttributeValueId Bigint NOT NULL,
 Primary Key (AssetId,ListAttributeValueId)) TYPE = InnoDB
CHARSET = utf8 ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create table [AssetListAttributeValue]
(
	[AssetId] Integer NOT NULL,
	[ListAttributeValueId] Integer NOT NULL,
Constraint [pk_AssetListAttributeValue] Primary Key ([AssetId],[ListAttributeValueId])
) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create table AssetListAttributeValue (
	AssetId Integer NOT NULL ,
	ListAttributeValueId Integer NOT NULL ,
 Constraint pk_AssetListAttributeValue primary key (AssetId,ListAttributeValueId) 
) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Create table TranslatedListAttributeValue (
	ListAttributeValueId Bigint NOT NULL,
	LanguageId Bigint NOT NULL,
	Value Varchar(255),
	AdditionalValue Mediumtext,
 Primary Key (ListAttributeValueId,LanguageId)) TYPE = InnoDB
CHARSET = utf8 ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create table [TranslatedListAttributeValue]
(
	[ListAttributeValueId] Integer NOT NULL,
	[LanguageId] Integer NOT NULL,
	[Value] Nvarchar(255) NULL,
	[AdditionalValue] Ntext NULL,
Constraint [pk_TranslatedListAttributeValue] Primary Key ([ListAttributeValueId],[LanguageId])
) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create table TranslatedListAttributeValue (
	ListAttributeValueId Integer NOT NULL ,
	LanguageId Integer NOT NULL ,
	Value NVarchar2(255),
	AdditionalValue NClob,
 Constraint pk_TranslatedListAttributeValu primary key (ListAttributeValueId,LanguageId) 
) ]]>
		</sqlStatement>

		<!-- This only creates the PK columns of TranslatedAssetAttributeValues - the rest are added during the AttributeMigrationManager data migration -->
		<sqlStatement type="mysql">
			<![CDATA[ Create table TranslatedAssetAttributeValues (
	AssetId Bigint NOT NULL,
	LanguageId Bigint NOT NULL,
 Primary Key (AssetId,LanguageId)) TYPE = InnoDB
CHARSET = utf8 ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create table [TranslatedAssetAttributeValues]
(
	[AssetId] Integer NOT NULL,
	[LanguageId] Integer NOT NULL,
Constraint [pk_TranslatedAssetAttributeValues] Primary Key ([AssetId],[LanguageId])
) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create table TranslatedAssetAttributeValues (
	AssetId Integer NOT NULL ,
	LanguageId Integer NOT NULL ,
 Constraint pk_TranslatedAssetAttributeVal primary key (AssetId,LanguageId) 
) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table AssetListAttributeValue add Index IX_ALAV_Asset_FK (AssetId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_ALAV_Asset_FK] ON [AssetListAttributeValue] ([AssetId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_ALAV_Asset_FK ON AssetListAttributeValue (AssetId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table AssetListAttributeValue add Constraint ALAV_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [AssetListAttributeValue] add Constraint [ALAV_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table AssetListAttributeValue add Constraint ALAV_Asset_FK Foreign Key (AssetId) references Asset (Id) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table AssetListAttributeValue add Index IX_ALAV_LAV_FK (ListAttributeValueId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_ALAV_LAV_FK] ON [AssetListAttributeValue] ([ListAttributeValueId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_ALAV_LAV_FK ON AssetListAttributeValue (ListAttributeValueId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table AssetListAttributeValue add Constraint ALAV_LAV_FK Foreign Key (ListAttributeValueId) references ListAttributeValue (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [AssetListAttributeValue] add Constraint [ALAV_LAV_FK] foreign key([ListAttributeValueId]) references [ListAttributeValue] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table AssetListAttributeValue add Constraint ALAV_LAV_FK Foreign Key (ListAttributeValueId) references ListAttributeValue (Id) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">
			<![CDATA[ Alter table ListAttributeValue add Index IX_LAV_Attribute_FK (AttributeId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_LAV_Attribute_FK] ON [ListAttributeValue] ([AttributeId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_LAV_Attribute_FK ON ListAttributeValue (AttributeId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table ListAttributeValue add Constraint LAV_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [ListAttributeValue] add Constraint [LAV_Attribute_FK] foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table ListAttributeValue add Constraint LAV_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table ListAttributeValue add Index IX_LAV_AOA_FK (ActionOnAssetId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_LAV_AOA_FK] ON [ListAttributeValue] ([ActionOnAssetId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_LAV_AOA_FK ON ListAttributeValue (ActionOnAssetId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table ListAttributeValue add Constraint LAV_AOA_FK Foreign Key (ActionOnAssetId) references ActionOnAsset (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [ListAttributeValue] add Constraint [LAV_AOA_FK] foreign key([ActionOnAssetId]) references [ActionOnAsset] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table ListAttributeValue add Constraint LAV_AOA_FK Foreign Key (ActionOnAssetId) references ActionOnAsset (Id) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedListAttributeValue add Index IX_TLAV_Language_FK (LanguageId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_TLAV_Language_FK] ON [TranslatedListAttributeValue] ([LanguageId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_TLAV_Language_FK ON TranslatedListAttributeValue (LanguageId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedListAttributeValue add Constraint TLAV_Language_FK Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [TranslatedListAttributeValue] add Constraint [TLAV_Language_FK] foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table TranslatedListAttributeValue add Constraint TLAV_Language_FK Foreign Key (LanguageId) references Language (Id) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedListAttributeValue add Index IX_TLAV_LAV_FK (ListAttributeValueId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_TLAV_LAV_FK] ON [TranslatedListAttributeValue] ([ListAttributeValueId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_TLAV_LAV_FK ON TranslatedListAttributeValue (ListAttributeValueId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedListAttributeValue add Constraint TLAV_LAV_FK Foreign Key (ListAttributeValueId) references ListAttributeValue (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [TranslatedListAttributeValue] add Constraint [TLAV_LAV_FK] foreign key([ListAttributeValueId]) references [ListAttributeValue] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table TranslatedListAttributeValue add Constraint TLAV_LAV_FK Foreign Key (ListAttributeValueId) references ListAttributeValue (Id) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedAssetAttributeValues add Index IX_TAAV_Asset_FK (AssetId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_TAAV_Asset_FK] ON [TranslatedAssetAttributeValues] ([AssetId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_TAAV_Asset_FK ON TranslatedAssetAttributeValues (AssetId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedAssetAttributeValues add Constraint TAAV_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [TranslatedAssetAttributeValues] add Constraint [TAAV_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table TranslatedAssetAttributeValues add Constraint TAAV_Asset_FK Foreign Key (AssetId) references Asset (Id) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedAssetAttributeValues add Index IX_TAAV_Language_FK (LanguageId) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_TAAV_Language_FK] ON [TranslatedAssetAttributeValues] ([LanguageId]) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_TAAV_Language_FK ON TranslatedAssetAttributeValues (LanguageId) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ Alter table TranslatedAssetAttributeValues add Constraint TAAV_Language_FK Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [TranslatedAssetAttributeValues] add Constraint [TAAV_Language_FK] foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ Alter table TranslatedAssetAttributeValues add Constraint TAAV_Language_FK Foreign Key (LanguageId) references Language (Id) ]]>
		</sqlStatement>


		<!-- Begin: filter criteria storage -->
		<sqlStatement type="mysql">
			Create table FilterAssetAttributeValue (
				AttributeId Bigint NOT NULL,
				FilterId Bigint NOT NULL,
				Value Mediumtext,
				DateValue Date,
				DateTimeValue Datetime,
		 	Primary Key (AttributeId,FilterId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table FilterListAttributeValue (
				FilterId Bigint NOT NULL,
				ListAttributeValueId Bigint NOT NULL,
 				Primary Key (FilterId,ListAttributeValueId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterListAttributeValue add Index IX_FLAV_LAV_FK (ListAttributeValueId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterListAttributeValue add Constraint FLAV_LAV_FK Foreign Key (ListAttributeValueId) references ListAttributeValue (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterListAttributeValue add Index IX_Filter_FLAV_FK (FilterId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterListAttributeValue add Constraint Filter_FLAV_FK Foreign Key (FilterId) references Filter (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterAssetAttributeValue add Index IX_Filter_FAAV_FK (FilterId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterAssetAttributeValue add Constraint Filter_FAAV_FK Foreign Key (FilterId) references Filter (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterAssetAttributeValue add Index IX_FAAV_Attribute_FK (AttributeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table FilterAssetAttributeValue add Constraint FAAV_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table FilterAssetAttributeValue (
				AttributeId Integer NOT NULL ,
				FilterId Integer NOT NULL ,
				Value NClob,
				DateValue Date,
				DateTimeValue Date,
			 Constraint pk_FilterAssetAttributeValue primary key (AttributeId,FilterId) 
			) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table FilterListAttributeValue (
				FilterId Integer NOT NULL ,
				ListAttributeValueId Integer NOT NULL ,
			 Constraint pk_FilterListAttributeValue primary key (FilterId,ListAttributeValueId) 
			) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create Index IX_FAAV_Attribute_FK ON FilterAssetAttributeValue (AttributeId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterAssetAttributeValue add Constraint FAAV_Attribute_FK foreign key (AttributeId) references Attribute (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create Index IX_Filter_FAAV_FK ON FilterAssetAttributeValue (FilterId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterAssetAttributeValue add Constraint Filter_FAAV_FK foreign key (FilterId) references Filter (Id)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create Index IX_Filter_FLAV_FK ON FilterListAttributeValue (FilterId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterListAttributeValue add Constraint Filter_FLAV_FK foreign key (FilterId) references Filter (Id) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create Index IX_FLAV_LAV_FK ON FilterListAttributeValue (ListAttributeValueId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table FilterListAttributeValue add Constraint FLAV_LAV_FK foreign key (ListAttributeValueId) references ListAttributeValue (Id)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [FilterAssetAttributeValue]
			(
				[AttributeId] Integer NOT NULL,
				[FilterId] Integer NOT NULL,
				[Value] Ntext NULL,
				[DateValue] Datetime NULL,
				[DateTimeValue] Datetime NULL,
			Constraint [pk_FilterAssetAttributeValue] Primary Key ([AttributeId],[FilterId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [FilterListAttributeValue]
			(
				[FilterId] Integer NOT NULL,
				[ListAttributeValueId] Integer NOT NULL,
			Constraint [pk_FilterListAttributeValue] Primary Key ([FilterId],[ListAttributeValueId])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterAssetAttributeValue] add Constraint [FAAV_Attribute_FK] foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterAssetAttributeValue] add Constraint [Filter_FAAV_FK] foreign key([FilterId]) references [Filter] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterListAttributeValue] add Constraint [Filter_FLAV_FK] foreign key([FilterId]) references [Filter] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [FilterListAttributeValue] add Constraint [FLAV_LAV_FK] foreign key([ListAttributeValueId]) references [ListAttributeValue] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<!-- End: filter criteria storage -->
		
		<sqlStatement type="mysql">
			Create table LastAttributeValue (
				AttributeId Bigint NOT NULL,
				NumberValue Bigint,
			 Primary Key (AttributeId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table LastAttributeValue add Index IX_LastAV_Attribute_FK (AttributeId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table LastAttributeValue add Constraint LastAV_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table LastAttributeValue (
				AttributeId Integer NOT NULL ,
				NumberValue Integer,
			 Constraint pk_LastAttributeValue primary key (AttributeId) 
			) 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table LastAttributeValue add Constraint LastAV_Attribute_FK foreign key (AttributeId) references Attribute (Id)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [LastAttributeValue]
			(
				[AttributeId] Integer NOT NULL,
				[NumberValue] Integer NULL,
			Constraint [pk_LastAttributeValue] Primary Key ([AttributeId])
			)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [LastAttributeValue] add Constraint [LastAV_Attribute_FK] foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action
		</sqlStatement>

		<!-- Fix attribute with IsStatic=1 that didn't have a corresponding column in Asset table in old schema.
			 Most Asset Banks already have AttributeTypeId=2 but some don't (e.g. it was NULL in Amnesty's) -->
		 --&gt;
		<sqlStatement type="all">
			UPDATE Attribute SET IsStatic = 0, StaticFieldName=NULL, AttributeTypeId=2 WHERE Id=301
		</sqlStatement>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='failedValidationAutoIncrement'
		</sqlStatement>

		<!-- Add with value of 255 to cater for MySQL 4 (could otherwise use 2000) -->
		<appSettingChange type="add" setting="max-varchar-attribute-length" value="255" section="">
			<comment>
				The maximum length to use for VARCHAR/NVARCHAR columns in AssetAttributeValues and TranslatedAssetAttributeValues.  If you are using MySQL 4 or earlier then you must set this to 255, because that is the longest VARCHAR supported by MySQL 4.  MySQL 5+, Oracle and SQL Server all support at least 2000 characters.  If you change this setting then you must alter all of the VARCHAR columns in AssetAttributeValues and TranslatedAssetAttributeValues to have the length specified here.
			</comment>
		</appSettingChange>
		
	</version><version number="3.534" private="true">

		<userChangeDescription>
			Minor text change
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>There are <strong>?numForUpdate?</strong> #items# for update in your batch. Please enter the metadata below for the fields that you want to update in bulk.</p>	' WHERE Body LIKE '<p>There are ?numForUpdate? #items# for update in your batch. Please enter the metadata below for the fields that you want to update in bulk.</p>	' AND Identifier='intro-bulk-update-metadata']]>
		</sqlStatement>	
	</version><version number="3.535">
		
		<userChangeDescription>
			Allow attributes to be shown on download pages
		</userChangeDescription>
		
		<sqlStatement type="mysql">		
			ALTER TABLE Attribute ADD COLUMN ShowOnDownload Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE Attribute ADD ShowOnDownload Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE Attribute ADD ShowOnDownload Char(1) Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-download-attributes', 1, 'Copy - Download attributes intro', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-download-attributes-lightbox', 1, 'Copy - Download attributes intro on lightbox', '', 1, 1) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" setting="show-attribute-label-on-download" value="false" section="Download options">
			<comment>
				If showing a single attribute on the download page, should the label be shown?
			</comment>
		</appSettingChange>
		
	</version><version number="3.536">
	
		<userChangeDescription>
			Allow org units to see descriptive category subtree
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE OrgUnit ADD COLUMN RootDescriptiveCategoryId Bigint NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table OrgUnit add Index IX_ORGUNIT_DESC_CAT_FK (RootDescriptiveCategoryId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table OrgUnit add Constraint ORGUNIT_DESC_CAT_FK Foreign Key (RootDescriptiveCategoryId) references CM_Category (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE OrgUnit ADD RootDescriptiveCategoryId Integer NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Alter table [OrgUnit] add Constraint [ORGUNIT_DESC_CAT_FK] foreign key([RootDescriptiveCategoryId]) references [CM_Category] ([Id])  on update no action on delete no action
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE OrgUnit ADD RootDescriptiveCategoryId Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create Index IX_ORGUNIT_DESC_CAT_FK ON OrgUnit (RootDescriptiveCategoryId)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table OrgUnit add Constraint ORGUNIT_DESC_CAT_FK foreign key (RootDescriptiveCategoryId) references CM_Category (Id) 
		</sqlStatement>
		
	</version><version number="3.537" private="true">
		
		<userChangeDescription>
			Show name of current file next to file upload control on edit asset pages
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'current-file', 13, 'Snippet - Current File', 'Current file', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.538" private="true">
	
		<userChangeDescription>
			Restrict promoted images on the homepage by user permissions
		</userChangeDescription>
		
		<appSettingChange type="add" setting="max-promoted-image-results" value="200" section="General config">
			<comment>
				The maximum number of promoted images in the result set from which a random x are chosen to be shown on the homepage.
			</comment>
		</appSettingChange>
		
	</version><version number="3.539" private="true">
	
		<userChangeDescription>
			Improved batch update search results locked warning
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'assetsLockedWarning', 15, 'assetsLockedWarning', 'Note that ?numLockedMatches? matching #items# are currently locked by other users and so have not been added to your batch.', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.540">
		
		<userChangeDescription>
			Various enhancements
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			 <![CDATA[ UPDATE ListItem SET Body = 'View as contact sheet' WHERE Identifier='snippet-compare']]>
		</sqlStatement>
		
	</version><version number="3.541">
		
		<userChangeDescription>
			New functionality to allow for embedded slideshows
		</userChangeDescription>

		<!-- create the new tables -->
		<sqlStatement type="mysql">
			Create table RepurposedVersion (
				Id Bigint NOT NULL AUTO_INCREMENT,
				CreatedByUserId Bigint,
				Url Varchar(255) NOT NULL,
				Height Varchar(5),
				Width Varchar(5),
				CreatedDate Datetime NOT NULL,
			Primary Key (Id)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table RepurposedSlideshow (
				RepurposedVersionId Bigint NOT NULL,
				DisplayTime Int,
				InfoBar Bool,
			Primary Key (RepurposedVersionId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [RepurposedVersion]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[CreatedByUserId] Integer,
				[Url] Nvarchar(255) NOT NULL,
				[Height] Nvarchar(5),
				[Width] Nvarchar(5),
				[CreatedDate] Datetime NOT NULL,
				Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [RepurposedSlideshow] 
			(
				[RepurposedVersionId] Integer NOT NULL,
				[DisplayTime] Integer,
				[InfoBar] Tinyint,
				Primary Key (RepurposedVersionId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table RepurposedVersion 
			(
				Id Integer NOT NULL,
				CreatedByUserId Integer,
				Url NVarchar2(255) NOT NULL,
				Height NVarchar2(5),
				Width NVarchar2(5),
				CreatedDate Date NOT NULL,
				Primary Key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table RepurposedSlideshow 
			(
				RepurposedVersionId Integer NOT NULL,
				DisplayTime Integer,
				InfoBar Char(1),
				Primary Key (RepurposedVersionId)
			)
		</sqlStatement>

		<!-- migrate the data from the repurposed asset table to the new repurposed version table -->
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT RepurposedVersion ON
		</sqlStatement>		
		
		<sqlStatement type="all">
			INSERT INTO RepurposedVersion (Id, CreatedByUserId, Url, Height, Width, CreatedDate) SELECT Id, CreatedByUserId, Url, Height, Width, CreatedDate FROM RepurposedAsset
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT RepurposedVersion OFF
		</sqlStatement>

		<!-- Rename the RepurposedAsset.id column to repurposed version id -->
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedAsset CHANGE Id RepurposedVersionId BigInt NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'RepurposedAsset.Id', 'RepurposedVersionId'
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE RepurposedAsset RENAME COLUMN Id TO RepurposedVersionId
		</sqlStatement>

		<!-- drop the unwanted created by user id column (cant drop unamed foreign key created by user id key in MySQL or SQL Server - so make it nullable then null it) -->
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedAsset MODIFY CreatedByUserId BigInt NULL
		</sqlStatement>
		<sqlStatement type="mysql">
			UPDATE RepurposedAsset SET CreatedByUserId=NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset ALTER COLUMN CreatedByUserId Integer NULL 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			UPDATE RepurposedAsset SET CreatedByUserId=NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE RepurposedAsset DROP COLUMN CreatedByUserId
		</sqlStatement>

		<!-- drop other unwanted columns -->
		<sqlStatement type="all">
			ALTER TABLE RepurposedAsset DROP COLUMN Url
		</sqlStatement>
		<sqlStatement type="all">
			ALTER TABLE RepurposedAsset DROP COLUMN Height
		</sqlStatement>
		<sqlStatement type="all">
			ALTER TABLE RepurposedAsset DROP COLUMN Width
		</sqlStatement>
		<sqlStatement type="all">
			ALTER TABLE RepurposedAsset DROP COLUMN CreatedDate
		</sqlStatement>
		

		<!-- setup keys and indexes -->
		<sqlStatement type="mysql">
			Alter table RepurposedVersion add Index IX_RepurposedVersion_ABUser_FK (CreatedByUserId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table RepurposedVersion add Constraint RepurposedVersion_ABUser_FK Foreign Key (CreatedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Index IX_RepurposedAsset_RV_FK (RepurposedVersionId)
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedAsset add Constraint RepurposedAsset_RV_FK Foreign Key (RepurposedVersionId) references RepurposedVersion (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Alter table RepurposedSlideshow add Index IX_RepurposedSlideshow_RV_FK (RepurposedVersionId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table RepurposedSlideshow add Constraint RepurposedSlideshow_RV_FK Foreign Key (RepurposedVersionId) references RepurposedVersion (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Alter table [RepurposedVersion] add  foreign key([CreatedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add  foreign key([RepurposedVersionId]) references [RepurposedVersion] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [RepurposedSlideshow] add  foreign key([RepurposedVersionId]) references [RepurposedVersion] ([Id])  on update no action on delete no action 
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Alter table RepurposedVersion add  foreign key (CreatedByUserId) references AssetBankUser (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table RepurposedAsset add  foreign key (RepurposedVersionId) references RepurposedVersion (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table RepurposedSlideshow add  foreign key (RepurposedVersionId) references RepurposedVersion (Id) 
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-slideshow-html', 17, 'Embeddable slideshow HTML snippet', 'This is a snippet of html that may be provided for embedding a slideshow. The snippet should include the variable: ?url?', '<script type="text/javascript" src="?urlStub?/common/swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", frameRate:60, backdropCol:"000", maskRadius:10, transitionStyle:"brightness", transitionTime:1, decayTime:0.6, displayTime:"?displayTime?", displayType:"sequence", infoBar:"?infoBar?", infoTextPosition:"imageBottom", infoTextHtml:"on", controlBar:"on", infoBarOverlay:"off", autoTruncate:"off", fillScreen:"off" }; var params = {wmode:"transparent"}; var attributes = {}; swfobject.embedSWF("?urlStub?/common/gallery.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?urlStub?/common/expressinstall.swf", flashvars, params, attributes); </script>', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurpose-slideshow', 10, 'Heading - Create Embeddable Slideshow', 'Create Embeddable Slideshow', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurpose-slideshow', 16, 'Title - Create Embeddable Slideshow', '#company-name# | #heading-repurpose-slideshow#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-slideshows', 10, 'Heading - Embeddable Slideshows', 'Embeddable Slideshows', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-slideshows', 16, 'Title - Embeddable Slideshows', '#company-name# | #heading-repurposed-slideshows#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-repurposed-slideshow', 10, 'Heading - Embeddable Slideshow', 'Embeddable Slideshow', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-repurposed-slideshow', 16, 'Title - Embeddable Slideshow', '#company-name# | #heading-repurposed-slideshow#', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="add" section="Directory settings" setting="repurposed-slideshow-path" value="images/slideshows">
			<comment>
				If repurposing is enabled, what is the url path for embeddable slideshows? 
				This will be appended to any values provided in repurposed-file-base-path or repurposed-base-url
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="download options" setting="slideshow-repurposing-enabled" value="false">
			<comment>
				Is slideshow repurposing enabled?
			</comment>
		</appSettingChange>


	</version><version number="3.541" private="true">
		
		<userChangeDescription>
			Embedded data fix
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE EmbeddedDataValue SET Expression='By-line', Name='By-line' WHERE Expression='By-Line'
		</sqlStatement>
	
	</version><version number="3.542">
		
		<userChangeDescription>
			Access level image and description can be used as the Asset Bank logo and welcome text
		</userChangeDescription>
		
		<appSettingChange type="add" section="User registration/ login" setting="category-image-used-for-logo" value="false">
			<comment>
				Whether the category or access level image that the user has permission to see should be used for the site logo
			</comment>
		</appSettingChange>
		
	</version><version number="3.543" private="true">

		<userChangeDescription>
			Allow thread dump to be logged when database connection cannot be obtained from the pool
		</userChangeDescription>

		<appSettingChange type="add" section="Database type" setting="thread-dump-on-get-connection-error" value="false">
			<comment>
				The following is for debug purposes: generally it should be set to false. If true, the application will dump the stack traces of all threads when an error is encountered getting a database connection from the pool
			</comment>
		</appSettingChange>

	</version><version number="3.544" private="true">

		<userChangeDescription>
			Added agreement data to asset export/import
		</userChangeDescription>

		<appSettingChange type="add" section="Import/Export Settings" setting="export-file-extension" value="">
			<comment>
				By default, generated asset export files are given xls extensions so that they open with Excel, however sometimes (e.g. when agreement data is present) this fails. An alternative extension (such as txt) can be provided here. 
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="Import/Export Settings" setting="export-agreement-data" value="true">
			<comment>
				Should any agreements be included in the asset export file? Note that this may increase the size of the file significantly as each asset's current and previous agreements (inc. shared ones) is exported 
			</comment>
		</appSettingChange>

	</version><version number="3.545">
		
		<userChangeDescription>
			Enable audit logging of agreements
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT LogType ON
		</sqlStatement>		
		<sqlStatement type="all">
			INSERT INTO LogType (Id, Name) VALUES (6, 'Agreement Change')			
		</sqlStatement>	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT LogType OFF
		</sqlStatement>
		
	</version><version number="3.546" private="true">
	
		<userChangeDescription>
			Add confirmation step when user removes selected items from lightbox.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-remove-selected-lightbox', 14, 'Javascript - Confirm remove selected from lightbox', 'Are you sure you want to remove the selected #items# from your #a-lightbox#?', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.547" private="true">
	
		<userChangeDescription>
			Error text fix
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE ListItem SET Body='There are no preset download options for the selected usage type.' WHERE Identifier='noPermissionUsageType'
		</sqlStatement>

	</version><version number="3.548">

		<userChangeDescription>
			Enhancements to sorting date attributes
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: IF YOU HAVE SETUP ASSET BANK TO SORT ON DATE ATTRIBUTES:
			Verify Admin &gt; Attributes &gt; Attribute sorting to check that date attributes are set to "Alphanumeric or date" and not "Numeric"
		</userPostUpdateMessage>
		
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>
		
	</version><version number="3.549" private="true">
		
		<userChangeDescription>
			Slideshow fix
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View this page of images as a slideshow' WHERE Identifier='link-this-page-as-slideshow' ]]>
		</sqlStatement>
		
	</version><version number="3.550" private="true">
		<userChangeDescription>
			Custom field functionality fix
		</userChangeDescription>
		
		<userPostUpdateMessage>
			The TranslatedCustomField.FieldName column is missing in some Asset Bank databases.  Please connect to your database and add it if necessary using the following SQL.
			MySQL: ALTER TABLE TranslatedCustomField ADD COLUMN FieldName Varchar(100);
			SQL Server: ALTER TABLE TranslatedCustomField ADD FieldName Varchar(100) NULL
			Oracle: ALTER TABLE TranslatedCustomField ADD FieldName Varchar2(100)
		</userPostUpdateMessage>
	</version><version number="3.551" private="true">

		<userChangeDescription>
			Remove unnessecary settings
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="categories-mandatory" />
		<appSettingChange type="delete" setting="categories-mandatory-for-bulk-upload" />
		
	</version><version number="3.552" private="true">

		<userChangeDescription>
			Validate that the default categories for asset entities are in the correct category tree
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetEntityDefaultCategoryDoesNotExist', 15, 'assetEntityDefaultCategoryDoesNotExist', 'The default category that you have entered, [0] does not exist or is not a [1] category.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'assetEntityDefaultCategoryInWrongTree', 15, 'assetEntityDefaultCategoryInWrongTree', 'The default category that you have entered, [0] is not a [1] category. Please enter the ID of a [1] category (not a [2] category).', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.553" private="true">
	
		<userChangeDescription>
			Minor email template update and default setting change
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			<![CDATA[ UPDATE EmailTemplate SET Body = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>-- Requested items --<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' WHERE Body = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>--Requested items--<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE EmailTemplate SET Body = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>-- Requested items --<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' WHERE CAST(Body AS NVARCHAR(2000)) = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>--Requested items--<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE EmailTemplate SET Body = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>-- Requested items --<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' WHERE CAST(Body AS NVARCHAR2(2000)) = '-- Contact details --<br>Name: #name#<br>Division: #division#<br>Email: #email#<br>#customFieldName#: #customField#<br>Address:<br>#address#<br>Additional comments:<br>#message#<br><br>--Requested items--<br>The user has requested the following assets on CD: <br>Assets the user has permission to download: #downloadableIds#' ]]>
		</sqlStatement>
		
		<appSettingChange type="update" setting="show-attribute-label-on-download" value="true" />
		
	</version><version number="3.554" private="true">
		<userChangeDescription>
			Minor text changes.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View current version' WHERE Body LIKE 'current version' AND Identifier='link-current-version']]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View all versions' WHERE Body LIKE 'all versions' AND Identifier='link-all-versions']]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-contact-sheet', 10, 'Heading - Contact Sheet', 'Contact Sheet', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Add all to #a-lightbox#' WHERE Body LIKE 'add all to #a-lightbox#' AND Identifier='link-add-all']]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Add the first ?count? #items# to your #a-lightbox#' WHERE Body LIKE 'add the first ?count? #items# to your #a-lightbox#' AND Identifier='link-add-x']]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Advanced search' WHERE Body LIKE 'Advanced search &raquo;' AND Identifier='link-advanced-search']]>
		</sqlStatement>

	</version><version number="3.555" private="true">
		
		<userChangeDescription>
			Improved import/export functionality
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-remove-id', 9, 'Label - Remove id', 'Remove id from filename:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-value', 13, 'Snippet - No Value', 'no value', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" section="Import/Export Settings" setting="remove-id-from-uploaded-filename" value="false">
			<comment>
				Upon upload, should the id be automatically removed from each filename if it is found where expected according the setting exported-asset-filename-format? Can be true, false or empty. If this setting is left empty, the user will be asked the question upon each bulk upload. 
			</comment>
		</appSettingChange>
		
	</version><version number="3.556" private="true">
		
		<userChangeDescription>
			Updated default export filename format to include original filename
		</userChangeDescription>
		
		<appSettingChange type="update" setting="exported-asset-filename-format" value="if" section="Import/Export Settings" />
	
	</version><version number="3.557">
		
		<userChangeDescription>
			Attribute updates
		</userChangeDescription>

	</version><version number="3.558">

		<userChangeDescription>
			Fix date format settings for import/export - times were being exported using a 12 hour format without an AM/PM marker. They are now exported in 24 hour format by default. If you have edited export-date-format or import-date-format in ApplicationSettings.properties then this update will leave them unchanged - you should consider replacing hh:mm:ss with HH:mm:ss.
		</userChangeDescription>

		<appSettingChange type="update" setting="export-date-format" value="dd/MM/yyyy HH:mm:ss" section="Import/Export Settings" appSettingCondition="export-date-format=dd/MM/yyyy hh:mm:ss" />

		<appSettingChange type="update" setting="import-date-format" value="dd/MM/yyyy HH:mm:ss" section="Import/Export Settings" appSettingCondition="import-date-format=dd/MM/yyyy hh:mm:ss" />

	</version><version number="3.559" private="true">

		<userChangeDescription>
			Fix bad data caused by bug or possibly an incompatibility with Oracle JDBC driver 11.1.0.7.0.
		</userChangeDescription>
		
		<sqlStatement type="oracle">
			<![CDATA[ UPDATE Asset SET LastDownloaded = NULL WHERE LastDownloaded >= TO_DATE('01-JAN-1970', 'DD-MON-YYYY') AND LastDownloaded < TO_DATE('02-JAN-1970', 'DD-MON-YYYY') ]]>
		</sqlStatement>

	</version><version number="3.560" private="true">

		<userChangeDescription>
			Defect fixes.
		</userChangeDescription>

	</version><version number="3.561" private="true">

		<userChangeDescription>
			Incrementing CustomeField sequence to avoid reusing ids from refdata script
		</userChangeDescription>
		
		<sqlStatement type="oracle">
			SELECT CustomFieldSequence.NEXTVAL FROM DUAL
		</sqlStatement>
		<sqlStatement type="oracle">
			SELECT CustomFieldSequence.NEXTVAL FROM DUAL
		</sqlStatement>
		<sqlStatement type="oracle">
			SELECT CustomFieldSequence.NEXTVAL FROM DUAL
		</sqlStatement>
		<sqlStatement type="oracle">
			SELECT CustomFieldSequence.NEXTVAL FROM DUAL
		</sqlStatement>

	</version><version number="3.562" private="true">
		<userChangeDescription>
			Defect fixes.
		</userChangeDescription>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-contact-sheet', 16, 'Title - Contact Sheet', '#company-name# | #heading-contact-sheet#', 1, 2) ]]>
		</sqlStatement>	
	</version><version number="3.563" private="true">

		<userChangeDescription>
			Fix problems with identity on RepurposedAsset table
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">
			SELECT * INTO RepurposedAsset2 FROM RepurposedAsset
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DROP TABLE RepurposedAsset
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'RepurposedAsset2', 'RepurposedAsset'
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset ADD RepurposedVersionId2 int
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE RepurposedAsset SET RepurposedVersionId2 = RepurposedVersionId
		</sqlStatement>		

		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset ALTER COLUMN RepurposedVersionId2 int NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset DROP COLUMN RepurposedVersionId
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'RepurposedAsset.RepurposedVersionId2', 'RepurposedVersionId', 'COLUMN'
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add Constraint [RepurposedAsset_RV_FK] foreign key([RepurposedVersionId]) references [RepurposedVersion] ([Id])  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add Constraint [RepurposedAsset_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add Constraint [RepurposedAsset_User_FK] foreign key([CreatedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add Constraint [RepurposedAsset_FF_FK] foreign key([FileFormatId]) references [FileFormat] ([Id])  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [RepurposedAsset] add Constraint [RepurposedAsset_PK] Primary Key([RepurposedVersionId]) 
		</sqlStatement>
	
	</version><version number="3.564" private="true">

		<userChangeDescription>
			Improve performance of reindex by avoiding getAssetStaticOnly call from within mergeParentAssetData by disabling "Include in search for child" for static attributes.
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE Attribute SET IncludeInSearchForChild = 0 WHERE IsStatic = 1
		</sqlStatement>

	</version><version number="3.565" private="true">

		<userChangeDescription>
			Fix problem with hanging transactions
		</userChangeDescription>

	</version><version number="3.566" private="true">
	
		<userChangeDescription>
			Updated download children jsp to use names from asset type relationshps rather than content item + defect fix for downloading children of non-image asset
		</userChangeDescription>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='button-download-children'
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[  UPDATE ListItem SET Body='Click the ''#button-download-all#'' button to download all ?termForChildren? of this #item# as a zip file.' where Identifier = 'snippet-download-all-children-text' ]]>
		</sqlStatement>
		
	</version><version number="3.567" private="true">

		<userChangeDescription>
			Fix problem with approvals
		</userChangeDescription>

	</version><version number="3.568" private="true">

		<userChangeDescription>
			Fix problem with submit options
		</userChangeDescription>

	</version><version number="3.569" private="true">
	
		<userChangeDescription>
			Fix for alpha channel issues with TIFFs anf PSDs
		</userChangeDescription>
	
		<appSettingChange type="add" section="General config" setting="discard-alpha-channel-on-convert" value="no">
			<comment>
				Should the alpha channel be discarded when converting images? Can be 'yes', 'no' or 'selections' meaning (respectively) always discard, never discard and only discard when the first alpha channel is a selection (and so not a transparency).   
			</comment>
		</appSettingChange>
	
	</version><version number="3.570" private="true">
	
		<userChangeDescription>
			Disabled guest user where password is unchanged
		</userChangeDescription>
	
		<sqlStatement type="all">
			UPDATE AssetBankUser SET password='disabled' WHERE Id=2 AND Username='guest' AND password='password'
		</sqlStatement>
	
	</version><version number="3.571" private="true">

		<userChangeDescription>
			Preparations for embeddable slideshow functionality
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-slideshow-download-html-header', 17, 'Embeddable slideshow download HTML header', 'This is a snippet of html used as a header for an example html file on download of an embeddable slideshow', '<html><head><title>Embedded Slideshow Example</title></head><body>', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'technical-embeddable-slideshow-download-html-footer', 17, 'Embeddable slideshow download HTML footer', 'This is a snippet of html used as a footer for an example html file on download of an embeddable slideshow', '</body></html>', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<script type="text/javascript" src="?commonUrlStub?swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", frameRate:60, backdropCol:"000", maskRadius:10, transitionStyle:"brightness", transitionTime:1, decayTime:0.6, displayTime:"?displayTime?", displayType:"sequence", infoBar:"?infoBar?", infoTextPosition:"imageBottom", infoTextHtml:"on", controlBar:"on", infoBarOverlay:"off", autoTruncate:"off", fillScreen:"off" }; var params = {wmode:"transparent"}; var attributes = {}; swfobject.embedSWF("?commonUrlStub?gallery.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?commonUrlStub?expressinstall.swf", flashvars, params, attributes); </script>' WHERE Identifier='technical-embeddable-slideshow-html' ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationSSSizes', 15, 'failedValidationSSSizes', 'Please check that the slideshow height and width are numeric', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationSizesPositive', 15, 'failedValidationSizesPositive', 'The height and width should be greater than zero', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationSizesPercentages', 15, 'failedValidationSizesPercentages', 'The height or width provided are not valid percentages', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationSizesPositiveNumber', 15, 'failedValidationSizesPositiveNumber', 'You need to provide a valid positive number for the height and width of the images', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD SearchCriteriaFile Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD SearchCriteriaFile NVarchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD SearchCriteriaFile NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE RepurposedSlideshow ADD MaintainAspectRatio Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE RepurposedSlideshow ADD MaintainAspectRatio Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE RepurposedSlideshow ADD MaintainAspectRatio Char(1) Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">		
			ALTER TABLE RepurposedSlideshow ADD IncludeLabels Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">		
			ALTER TABLE RepurposedSlideshow ADD IncludeLabels Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">		
			ALTER TABLE RepurposedSlideshow ADD IncludeLabels Char(1) Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD CaptionIds VARCHAR(255) NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD CaptionIds NVARCHAR(255) NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD CaptionIds NVARCHAR2(255) NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD JpgConversionQuality INT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD JpgConversionQuality INTEGER NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD JpgConversionQuality INTEGER NULL
		</sqlStatement>

		<appSettingChange type="add" section="Download options" setting="repurposed-slideshow-refresh-period" value="0">
			<comment>
				The period (in hours) that any 'refreshing slideshows' should be regenerated (0 for never)
			</comment>
		</appSettingChange>
	
	</version><version number="3.572">

		<userChangeDescription>
			Allow watch directories to be automatically mapped to categories or access levels
		</userChangeDescription>	
		
		<appSettingChange type="add" section="Directory settings" setting="map-watch-subdirectories-to-access-levels" value="false">
			<comment>
				Should watch subdirectories be mapped to access levels? Access levels will be created if necessary.
			</comment>
		</appSettingChange>
	
		<appSettingChange type="add" section="Directory settings" setting="map-watch-subdirectories-to-categories" value="false">
			<comment>
				Should watch subdirectories be mapped to categories? Categories will be created if necessary.
			</comment>
		</appSettingChange>

	</version><version number="3.573">

		<userChangeDescription>
			Retain the user's brand after logout
		</userChangeDescription>
	
	</version><version number="3.574" private="true">

		<userChangeDescription>
			Fixes
		</userChangeDescription>

	</version><version number="3.575" private="true">

		<userChangeDescription>
			Fixed issue whereby empty child assets added to a parent weren't showing on the parent's 'Asset Details' page
		</userChangeDescription>

	</version><version number="3.575.1">

		<userChangeDescription>
			Added m4v to the video formats
		</userChangeDescription>
			
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType,ConverterClass) VALUES (500,'M4V','Video - M4V format','m4v',3,0,1,1,null,'video/x-m4v','com.bright.assetbank.converter.VideoToPngConverter')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>

	</version><version number="3.575.2" private="true">

		<userChangeDescription>
			Attribute data migration fixes, other fixes
		</userChangeDescription>

	</version><version number="3.575.3" private="true">

		<userChangeDescription>
			Fix missing words in a validation message
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET Body='You cannot change the file type of this asset.' WHERE Identifier='failedValidationFileTypeChange'
		</sqlStatement>

	</version><version number="3.575.4" private="true">

		<userChangeDescription>
			Fixed database connection issue for metadata import
		</userChangeDescription>

	</version><version number="3.575.5">

		<userChangeDescription>
			Update to category functionality
		</userChangeDescription>

	</version><version number="3.575.6">

		<userChangeDescription>
			Applied fix: only reserve autoincrement values when attribute is included by asset type
		</userChangeDescription>

	</version><version number="3.576" private="true">

		<userChangeDescription>
			Change to embeddable slideshow functionality
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD LanguageCode Varchar(20)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD LanguageCode NVarchar(20)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD LanguageCode NVarchar2(20)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD ImageHeight INT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD ImageHeight INTEGER NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD ImageHeight INTEGER NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD ImageWidth INT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD ImageWidth INTEGER NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD ImageWidth INTEGER NULL
		</sqlStatement>

	</version><version number="3.577">

		<userChangeDescription>
			New functionality to enable users to toggle between the standard image and a large image on the view asset page
		</userChangeDescription>

		<appSettingChange type="add" section="Asset View settings" setting="large-asset-toggle" value="on">
			<comment>
				Should the large image toggle be available, the default view or off completely (values: off, on, default). Note that the large image toggle will only be availble if cache-large-images is set to true
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-normal-view', 7, 'Tab - Normal view', 'Normal view', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-large-image-view', 7, 'Tab - Large image view', 'Large image view', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-large-image-popup', 12, 'Link - large image popup', 'large image popup', 1, 2)
		</sqlStatement>

	</version><version number="3.578" private="true">

		<userChangeDescription>
			Allow masks to be applied to images when downloading
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE UsageTypeFormat ADD (
			AllowMasking Bool NOT NULL DEFAULT 1,
			PresetMaskId Int NULL,
			PresetMaskColourId Int NULL)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UsageTypeFormat ADD
			[AllowMasking] Tinyint Default 1 NOT NULL,
			[PresetMaskId] Integer NULL,
			[PresetMaskColourId] Integer NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE UsageTypeFormat ADD (
			AllowMasking Char (1) Default 1 NOT NULL ,
			PresetMaskId Integer,
			PresetMaskColourId Integer)
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table Mask (
			Id Int NOT NULL,
			Name Varchar(255) NOT NULL,
			Filename Varchar(255) NOT NULL,
			Width Int NOT NULL,
			Height Int NOT NULL,
			Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [Mask]
			(
			[Id] Integer NOT NULL Identity(100,1),
			[Name] Nvarchar(255) NOT NULL,
			[Filename] Nvarchar(255) NOT NULL,
			[Width] Integer NOT NULL,
			[Height] Integer NOT NULL,
			Constraint [pk_Mask] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table Mask (
			Id Integer NOT NULL ,
			Name NVarchar2(255) NOT NULL ,
			Filename NVarchar2(255) NOT NULL ,
			Width Integer NOT NULL ,
			Height Integer NOT NULL ,
			Constraint pk_Mask primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table NamedColour (
			Id Int NOT NULL,
			Name Varchar(255) NOT NULL,
			Red Tinyint UNSIGNED NOT NULL,
			Green Tinyint UNSIGNED NOT NULL,
			Blue Tinyint UNSIGNED NOT NULL,
			Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [NamedColour]
			(
			[Id] Integer NOT NULL Identity(100,1),
			[Name] Nvarchar(255) NOT NULL,
			[Red] Tinyint NOT NULL,
			[Green] Tinyint NOT NULL,
			[Blue] Tinyint NOT NULL,
			Constraint [pk_NamedColour] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table NamedColour (
			Id Integer NOT NULL ,
			Name NVarchar2(255) NOT NULL ,
			Red Number(3,0) NOT NULL ,
			Green Number(3,0) NOT NULL ,
			Blue Number(3,0) NOT NULL ,
			Constraint pk_NamedColour primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UsageTypeFormat add Index IX_UTF_Mask_FK (PresetMaskId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_UTF_Mask_FK] ON [UsageTypeFormat] ([PresetMaskId])
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_UTF_Mask_FK ON UsageTypeFormat (PresetMaskId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UsageTypeFormat add Constraint UTF_Mask_FK Foreign Key (PresetMaskId) references Mask (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [UsageTypeFormat] add Constraint [UTF_Mask_FK] foreign key([PresetMaskId]) references [Mask] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table UsageTypeFormat add Constraint UTF_Mask_FK foreign key (PresetMaskId) references Mask (Id)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UsageTypeFormat add Index IX_UTF_PMColour_FK (PresetMaskColourId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_UTF_PMColour_FK] ON [UsageTypeFormat] ([PresetMaskColourId])
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_UTF_PMColour_FK ON UsageTypeFormat (PresetMaskColourId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UsageTypeFormat add Constraint UTF_PMColour_FK Foreign Key (PresetMaskColourId) references NamedColour (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [UsageTypeFormat] add Constraint [UTF_PMColour_FK] foreign key([PresetMaskColourId]) references [NamedColour] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table UsageTypeFormat add Constraint UTF_PMColour_FK foreign key (PresetMaskColourId) references NamedColour (Id)
		</sqlStatement>

	</version><version number="3.579">
		
		<userChangeDescription>
			Update to contact sheet functionality
		</userChangeDescription>
		
		<appSettingChange type="delete" setting="image-comparison-max-height" />
		<appSettingChange type="delete" setting="image-comparison-max-width" />

	</version><version number="3.580" private="true">

		<userChangeDescription>
			Changes to make groups &amp; access levels more scalable
		</userChangeDescription>	
		
		<sqlStatement type="mysql">
			ALTER TABLE CM_Category ADD CanAssignIfNotLeaf Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE CM_Category ADD CanAssignIfNotLeaf Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE CM_Category ADD CanAssignIfNotLeaf Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE CM_Category SET CanAssignIfNotLeaf = 1
		</sqlStatement>
		
		<appSettingChange type="add" section="General config" setting="max-groups-per-page" value="40">
			<comment>
				The maximum number of groups to show at a time in the admin groups list
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="General config" setting="group-admin-max-access-levels" value="40">
			<comment>
				The maximum number of access levels shown on the group admin page, above which an expandable list of top-level access levels will be shown
			</comment>
		</appSettingChange>

		<appSettingChange type="delete" section="Import/Export Settings" setting="remove-id-from-uploaded-filename" />

	</version><version number="3.581">

		<userChangeDescription>
			Added lightbox sorting functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Lightbox settings" setting="user-driven-lightbox-sorting" value="true">
			<comment>
				Should users be able to sort their lightboxes by particular attributes
			</comment>
		</appSettingChange>

	</version><version number="3.582">

		<userChangeDescription>
			Added automatic group assignment for brand registrations
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD AutomaticBrandRegister Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE UserGroup ADD AutomaticBrandRegister Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE UserGroup ADD AutomaticBrandRegister Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<appSettingChange type="add" section="general config" setting="automatic-brand-registration" value="false">
			<comment>
				Should users be automatically assigned to groups when registering with brands (needs brands to be enabled)
			</comment>
		</appSettingChange>

	</version><version number="3.583" private="true">
	
		<userChangeDescription>
			Minor improvements to bulk upload process
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationNoFilesToAdd', 15, 'failedValidationNoFilesToAdd', 'There are no files to add - please upload some files to the server.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.584" private="true">
	
		<userChangeDescription>
			Enabled thumbnail generation for PPTs, plus added content items to email asset page and restricted recent assets search results
		</userChangeDescription>
	
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX ASSETS AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-file-too-big', 13, 'Snippet - File too big for email', 'Sorry, the file is too big to be emailed as an attachment.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-email-addresses-comment', 13, 'Snippet - Email asset addresses comment', '(Separate addresses with ''?separator?'')', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-as-attachment', 13, 'Snippet - Add item as attachment', 'add this #item# as an attachment', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-link-to-item', 13, 'Snippet - Include link to item', 'include a link to this #item#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-email-asset-intro', 13, 'Snippet - Email asset(s) page intro', '', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-generate-thumbnail', 9, 'Label - Generate thumbnail', 'Generate thumbnail from original file', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-remove-thumbnail', 9, 'Label - Remove thumbnail', 'Remove thumbnail', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-if-applicable', 13, 'Snippet - If applicable', 'if applicable', 1, 2) ]]>
		</sqlStatement>
		
		<appSettingChange type="add" section="General config" setting="show-thumbnails-in-asset-reports" value="false">
			<comment>
				Should thumnbnails and icons be shown in the asset reports? (Note this does not affect asset popularity reports, which always show the thumbnails)
			</comment>
		</appSettingChange>
	
	</version><version number="3.585">
	
		<userChangeDescription>
			Improvements to lightbox sorting
		</userChangeDescription>

	</version><version number="3.586">
	
		<userChangeDescription>
			Enabled descriptions for embeddable slideshows
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD Description Varchar(255)
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD Description NVarchar(255)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD Description NVarchar2(255)
		</sqlStatement>
	
	</version><version number="3.587" private="true">
	
		<userChangeDescription>
			Putting new content from contact sheet page into database.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-print', 12, 'Link - Print', 'Print', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-configure-contact-sheet', 12, 'Link- Configure contact sheet', 'Configure contact sheet...', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-with-attributes', 13, 'Snippet - with attributes', 'with attributes', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-without-attributes', 13, 'Snippet - without attributes', 'without attributes', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-1-image-per-page', 13, 'Snippet - 1 image per page', '1 image per page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-2-images-per-page', 13, 'Snippet - 2 images per page', '2 images per page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-4-images-per-page', 13, 'Snippet - 4 images per page', '4 images per page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-8-images-per-page', 13, 'Snippet - 8 images per page', '8 images per page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-16-images-per-page', 13, 'Snippet - 16 images per page', '16 images per page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-20-images-per-page', 13, 'Snippet - 20 images per page', '20 images per page', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-choose-page-layout', 10, 'Subheading - Choose page layout', 'Choose page layout:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-apply-changes', 11, 'Button - Apply changes', 'Apply changes', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-only-id-shown', 13, 'Snippet - only id attribute can be shown', '(Please note that only the ID attribute can be shown with your currently selected page layout.)', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-currently-x-image-pp', 13, 'Snippet - currently x image per page', '(currently <strong>?numPerPage?</strong> image per page)', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-currently-x-images-pp', 13, 'Snippet - currently x images per page', '(currently <strong>?numPerPage?</strong> images per page)', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.588" private="true">
	
		<userChangeDescription>
			Lightbox sorting update
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-please-choose', 9, 'Label - Please choose', '[Please choose]', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-date-added-to-lightbox', 9, 'Label - Date added to lightbox', 'Date/time added to lightbox', 1, 2)
		</sqlStatement>

	</version><version number="3.589">
	
		<userChangeDescription>
			Minor update to category functionality
		</userChangeDescription>

	</version><version number="3.590" private="true">

		<userChangeDescription>
			Minor text change
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Configure page layout' WHERE Body LIKE 'Configure contact sheet...' AND Identifier='link-configure-contact-sheet']]>
		</sqlStatement>

	</version><version number="3.591" private="true">
	
		<userChangeDescription>
			Changes to registration to cater for distinction between internal and external users
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			ALTER TABLE CustomField ADD IsSubtype Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE CustomField ADD IsSubtype Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE CustomField ADD IsSubtype Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'login-page-copy-external-users', 1, 'Text to display on the login page when external users have additional fields.', '<p>Please enter your username and password to log in, or register as an <a href="../action/viewRegisterUser">internal</a> or <a href="../action/viewRegisterUser?externalUser=true">external</a> user.</p>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-as-external-user', 13, 'Snippet - (External User)', '(External User)', 1, 2) ]]>
		</sqlStatement>
	
		<appSettingChange type="add" section="User registration/ login" setting="local-registration-email-domain" value="">
			<comment>
				If only those users with a particular email domain (e.g bright-interactive.com) should be considered 'local' users, enter the domain here. If blank, all users are considered local.
				# The distinction between local and external users is relevant if 
				#   a) approval is required for only external users (i.e. users-can-register-without-approval=true and external-users-can-register-without-approval=false), and/or 
				#   b) one or more custom user fields has 'external only' selected, in which case a separate external user registration form is shown.
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="external-users-can-register-without-approval" value="false">
			<comment>
				If external users are distinct from local users (because local-registration-email-domain is set or one or more custom user fields has 'external only' selected) should external users need to be approved before using Asset Bank?
			</comment>
		</appSettingChange>
	
	</version><version number="3.592">
		<!-- Some schema changes for masks were done in version 3.578,
		     however that version had private="true" because the
		     functionality wasn't ready.  This version is the one that makes
		     the functionality available to customers. -->
		<userChangeDescription>
			Allow masks to be applied to images when downloading
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Mask MODIFY Name VARCHAR(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Mask ALTER COLUMN Name Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Mask MODIFY (Name NULL)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Mask MODIFY Filename VARCHAR(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Mask ALTER COLUMN Filename Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Mask MODIFY (Filename NULL)
		</sqlStatement>

		<!-- Make PKs AUTO_INCREMENT in MySQL -->
		<sqlStatement type="mysql">
			ALTER TABLE Mask MODIFY Id INT NOT NULL AUTO_INCREMENT
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE NamedColour MODIFY Id INT NOT NULL AUTO_INCREMENT
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationHexColour', 15, 'failedValidationHexColour', '[0] cannot be parsed as a hex colour, please enter a colour in the format #rrggbb, for example #ffffff for white.', 1, 2)
		</sqlStatement>

	</version><version number="3.593">
	
		<userChangeDescription>
			Allow one panel per category on homepage showing subcategories within each
		</userChangeDescription>
		
		<appSettingChange type="add" section="Browse settings" setting="show-one-panel-per-category-on-homepage" value="false">
			<comment>
				When enabled one panel per category will be displayed on the homepage containing all the subcategories as links.
			</comment>
		</appSettingChange>

	</version><version number="3.594">

		<userChangeDescription>
			Enable full screen for slideshow
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<script type="text/javascript" src="?commonUrlStub?swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", frameRate:60, backdropCol:"000", maskRadius:10, transitionStyle:"brightness", transitionTime:1, decayTime:0.6, displayTime:"?displayTime?", displayType:"sequence", infoBar:"?infoBar?", infoBarPosition:"imageTop", infoTextHtml:"on", controlBar:"on", infoBarOverlay:"off", autoTruncate:"off", autoResize:"on", embiggen:"off" }; var params = {wmode:"transparent",allowFullScreen:"true"}; var attributes = {}; swfobject.embedSWF("?commonUrlStub?gallery.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?commonUrlStub?expressinstall.swf", flashvars, params, attributes); </script>' WHERE Identifier='technical-embeddable-slideshow-html' ]]>
		</sqlStatement>

	</version><version number="3.595" private="true">

		<userChangeDescription>
			Update to slideshow comments
		</userChangeDescription>

		<appSettingChange type="update" setting="enable-slideshow">
			<comment>
				Should the slideshow functionality be enabled (for assetbox, search and browse). Ideally for performance reasons you should also set the cache-unwatermarked-large-image and cache-large-image settings to true if you turn this setting on
			</comment>
		</appSettingChange>

		<appSettingChange type="update" setting="repurposed-slideshow-refresh-period">
			<comment>
				The period (in hours) that any 'refreshing slideshows' should be refreshed (0 for never). If you enable slideshow refreshing then you need to populate the application-url setting at the top of this file
			</comment>
		</appSettingChange>

	</version><version number="3.596">

		<userChangeDescription>
			Improvements to proxy server support
		</userChangeDescription>
		
		<appSettingChange type="add" section="Server settings" setting="proxy-exclusions" value="">
			<comment>
				Input any hosts (i.e. localhost, host.mydomain.com etc.) that should be excluded from the proxy (i.e. called via a direct http connection rather than via the proxy). Only applicable if proxy details are provided. Separate multiple hosts with a | character (i.e. localhost|host.mydomain.com)
			</comment>
		</appSettingChange>

	</version><version number="3.597" private="true">

		<userChangeDescription>
			Update to mark FileFormat rows with a type id of 1 and an extension of 'jpg' as convertable (for Photint)
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET IsConvertable=1 WHERE FileExtension='jpg' AND AssetTypeId=1
		</sqlStatement>
		
	</version><version number="3.598">

		<userChangeDescription>
			Fix sensitivity notes data not being shown when asset types are enabled
		</userChangeDescription>
		
		<sqlStatement type="all">
			INSERT INTO AssetEntityAttribute (AssetEntityId, AttributeId) SELECT Id, 301 FROM AssetEntity ae WHERE NOT EXISTS (SELECT 1 FROM AssetEntityAttribute aea WHERE ae.Id = aea.AssetEntityId AND aea.AttributeId = 301)
		</sqlStatement>
		
	</version><version number="3.599">

		<userChangeDescription>
			Add support for F4V video files
		</userChangeDescription>

		<!-- Don't insert row if it already exists because this row has been manually added to some Asset Banks -->
		<sqlStatement type="mysql">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType, ConverterClass) SELECT 311,'F4V','Video - F4V Format','f4v',3,0,1,1,null,'video/mp4','com.bright.assetbank.converter.VideoToPngConverter' FROM DUAL WHERE NOT EXISTS (SELECT 1 FROM FileFormat WHERE FileExtension = 'f4v')
		</sqlStatement>

		<sqlStatement type="oracle">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType, ConverterClass) SELECT 311,'F4V','Video - F4V Format','f4v',3,0,1,1,null,'video/mp4','com.bright.assetbank.converter.VideoToPngConverter' FROM DUAL WHERE NOT EXISTS (SELECT 1 FROM FileFormat WHERE FileExtension = 'f4v')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>

		<sqlStatement type="sqlserver">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType, ConverterClass) SELECT 311,'F4V','Video - F4V Format','f4v',3,0,1,1,null,'video/mp4','com.bright.assetbank.converter.VideoToPngConverter' WHERE NOT EXISTS (SELECT 1 FROM FileFormat WHERE FileExtension = 'f4v')
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>

	</version><version number="3.600" private="true">

		<userChangeDescription>
			Fixed flv ViewFileInclude issue for any recent new installs
		</userChangeDescription>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET ViewFileInclude=PreviewInclude WHERE FileExtension='flv' AND PreviewInclude='../inc/preview_flv.jsp'
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE FileFormat SET PreviewInclude=NULL WHERE FileExtension='flv' AND PreviewInclude='../inc/preview_flv.jsp'
		</sqlStatement>
		
	</version><version number="3.601" private="true">

		<userChangeDescription>
			Added default group settings for local/external users
		</userChangeDescription>
		
		<appSettingChange type="add" section="User registration/ login" setting="default-local-user-group-id" value="">
			<comment>
				The id of a group that local (i.e. non-external, according to the above definition) users should be placed in (in addition to 'logged in users')
			</comment>
		</appSettingChange>
		
		<appSettingChange type="add" section="User registration/ login" setting="default-external-user-group-id" value="">
			<comment>
				The id of a group that external users should be placed in (in addition to 'logged in users')
			</comment>
		</appSettingChange>
		
	</version><version number="3.602" private="true">

		<userChangeDescription>
			Code has been updated to take notice of IsSearchField and IsSearchBuilderField for the Category and Access Level attributes.  IsSearchBuilderField was previously 0 in the refdata, it needs to be updated to 1 to preserve previous behaviour.  IsSearchField was already 1 in the refdata, but we update it here in case users have changed it using the admin page (which will previously have had no effect).
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE Attribute SET IsSearchField = 1, IsSearchBuilderField = 1 WHERE IsStatic = 1 AND StaticFieldName IN ('categories', 'accessLevels')
		</sqlStatement>

	</version><version number="3.603" private="true">
	
		<userChangeDescription> 
			Updated copy for search builder operations
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'contains word' WHERE Identifier='snippet-op-contains' AND Body LIKE 'contains' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'doesn''t contain word' WHERE Identifier='snippet-op-not-contains' AND Body LIKE 'doesn''t contain' ]]>
		</sqlStatement>
		
	</version><version number="3.604">
	
		<userChangeDescription>
			Allow a download link to be displayed on asset panels when browsing and searching
		</userChangeDescription>
		
		<appSettingChange type="add" section="Browse settings" setting="show-download-link-on-asset-panels" value="false">
			<comment>
				When enabled a download link is shown on asset panels when browsing and searching.
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'NoPermissionToDownload', 15, 'NoPermissionToDownload', 'You do not have permission to download this asset.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.605" private="true">

		<userChangeDescription>
			Added warn-on-concurrent-transactions setting
		</userChangeDescription>

		<appSettingChange type="add" section="Database type" setting="warn-on-concurrent-transactions" value="false">
			<comment>
				Log a warning if more than one concurrent transaction is in progress on the same thread.  For developer use only - this situation is not necessarily a problem!  If you set this to true it is recommended to also set log-stack-trace-with-transaction=true so that the stack trace of the first transaction is also logged.
			</comment>
		</appSettingChange>
		
	</version><version number="3.606" private="true">

		<userChangeDescription>
			Fixed language problem
		</userChangeDescription>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/viewLanguage">
		</appSettingChange>
		
	</version><version number="3.607" private="true">

		<userChangeDescription>
			Oracle fix
		</userChangeDescription>

	</version><version number="3.607.1">

		<userChangeDescription>
			Fix problems (e.g. incorrect file extensions) when downloading lightboxes containing a mixture of filetypes.
		</userChangeDescription>

	</version><version number="3.608" private="true">
	
		<userChangeDescription>
			Added numeric attribute types
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD MaxDecimalPlaces Int NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD MaxDecimalPlaces Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD MaxDecimalPlaces Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD MinDecimalPlaces Int NULL
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD MinDecimalPlaces Integer NULL
		</sqlStatement>
		
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD MinDecimalPlaces Integer
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO AttributeType (Id,Name,AttributeStorageTypeId,SequenceNumber) VALUES (16,'Numeric',1,140) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationNumberFormatField', 15, 'failedValidationNumberFormatField', 'Field ''%'' can only accept numeric values.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationFractionDigits', 15, 'failedValidationFractionDigits', 'Field ''%'' can accept numbers with up to % decimal places.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationNotWholeNumber', 15, 'failedValidationNotWholeNumber', 'Field ''%'' can only accept whole numbers.', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.609" private="true">
	
		<userChangeDescription>
			Upgraded lucene to version 3.0.1 and added OpenGIS CSW web service api
		</userChangeDescription>
		
		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILES HAVE BEEN DELETED, BEFORE RESTARTING THE WEBAPP: 
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/lucene-core-2.2.0.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/saaj.jar ]]>
		</userPostUpdateMessage>
		
		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU WILL NEED TO REINDEX ALL ASSETS AFTER LOGGING IN.
			To do this, go to Admin > Attributes and click 'reindex existing assets'. ]]>
		</userPostUpdateMessage>
		
		<appSettingChange type="add" section="Server settings" setting="requires-endorsed-libs" value="false">
			<comment>
				Does the configuration require the endored libs directory (WEB-INF/manager-config/endored-lib) to be added to the JVM endorsed libs path?
# This should be false unless one or more of the libs in this directory is required to override those included in the jdk (e.g. JAXB 1.2 for the OpenGIS api)
			</comment>
		</appSettingChange>
		
		<appFileChange type="delete" file="/WEB-INF/lib/lucene-core-2.2.0.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/saaj.jar" />
	
	</version><version number="3.610">

		<userChangeDescription>
			Added direct link to cached asset functionality
		</userChangeDescription>
		
		<appSettingChange type="add" section="General config" setting="direct-image-link-permission-group" value="">
			<comment>
				The id of the group that defines permissions for requests to the direct image view action. Leave blank for no permissions
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="direct-image-link-cache-dir" value="direct">
			<comment>
				Path to the location of the direct image link cache directory (this path is inside the file-cache-directory setting)
			</comment>
		</appSettingChange>

	</version><version number="3.611">

		<userChangeDescription>
			Added HTML thumbnail generation for Windows servers
		</userChangeDescription>

		<appSettingChange type="add" section="Server settings" setting="htmltools-path" value="htmltools.exe">
			<comment>
				Path for the tool that generates thumbnails from HTML files. Default assumes that the htmltools.exe file location (in the WEB-INF\manager-config\win-tools\htmltools directory) has been added to the system path variable. 
			</comment>
		</appSettingChange>
		
	</version><version number="3.612" private="true">

		<userChangeDescription>
			Update to embedded slideshow
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<script type="text/javascript" src="?commonUrlStub?swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", frameRate:60, backdropCol:"000", maskRadius:10, transitionStyle:"brightness", transitionTime:1, decayTime:0.6, displayTime:"?displayTime?", displayType:"sequence", infoBar:"?infoBar?", infoBarPosition:"imageTop", infoTextHtml:"on", controlBar:"on", infoBarOverlay:"off", autoTruncate:"off", autoResize:"on", embiggen:"off", controlMenuOptions:"autoResize,embiggen" }; var params = {wmode:"transparent",allowFullScreen:"true"}; var attributes = {}; swfobject.embedSWF("?commonUrlStub?gallery.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?commonUrlStub?expressinstall.swf", flashvars, params, attributes); </script>' WHERE Identifier='technical-embeddable-slideshow-html' ]]>
		</sqlStatement>

	</version><version number="3.613">
	
		<userChangeDescription>
			Support uploading assets to a remote Download Service in order to make them available outside a private intranet.
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-email-upload-in-progress', 13, 'Snippet - Email Upload In Progress', 'Upload in progress...', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-email-upload-navigate-away', 13, 'Snippet - Email Upload Navigate Away', 'you can safely navigate away from this page and the upload will continue.', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'title-email-in-progress', 16, 'Title - Email in progress', '#company-name# | #heading-email-in-progress#', 1, 2)
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-email-in-progress', 10, 'Heading - Email In Progress', 'Sending Email', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-upload-log', 10, 'Heading - Upload Log', 'Upload Log:', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'title-email-failed', 16, 'Title - Email Failed', '#company-name# | #heading-email-failed#', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'heading-email-failed', 10, 'Heading - Email Failed', 'Failed to Send Email', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-email-failed', 13, 'Snippet - Email Failed', 'There was a failure trying to send your email...', 1, 2)
		</sqlStatement>

	</version><version number="3.614">

		<userChangeDescription>
			Enhancements to search functionality
			NOTE: USERS WILL NEED TO RECREATE ANY EXISTING SAVED SEARCHES AFTER THIS UPDATE
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM SavedSearch
		</sqlStatement>

		<userPostUpdateMessage>
			NOTE: USERS WILL NEED TO RECREATE ANY EXISTING SAVED SEARCHES AFTER THIS UPDATE
		</userPostUpdateMessage>

	</version><version number="3.615">

		<userChangeDescription>
			Add application settings to configure uploading of assets to a remote Download Service.
		</userChangeDescription>
		
		<appSettingChange type="add" section="Directory settings" setting="remote-storage-url" value="">
			<comment>
				Remote storage to use when sending assets as links in an email.
				Allows clients using asset bank on a private intranet to email assets to third parties.
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Directory settings" setting="remote-storage-user" value="">
			<comment>
				Username to use when authenticating against the remote storage API.
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Directory settings" setting="remote-storage-password" value="">
			<comment>
				Password to use when authenticating against the remote storage API.
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Scheduled tasks" setting="delete-remote-files-older-than-mins" value="20160">
			<comment>
				When clearing out the remote files, keep files 'younger' than 14 days:
			</comment>
		</appSettingChange>

	</version><version number="3.616">

		<userChangeDescription>
			Added DOC/X thumbnail generation for Windows servers
		</userChangeDescription>

		<appSettingChange type="add" section="Server settings" setting="doc-to-image-converter-path" value="DocToImageConverter.exe">
			<comment>
				Path for the tool that generates thumbnails from HTML files. Default assumes that the DocToImageConverter.exe file location (in the WEB-INF\manager-config\win-tools\doctoimageconverter directory) has been added to the system path variable. 
			</comment>
		</appSettingChange>
		
	</version><version number="3.617" private="true">
		
		<userChangeDescription>
			Put content from masks UI into database
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-step-1', 13, 'Snippet - Step 1', 'Step 1:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-step-2', 13, 'Snippet - Step 2', 'Step 2:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-step-3', 13, 'Snippet - Step 3', 'Step 3:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-choose-mask', 10, 'Heading - Choose a mask ', 'Choose a mask ', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-position-mask', 10, 'Heading - Position your mask ', 'Position and resize your mask', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-choose-bg-color', 10, 'Heading - Choose background colour', 'Choose mask background colour (optional) ', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-if-no-bg', 13, 'Snippet - If no bg colour selected', 'If no background colour is specified then the final image will adopt the original background colour of the mask (as seen above).', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-mask-selected', 13, 'Snippet - No mask selected', 'No mask selected.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-specify-colour', 12, 'Link - Specify custom colour', 'Specify custom colour', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-colour-picker', 12, 'Link - Colour picker', 'Colour picker...', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-show-all', 12, 'Link - Show all', 'Show all', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-mask-configuration', 10, 'Heading - Mask configuration', 'Mask configuration', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.618" private="true">

		<userChangeDescription>
			Fixed direct link cache problem
		</userChangeDescription>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/directLinkImage">
		</appSettingChange>
		
	</version><version number="3.619" private="true">
	
		<userChangeDescription>
			Adding indexing of ppt files
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ UPDATE FileFormat SET ToTextConverterClass='com.bright.assetbank.converter.PptToTextConverter' WHERE FileExtension='ppt' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE FileFormat SET IsIndexable=1 WHERE FileExtension='ppt' ]]>
		</sqlStatement>
	
	</version><version number="3.620" private="true">		
	
		<userChangeDescription>
			Fixed defect in updater which resulted in installation of older code.
		</userChangeDescription>
	
	</version><version number="3.621" private="true">		
	
		<userChangeDescription>
			Changed metadata in HTML page.
		</userChangeDescription>
	
	</version><version number="3.622" private="true">		
	
		<userChangeDescription>
			Improvements to batch update
		</userChangeDescription>
	
	</version><version number="3.623" private="true">		
	
		<userChangeDescription>
			Improvements to categories
		</userChangeDescription>
	
	</version><version number="3.624" private="true">		
	
		<userChangeDescription>
			Contact sheet enhancements
		</userChangeDescription>
	
	</version><version number="3.624.1">
	
		<userChangeDescription>
			Fix file handle leak related to Lucene index
		</userChangeDescription>
	
	</version><version number="3.625">
	
		<userChangeDescription>
			Improvements to use of memory by fully-populated asset objects added to and loaded into lightbox
		</userChangeDescription>
	
	</version><version number="3.626" private="true">
	
		<userChangeDescription>
			Fixes
		</userChangeDescription>
	
	</version><version number="3.627" private="true">
		
		<userChangeDescription>
			Minor content changes
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Are you sure you want to add all the #items# in this category (limited to the first ?count?) to your #a-lightbox#?' WHERE Body LIKE 'Are you sure you want to add the first ?count? #items# in this category to your #a-lightbox#?' AND Identifier='js-add-x-cat-items-lightbox']]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Are you sure you want to add all the #items# in your search results (limited to the first ?count?) to your #a-lightbox#?' WHERE Body LIKE 'Are you sure you want to add the first ?count? #items# in your search results to your #a-lightbox#?' AND Identifier='js-add-x-search-lightbox']]>
		</sqlStatement>
		
	</version><version number="3.628" private="true">

		<userChangeDescription>
			Fixes for non-restrictive access levels
		</userChangeDescription>

	</version><version number="3.629" private="true">

		<userChangeDescription>
			Minor content change
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-remove-lowercase', 12, 'Link - remove (lowercase)', 'remove', 1, 2) ]]>
		</sqlStatement>


	</version><version number="3.630">

		<userChangeDescription>
			Add user details cookie functionality
		</userChangeDescription>

		<appSettingChange type="add" section="User registration/ login" setting="user-details-cookie" value="false">
			<comment>
				Do we want to record user details (username, id, email address and names) in an AES encrypted cookie...
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="User registration/ login" setting="user-details-cookie-key" value="">
			<comment>
				The AES key to use to encrypt the user details in the cookie
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="User registration/ login" setting="user-details-cookie-IV" value="">
			<comment>
				The AES IV to use to encrypt the user details in the cookie. Required because we are using AES-CBC encryption
			</comment>
		</appSettingChange>

	</version><version number="3.631" private="true">

		<userChangeDescription>
			Improvements to embeddable slideshows
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="default-repurposed-slideshow-height" value="640">
			<comment>
				The repurposed slideshow default height in pixels
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="default-repurposed-slideshow-width" value="640">
			<comment>
				The repurposed slideshow default width in pixels
			</comment>
		</appSettingChange>

	</version><version number="3.632">
		<userChangeDescription>
			File Extension Attribute: Added EmbeddedDataMapping to enable filename extension to be extracted and used to populate an attribute. This allows advanced searching within certain types only, or addition of filters based on types (e.g using filters to show all JPG files only, etc.).
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (607, 7, 'Filename Extension', 'Filename Extension')]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>

	</version><version number="3.633" private="true">

		<userChangeDescription>
			Added reference to licenses directory
		</userChangeDescription>

		<appSettingChange type="add" section="directory settings" setting="third-party-license-directory" value="licences">
			<comment>
				The directory inside the webapp that contains third party licenses
			</comment>
		</appSettingChange>

	</version><version number="3.634">

		<userChangeDescription>
			Video: Enable M2V support (for MPEG-2 video).
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType,ConverterClass) VALUES (600,'M2V','Video - M2V format','m2v',3,0,1,1,null,'video/mpeg','com.bright.assetbank.converter.VideoToPngConverter')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>

	</version><version number="3.635">

		<userChangeDescription>
			Improved video player: Updates to video/audio repurposing functionality to include new JWPlayer with full screen playback.
			NOTE: These enhancements will replace the video and audio embedding HTML - if you have customised either of these through the Admin &gt; Content &gt; Technical Content section then you need to make a note of your changes and reproduce them after the upgrade.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="?width?" height="?height?"><param name="movie" value="?flvPlayerUrl?/player.swf" /><param name="flashvars" value="file=?url?&image=?previewFileLocation?&backcolor=000000&frontcolor=EEEEEE&lightcolor=FFFFFF&screencolor=000000&autostart=false&stretching=uniform&provider=video&duration=?duration?"><param name="allowfullscreen" value="true" /><param name="scale" value="default" /><param name="bgcolor" value="111111" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="?flvPlayerUrl?/player.swf?file=?url?&image=?previewFileLocation?&backcolor=000000&frontcolor=EEEEEE&lightcolor=FFFFFF&screencolor=000000&autostart=false&stretching=uniform&provider=video&duration=?duration?" width="?width?" height="?height?"><param name="allowfullscreen" value="true" /><param name="scale" value="default" /><param name="bgcolor" value="111111" /><!--<![endif]--><p>Your browser does not have the necessary plugin to display this content.</p><!--[if !IE]>--></object><!--<![endif]--></object>' WHERE Identifier='technical-embeddable-video-html' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="300" height="24"><param name="movie" value="?flvPlayerUrl?/player.swf" /><param name="flashvars" value="file=?url?&backcolor=000000&frontcolor=EEEEEE&lightcolor=FFFFFF&screencolor=000000&autostart=false&stretching=none&provider=video&duration=?duration?"><param name="scale" value="default" /><param name="bgcolor" value="111111" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="?flvPlayerUrl?/player.swf?file=?url?&backcolor=000000&frontcolor=EEEEEE&lightcolor=FFFFFF&screencolor=000000&autostart=false&stretching=none&provider=video&duration=?duration?" width="300" height="24"><!--<![endif]--><p>Your browser does not have the necessary plugin to display this content.</p><!--[if !IE]>--></object><!--<![endif]--></object>' WHERE Identifier='technical-embeddable-audio-html' ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE VideoAsset ADD PAR Float(9,3)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE VideoAsset ADD [PAR] Float NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE VideoAsset ADD PAR Float
		</sqlStatement>

		<appSettingChange type="update" setting="flash-player-base-url" value="tools/jwplayer" section="Directory settings" appSettingCondition="flash-player-base-url=tools/flow-player" />

	</version><version number="3.636">

		<userChangeDescription>
			Video: Improvements to anamorphic video handling for previews
			NOTE: If you have existing anamorphic videos in your system that you would like to correct you will need to regenerate them to see the anamorphic changes.
		</userChangeDescription>

	</version><version number="3.575.7" private="true">

		<userChangeDescription>
			Merged from trunk: Added logging to help work out what's happening when files temp aren't deleted when they should be
		</userChangeDescription>

	</version><version number="3.637">

		<userChangeDescription>
			Terms and Conditions: If you choose to email a link to assets for download by an external party, you can now get them to agree to your terms and conditions before the download progresses. (Setting is: mustReadTsCsBeforeDownloadEmailedAsset=true)
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-download-now', 12, 'Link - Download now', 'Download now &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-emailed-asset-available', 13, 'Snippet - Emailed asset available', 'The file that was sent to you in an email is available for download.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-emailed-asset-expired', 13, 'Snippet - Emailed asset expired', 'The file that was sent to you in an email has now expired.<br />If you need to download the file, please contact the person who sent it to you.', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="add" section="Download options" setting="mustReadTsCsBeforeDownloadEmailedAsset" value="false">
			<comment>
				Whether or not to show Ts&amp;Cs link and force users to indicate that they have read them before downloading an emailed asset
			</comment>
		</appSettingChange>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/viewFileConditionsPopup">
		</appSettingChange>
	</version><version number="3.638" private="true">

		<userChangeDescription>
			Added assertion facility.
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="throw-exception-on-failed-assertion" value="false">
			<comment>
				Should an exception be thrown when an assertion fails (if not a message will be logged).  Should always be false on customer Asset Banks and almost always be true on development Asset Banks
			</comment>
		</appSettingChange>

	</version><version number="3.639" private="true">

		<userChangeDescription>
			Reduced the amount of memory needed by categories to prevent out of memory errors when reindexing assets with links to categories that have many descendants.
		</userChangeDescription>

	</version><version number="3.640" private="true">

		<userChangeDescription>
			Added missing Oracle sequences for masks
		</userChangeDescription>

		<sqlStatement type="oracle">
			CREATE SEQUENCE MaskSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE NamedColourSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

	</version><version number="3.641">

		<userChangeDescription>
			Enhanced Browsing: Added new homepage browse tabs functionality. Alternative browsing options are now available directly on the homepage (e.g. Browse by popularity or keywords). This helps users find what they need more quickly. (Setting is: homepage-browse-tabs=true)
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="homepage-browse-tabs" value="false">
			<comment>
				Whether to show browse by popularity and browse by keywords as tabs on the homepage (to enable keyword browsing you also need to set the keyword-browse-page-id setting)
			</comment>
		</appSettingChange>

	</version><version number="3.642">

		<userChangeDescription>
			Allow multiple usage types to be selected on download
		</userChangeDescription>

		<appSettingChange type="add" section="Download options" setting="can-select-multiple-usage-types" value="false">
			<comment>
				Allow users to select multiple usage types when downloading assets
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE AssetUse ADD COLUMN Id BIGINT NOT NULL AUTO_INCREMENT, ADD PRIMARY KEY (Id)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetUse ADD [Id] Integer NOT NULL Identity(100,1)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [AssetUse] add Constraint [AssetUse_PK] Primary Key([Id])
		</sqlStatement>

		<!-- Add regular Id column for Oracle then populate it with the sequence-->
		<sqlStatement type="oracle">
			ALTER TABLE AssetUse ADD Id Integer NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			CREATE SEQUENCE AssetUseSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		<sqlStatement type="oracle">
			UPDATE AssetUse SET Id=AssetUseSequence.NEXTVAL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AssetUse MODIFY Id Integer Primary Key NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table SecondaryDownloadUsageType (
			AssetUseId BIGINT NOT NULL,
			UsageTypeId BIGINT,
			OriginalDescription Varchar(255) NOT NULL
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [SecondaryDownloadUsageType]
			(
			[AssetUseId] Integer NOT NULL,
			[UsageTypeId] Integer,
			[OriginalDescription] Nvarchar(255) NOT NULL
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table SecondaryDownloadUsageType (
			AssetUseId Integer NOT NULL,
			UsageTypeId Integer,
			OriginalDescription NVarchar2(255) NOT NULL
			)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table SecondaryDownloadUsageType add Index IX_SDUT_AssetUseId_FK (AssetUseId)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_SDUT_AssetUseId_FK] ON [SecondaryDownloadUsageType] ([AssetUseId])
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_SDUT_AssetUseId_FK ON SecondaryDownloadUsageType (AssetUseId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table SecondaryDownloadUsageType add Index IX_SDUT_UsageTypeId_FK (UsageTypeId)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_SDUT_UsageTypeId_FK] ON [SecondaryDownloadUsageType] ([UsageTypeId])
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_SDUT_UsageTypeId_FK ON SecondaryDownloadUsageType (UsageTypeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table SecondaryDownloadUsageType add Constraint SDUT_AssetUseId_FK Foreign Key (AssetUseId) references AssetUse (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [SecondaryDownloadUsageType] add Constraint [SDUT_AssetUseId_FK] foreign key([AssetUseId]) references [AssetUse] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table SecondaryDownloadUsageType add Constraint SDUT_AssetUseId_FK foreign key (AssetUseId) references AssetUse (Id)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table SecondaryDownloadUsageType add Constraint SDUT_UsageTypeId_FK Foreign Key (UsageTypeId) references UsageType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [SecondaryDownloadUsageType] add Constraint [SDUT_UsageTypeId_FK] foreign key([UsageTypeId]) references [UsageType] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table SecondaryDownloadUsageType add Constraint SDUT_UsageTypeId_FK foreign key (UsageTypeId) references UsageType (Id)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-secondary-usage-types', 16, 'Title - Secondary usage types', 'Secondary usage types', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.643" private="true">

		<userChangeDescription>
			Changes to multiple usage type functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-secondary-usage-note', 13, 'Snippet - Secondary usage note', '<p><strong>Please note:</strong> the sizes available for your chosen intended usage may not be appropriate for other uses.</p>', 1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-secondary-usage-intro', 13, 'Snippet - Secondary usage intro', 'Please specify any further intended uses for this asset:', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.644">

		<userChangeDescription>
			Improvements to browser titles
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '#company-name# | #heading-browse# ?categoryName?' WHERE Identifier='title-browse' AND Body LIKE '#company-name# | #heading-browse#' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '#company-name# | #heading-audio-details# - ?assetName?' WHERE Identifier='title-audio-details' AND Body LIKE '#company-name# | #heading-audio-details#' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '#company-name# | #heading-asset-details#  - ?assetName?' WHERE Identifier='title-asset-details' AND Body LIKE '#company-name# | #heading-asset-details#' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '#company-name# | #heading-image-details# - ?assetName?' WHERE Identifier='title-image-details' AND Body LIKE '#company-name# | #heading-image-details#' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '#company-name# | #heading-video-details# - ?assetName?' WHERE Identifier='title-video-details' AND Body LIKE '#company-name# | #heading-video-details#' ]]>
		</sqlStatement>

	</version><version number="3.645">

		<userChangeDescription>
			Attribute Rules: When an attribute rule is triggered (e.g. automatically setting an asset to 'Expired' on a specific date), you can now optionally email all users who had previously downloaded this asset. Useful for rights managed images that should not be used outside of a specific licence period for example.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE SendEmailDateRule ADD COLUMN EmailAssetDownloaders Bool DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE SendEmailDateRule ADD EmailAssetDownloaders Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE SendEmailDateRule ADD EmailAssetDownloaders Char(1) Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.646" private="true">

		<userChangeDescription>
			Minor content change
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='title-secondary-usage-types'
		</sqlStatement>

	</version><version number="3.647">

		<userChangeDescription>
			Default User Expiry Date: Added a new 'user-default-expiry-days' setting that allows you to stipulate a number of days offset from today with which to fill the user expiry date field. So if most user registrations should only last for one year, you can set 365 days as the offset and the field will be pre-populated with the date one year from now. You can overwrite this default on a user by user basis.
		</userChangeDescription>

		<appSettingChange type="add" section="User registration/ login" setting="user-default-expiry-days" value="">
			<comment>
				Default number of days (offset from today) to fill in the expiry date field with
			</comment>
		</appSettingChange>

	</version><version number="3.575.8">

		<userChangeDescription>
			Fix original filename display in Print Image
		</userChangeDescription>

	</version><version number="3.648" private="true">

		<userChangeDescription>
			Trunk release
		</userChangeDescription>

	</version><version number="3.649">

		<userChangeDescription>
			Bulk Update: Added 'prepend' functionality allowing you to add data to the start of a particular attribute field.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-prepend', 13, 'Snippet - prepend (dropdown)', 'Prepend', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.650" private="true">

		<userChangeDescription>
			Minor content change
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-browse-by-popularity', 16, 'Title - Browse by popularity', '#company-name# | #tab-browse-popularity#', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.651" private="true">

		<userChangeDescription>
			Fix for non restrictive top level access levels
		</userChangeDescription>

		<sqlStatement type="mysql">
			UPDATE CM_Category SET IsRestrictive=1 WHERE CategoryTypeId=2 AND ISNULL(ParentId)
		</sqlStatement>

		<sqlStatement type="oracle">
			UPDATE CM_Category SET IsRestrictive=1 WHERE CategoryTypeId=2 AND ParentId IS NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE CM_Category SET IsRestrictive=1 WHERE CategoryTypeId=2 AND ParentId IS NULL
		</sqlStatement>

	</version><version number="3.652" private="true">

		<userChangeDescription>
			Add support for seperately configurable copy for terms and conditions on downloads of emailed assets.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'conditions-shared-file', 13, 'Terms and Conditions (Shared Files)', '<h1>Terms and Conditions</h1> <p>Before you download a file, please ensure you have permission to use it, and that you understand its usage terms.</p> <p><span style="color: #888888;">(This text can be changed by an admin user by going to Admin-&gt;Content in the menu.)</span></p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'tsandcs-shared-file-checkbox', 1, 'Ts and Cs checkbox text for shared file downloads', 'I have read and accept the <a href="../action/viewSharedFileConditionsPopup" target="_blank" onClick="popupConditions(''../action/viewSharedFileConditionsPopup'', 1); return false;" title="View Terms and Conditions in a new window">Terms and Conditions</a>', 1, 1) ]]>
		</sqlStatement>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/viewSharedFileConditionsPopup">
		</appSettingChange>
	</version><version number="3.653" private="true">

		<userChangeDescription>
			Multiple usage type enhancements
		</userChangeDescription>

	</version><version number="3.654" private="true">

		<userChangeDescription>
			Minor fixes
		</userChangeDescription>

	</version><version number="3.655" private="true">

		<userChangeDescription>
			Metadata Import now respects keyword-auto-add=false
		</userChangeDescription>

	</version><version number="3.656" private="true">

		<userChangeDescription>
			Improvements to category display on homepage
		</userChangeDescription>

	</version><version number="3.657" private="true">
		<userChangeDescription>
			Fix how System Properties are set by Asset Bank
		</userChangeDescription>
	</version><version number="3.639.1" private="true">
		<userChangeDescription>
			Make a GET request to download service immediately prior to file PUT, to deal with pre-emptive proxy authentication.
		</userChangeDescription>
	</version><version number="3.658" private="true">

		<userChangeDescription>
			Improvements to API performance
		</userChangeDescription>

		<appSettingChange type="add" section="API" setting="api-page-size" value="">
			<comment>
				The API by default forces people to request assets in a paged fashion (100 per page), this setting can be changed so that large groups of assets can be requested at once. Should only be used if requesting large sets of assets is definitely not going to impact Asset Bank performance. Leaving this setting blank removes paging and returns all results.
			</comment>
		</appSettingChange>

	</version><version number="3.659" private="true">

		<userChangeDescription>
			Further reduced the amount of memory needed by categories to prevent out of memory errors in various circumstances including when reindexing assets with links to categories that have many descendants.
		</userChangeDescription>

	</version><version number="3.660" private="true">

		<userChangeDescription>
			Fix where the shared file T's &amp; C's ListItem is displayed in the admin interface.
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET ListId=1 WHERE Identifier='conditions-shared-file'
		</sqlStatement>

	</version><version number="3.661">

		<userChangeDescription>
			Administrators: New 'login as this user' functionality for administrators, enabling them to quickly adopt another users permissions and see what they see. Makes troubleshooting quicker and easier.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-return-to-original-user', 12, 'Link - Return to Original User', 'Return to Original User', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedLoginAsUser', 15, 'failedLoginAsUser', 'Unable to login as the given user', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.662">

		<userChangeDescription>
			Video preview generation now happens asyncronously.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE VideoAsset ADD COLUMN PreviewClipBeingGenerated Bool DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE VideoAsset ADD PreviewClipBeingGenerated Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE VideoAsset ADD PreviewClipBeingGenerated Char(1) Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-preview-being-generated', 13, 'Snippet - Preview being generated', 'The preview for this video is currently being generated.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.663">
		<userChangeDescription>
			View asset usage page now displays usage records for non-logged-in users as well as logged-in users.
		</userChangeDescription>
	</version><version number="3.664" private="true">

		<userChangeDescription>
			Improvements to login as this user
		</userChangeDescription>

		<appSettingChange type="add" section="User registration/ login" setting="enable-login-as-user" value="true">
			<comment>
				Enable login as this user functionality for admin users
			</comment>
		</appSettingChange>

	</version><version number="3.665">

		<userChangeDescription>
			Allow text to be displayed on the asset view page when the user has view only permission
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-view-only-permission', 13, 'Snippet - view only permission', '', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.666">

		<userChangeDescription>
			When browsing a category (or access level) with no subcategories the text "This category has no subcategories" has been removed.
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='snippet-cat-no-subcats'
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-review-order', 10, 'Heading - Review Order', 'Review Order', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body='#company-name# | #e-heading-review-order#' WHERE Identifier='e-title-review-commercial-options' ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-heading-order-submitted', 10, 'Heading - Order Submitted', 'Order Submitted', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body='#company-name# | #e-heading-order-submitted#' WHERE Identifier='e-title-commercial-success' ]]>
		</sqlStatement>

	</version><version number="3.667">

		<userChangeDescription>
			Allow email templates to be disabled
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE EmailTemplate ADD IsEnabled Bool DEFAULT 1 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE EmailTemplate ADD IsEnabled Tinyint DEFAULT 1 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE EmailTemplate ADD IsEnabled Char(1) DEFAULT 1 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId, Hidden, IsEnabled) VALUES (1,1,'ecommerce user registered','noreply@noreply.com','#email#;','','','Your Asset Bank registration has been approved','Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br><br>Kind regards,<br>Asset Bank Admin','ecommerce_user_registered',1,0) ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-checkout-button', 11, 'Button - Checkout', 'Checkout &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			UPDATE ListItem set Body = 'Edit price' WHERE Identifier = 'e-link-edit-commercial-option'
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE CommercialOptionPurchase MODIFY CommercialOptionId Bigint NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE CommercialOptionPurchase ALTER COLUMN CommercialOptionId Integer NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE CommercialOptionPurchase MODIFY (CommercialOptionId NULL)
		</sqlStatement>

	</version><version number="3.668" private="true">
		<userChangeDescription>
			Minor change to searchs when clicking on a hyperlinked text attribute.
			Remove the quotes around the attribute - they're not present when you do the same search using the search form and they break the "refine search"
		</userChangeDescription>
	</version><version number="3.669" private="true">

		<userChangeDescription>
			Extra content pages comment change
		</userChangeDescription>

		<appSettingChange type="update" setting="no-of-extra-content-pages">
			<comment>
				Set the no. of extra content managed pages to be added to the left hand menu. Also enter an 'extra-content-page-name[index]' setting for each of the pages added (so if no-of-extra-content-pages is set to 2 add extra-content-page-name1=menuName1 and extra-content-page-name2=menuName2). These settings detail the page title/left hand menu text for each of the extra pages
			</comment>
		</appSettingChange>

	</version><version number="3.670" private="true">

		<userChangeDescription>
			Allow passwords to be encrypted with an action
		</userChangeDescription>

	</version><version number="3.671" private="true">

		<userChangeDescription>
			Ecommerce copy
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-password-hidden', 1, 'Snippet - Password hidden', 'Password hidden for security reasons', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.672" private="true">

		<userChangeDescription>
			Improve description for max search results setting
		</userChangeDescription>

		<appSettingChange type="update" setting="max-search-results-total">
			<comment>
				Maximum number of assets returned by a search. If a particular search result returns more than this limit then only this number will be shown to the user. If you have a large number of assets then having a limit of 1000 will greatly improve performance for searches that result in a large number of hits.
			</comment>
		</appSettingChange>

	</version><version number="3.673" private="true">

		<userChangeDescription>
			Made t&amp;cs link text editable on registration page.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-register-tsandcs', 13, 'Snippet - Register page terms & conditions link', 'I agree to comply with the <a href="../action/viewConditionsPopup?extra=true" class="help-popup" target="_blank" title="View Terms and Conditions in a new window">Terms and Conditions</a> of the use of #company-name#.', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.674">
		<userChangeDescription>
			Add "Group edit" and "Individual edit" options on lists of approvals to allow for multiple entries to filled out in one go.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-group-edit', 9, 'Label - Group edit', 'Group edit', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-individual-edit', 9, 'Label - Individual edit', 'Individual edit', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-group-edit', 13, 'Snippet - Group edit', 'Use the same values for each item in the list.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-individual-edit', 13, 'Snippet - Individual edit', 'Allow different values for each item in the list.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.675" private="true">

		<userChangeDescription>
			Improved copy on registration success page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Thank you for registering.' WHERE Identifier='register-success-intro' AND Body LIKE 'Thank you for registering to use' ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'Please provide additional information about where and how the image will be used. Where applicable please also provide the name of the organisation for whom the purchase is being made.<span class="required">*</span>' WHERE Identifier='commercial-user-notes-intro' AND Body LIKE 'Please provide additional information about where and how the image will be used. Where applicable please also provide the name of the organisation for whom the purchase is being made.' ]]>
		</sqlStatement>

	</version><version number="3.676">

		<userChangeDescription>
			Single Upload: Asset Bank can now be configured to use the Flash uploader as the default single upload method.
		</userChangeDescription>

		<appSettingChange type="add" section="Server settings" setting="single-upload-use-advanced-by-default" value="false">
			<comment>
				Determines if uploads should use the basic or advanced (flash/java) upload form by default
			</comment>
		</appSettingChange>

	</version><version number="3.677">

		<userChangeDescription>
			Fix for deleting languages
		</userChangeDescription>

	</version><version number="3.678" private="true">

		<userChangeDescription>
			Find assets a group can see functionality
		</userChangeDescription>

		<appSettingChange type="add" section="Search Settings" setting="enable-search-by-group" value="false">
			<comment>
				Enable the 'search for assets this group can see' functionality for admin users
			</comment>
		</appSettingChange>

	</version><version number="3.679">

		<userChangeDescription>
			Added ability to hide attributes
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD Hidden Bool DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD Hidden Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD Hidden Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

	</version><version number="3.680" private="true">
		<userChangeDescription>
			Added By attribute to also show for non-admin users
		</userChangeDescription>
	</version><version number="3.681" private="true">
		<userChangeDescription>
			Keyword search links for attributes that use the  optionlist and checklist
		</userChangeDescription>
	</version><version number="3.682" private="true">
		<userChangeDescription>
			Keywords always listed in alphabetical order
		</userChangeDescription>
	</version><version number="3.683" private="true">
		<userChangeDescription>
			keyword-auto-add respected in bulk upload
		</userChangeDescription>
	</version><version number="3.684">
		<userChangeDescription>
			When deleting an access level allow user to move existing assets in the deleted access level into a new access level
		</userChangeDescription>
	</version><version number="3.685">
		<userChangeDescription>
			Bulk upload: users will now be notified of any existing files in their bulk upload directory, enabling them to remove these before starting a new upload.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-upload-existing-files', 13, 'Snippet - Bulk upload existing files', '<h2>Uploaded files already exist</h2> You have already uploaded some files, but not completed the import process.  The existing uploaded files will also be imported, or you can <a href="cancelImport" onclick="return confirm(''This will delete all uploaded files. Do you want to continue?'');">delete all uploaded files</a>.</p>', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.686" private="true">

		<userChangeDescription>
			Change repurposed snippets to use HTML editor rather than plaintext editor
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = 1 WHERE Identifier='snippet-repurposed-audio-clip-intro' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = 1 WHERE Identifier='snippet-repurposed-audio-clips-intro' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = 1 WHERE Identifier='snippet-repurposed-image-intro' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = 1 WHERE Identifier='snippet-repurposed-images-intro' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = 1 WHERE Identifier='snippet-repurposed-video-intro' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = 1 WHERE Identifier='snippet-repurposed-videos-intro' ]]>
		</sqlStatement>
	</version><version number="3.687" private="true">
		<userChangeDescription>
			When admin user with no email exists, do not try to send emails with a blank email in the "To:" list
		</userChangeDescription>
	</version><version number="3.688" private="true">
		<userChangeDescription>
			DefaultBeanReader to support mac line endings
		</userChangeDescription>
	</version><version number="3.689" private="true">
		<userChangeDescription>
			Don't treat exports as downloads for reporting purposes unless the file was exported, not just the metadata
		</userChangeDescription>
	</version><version number="3.690" private="true">
		<userChangeDescription>
			Use ThreadLocal SimpleDateFormat and BrightDateFormat throughout for thread-saftey
		</userChangeDescription>
	</version><version number="3.691" private="true">
		<userChangeDescription>
			Disable group-edit on Approve Uploaded items as it doesn't play nice with individual form submits
		</userChangeDescription>
	</version><version number="3.692" private="true">
		<userChangeDescription>
			Strip blank clauses from search builder prior to form submit to mitgate possible issues with url lengths &gt; 2048 bytes
		</userChangeDescription>
	</version><version number="3.693" private="true">
		<userChangeDescription>
			Turn off invalid "file" comparison in search builder.  Turn off "price" comparison in search builder if ecommerce is not enabled.
		</userChangeDescription>
	</version><version number="3.694" private="true">

		<userChangeDescription>
			Fix copy defect
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p>You need to log in to access that page (your session may have expired). Please login below, or try returning to the <a href="viewHome" title="Home page">home page</a>.</p>' WHERE Identifier='login-as-no-permission' AND Body LIKE '<p>You need to log in to access that page (your session may have expired). Please login below, 17/09/2008or try returning to the <a title="Home page" href="viewHome">home page</a>.</p>' ]]>
		</sqlStatement>

	</version><version number="3.695">

		<userChangeDescription>
			Colour Spaces: You can now configure Asset Bank to covert to custom colour spaces on asset download (previously you were restricted to standard CMYK, RGB and Grey Scale).
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE ColorSpace ADD COLUMN FileLocation Varchar(255)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE ColorSpace ADD FileLocation NVarchar(255)
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE ColorSpace ADD FileLocation NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ColorSpace SET FileLocation='WEB-INF/manager-config/color-profiles/RGB/sRGB.icm' WHERE Id=1 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ColorSpace SET FileLocation='WEB-INF/manager-config/color-profiles/CMYK/USWebCoatedSWOP.icc' WHERE Id=2 ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ColorSpace SET FileLocation='WEB-INF/manager-config/color-profiles/greyscale/ISOcoated_v2_grey1c_bas.icc' WHERE Id=3 ]]>
		</sqlStatement>

		<appSettingChange type="delete" setting="default-cmyk-color-profile" />
		<appSettingChange type="delete" setting="rgb-color-profile" />

		<sqlStatement type="mysql">
			ALTER TABLE ColorSpace CHANGE ShowOnAdvancedDownload ShowOnDownload Tinyint
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'ColorSpace.ShowOnAdvancedDownload', 'ShowOnDownload'
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE ColorSpace RENAME COLUMN ShowOnAdvancedDownload TO ShowOnDownload
		</sqlStatement>

	</version><version number="3.696">
		<userChangeDescription>
			Enterprise Version - Org Units: Enable a 'root category' to be selected for an Org Unit. If such a category root is selected, users in that Org Unit can only add assets to this category (or one of its descendants).
		</userChangeDescription>
	</version><version number="3.697">

		<userChangeDescription>
			Allow the logging toolkit to be changed (e.g. to log4j) by editing commons-logging.properties (editing this file had no effect in previous versions).
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILE HAS BEEN DELETED, BEFORE RESTARTING THE WEBAPP. If it has not been deleted then stop Tomcat, delete it and then start Tomcat again:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/commons-logging.jar ]]>
		</userPostUpdateMessage>

		<!-- Delete old commons-logging.jar - new version provided as commons-logging-1.1.1.jar -->
		<appFileChange type="delete" file="/WEB-INF/lib/commons-logging.jar" />

	</version><version number="3.698" private="true">
		<userChangeDescription>
			Enterprise version - Org Units: This is an enhancement to existing functionality that allowed you to dictate which category members of a particular Organisational Unit could upload to. Previously you could only select top level categories, but now you can select any category in the tree to become the 'root' level.
		</userChangeDescription>
	</version><version number="3.698.1" private="true">
		<userChangeDescription>
			Fixed problem adding masks that was caused by changes in version 3.695
		</userChangeDescription>
	</version><version number="3.698.2">

		<userChangeDescription>
			CMS Integration Enhancement: Improved functionality to allow retrevial of images from Asset Bank for use in a CMS.
		</userChangeDescription>

		<appSettingChange type="add" section="CMS integration settings" setting="cms-attributes" value="">
			<comment>
				A list of attribute IDs and corresponding XML tag names to be passed to the CMS e.g. 2:title,4:description,5:altText
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="CMS integration settings" setting="cms-repository-url" value="">
			<comment>
				The URL corresponding to the location set in cms-repository-path to be passed to the CMS
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-select-for-cms', 11, 'Button - Select for CMS', 'Select for CMS', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="append" section="User registration/ login" setting="login-actions" value=";/action/selectImageForCms">
		</appSettingChange>

	</version><version number="3.698.3" private="true">

		<userChangeDescription>
			Fix for colorspace functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ColorSpace SET FileLocation='WEB-INF/manager-config/color-profiles/Greyscale/ISOcoated_v2_grey1c_bas.icc' WHERE Id=3 ]]>
		</sqlStatement>

	</version><version number="3.698.4">
		<userChangeDescription>
			Asset Ratings and Comments: average rating and link to rate now shown in search/browse results; subject field can be hidden on 'submit rating' page; comments field doesn't have to be mandatory on 'submit rating' page
		</userChangeDescription>
		<appSettingChange type="add" section="General config" setting="ratings-show-subject" value="true">
			<comment>
				If ratings=true or comments=true, should there be 'subject' field, shown before the main comment box?
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="General config" setting="ratings-comments-mandatory" value="true">
			<comment>
				If ratings=true, are comments mandatory?
			</comment>
		</appSettingChange>
	</version><version number="3.698.5" private="true">
		<userChangeDescription>
			Change to show average ratings in lightbox
		</userChangeDescription>
	</version><version number="3.698.6" private="true">
		<userChangeDescription>
			Improvements to CMS functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'cmsSessionError', 15, 'cmsSessionError', 'If you wish to select another image please close this window and return to the content management system.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'CMS mode is currently enabled which allows you to select an image for use in a content management system. If you do not want to select an image you can <a href="clearCmsMode">exit CMS mode &raquo;</a>' WHERE Identifier='snippet-close-browser' ]]>
		</sqlStatement>
	</version><version number="3.698.7">
		<userChangeDescription>
			Enterprise Version - Org Units: show the Org Unit a user selected when registering in the list of users awaiting approval; changed filter on 'manage group' page so it matches Org Unit name as well as group name; changed label for 'Organisational Unit' shown on register page so it uses a CMS item, allowing it to be edited by an admin.	</userChangeDescription>
	</version><version number="3.698.8" private="true" appSettingCondition="first-attribute-position=false">

		<userChangeDescription>
			Fix for positioning of first attribute on asset view page
		</userChangeDescription>

		<appSettingChange type="update" setting="first-attribute-position" value="default" />

	</version><version number="3.698.9" private="true">
		<userChangeDescription>
			Placeholder for change 3.707 also made in branch 3.698.9 - Add text to featured image
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-featured-image-caption', 1, 'Label - Featured Image Caption', '', 1, 1) ]]>
		</sqlStatement>
	</version><version number="3.698.10" private="true">
		<userChangeDescription>
			Placeholder for change 3.702 also made in branch 3.698.10 - Add user expiry date to user approval messages
		</userChangeDescription>

		<sqlStatement type="mysql">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of the Asset Bank. <br>Your login details are the same as you use to log in to your Windows PC.<br>#userExpiryMessage#<br>Kind regards,<br>Asset Bank Admin' WHERE Body = 'Dear #name#<br><br>You have been approved as a user of the Asset Bank. <br>Your login details are the same as you use to log in to your Windows PC.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of the Asset Bank. <br>Your login details are the same as you use to log in to your Windows PC.<br>#userExpiryMessage#<br>Kind regards,<br>Asset Bank Admin' WHERE CAST(Body AS NVARCHAR(2000)) = 'Dear #name#<br><br>You have been approved as a user of the Asset Bank. <br>Your login details are the same as you use to log in to your Windows PC.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of the Asset Bank. <br>Your login details are the same as you use to log in to your Windows PC.<br>#userExpiryMessage#<br>Kind regards,<br>Asset Bank Admin' WHERE CAST(Body AS NVARCHAR2(2000)) = 'Dear #name#<br><br>You have been approved as a user of the Asset Bank. <br>Your login details are the same as you use to log in to your Windows PC.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br>#userExpiryMessage#<br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' WHERE Body = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br><br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br>#userExpiryMessage#<br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' WHERE CAST(Body AS NVARCHAR(2000)) = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br><br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br>#userExpiryMessage#<br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' WHERE CAST(Body AS NVARCHAR2(2000)) = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br><br>You can change your password after logging in: click &#39;Your Profile&#39; in the top right of the screen, then click &#39;change your password&#39;.<br><br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-user-expiry-date', 13, 'Snippet - User expiry date', 'Please note that your login will expire on [0]<br>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.698.11" private="true">
		<userChangeDescription>
			Make news display in user's selected language (viewNewsItem, linked from news items on the front page)
		</userChangeDescription>
	</version><version number="3.698.12" private="true">
		<userChangeDescription>
			Fix to avoid multiple concurrent transactions in the same thread
		</userChangeDescription>
	</version><version number="3.698.13" private="true">
		<userChangeDescription>
			Misc fixes and updates
		</userChangeDescription>
	</version><version number="3.698.14" private="true">
		<userChangeDescription>
			Misc fixes and updates
		</userChangeDescription>
	</version><version number="3.698.15" private="true">
		<userChangeDescription>
			Fix saved searches where attributes are used
		</userChangeDescription>
	</version><version number="3.698.16" private="true">

		<userChangeDescription>
			Add user expiry date to user added by admin messages
		</userChangeDescription>

		<sqlStatement type="mysql">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been added as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br>You can change your password after logging in.<br>#userExpiryMessage#<br>Kind regards,<br>Asset Bank Admin' WHERE Body = 'Dear #name#<br><br>You have been added as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br>You can change your password after logging in.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been added as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br>You can change your password after logging in.<br>#userExpiryMessage#<br>Kind regards,<br>Asset Bank Admin' WHERE CAST(Body AS NVARCHAR(2000)) = 'Dear #name#<br><br>You have been added as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br>You can change your password after logging in.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been added as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br>You can change your password after logging in.<br>#userExpiryMessage#<br>Kind regards,<br>Asset Bank Admin' WHERE CAST(Body AS NVARCHAR2(2000)) = 'Dear #name#<br><br>You have been added as a user of Asset Bank. <br><br>Your login details are:<br>Username: #username#<br>Password: #password#<br>You can change your password after logging in.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>
	</version><version number="3.698.19">
		<userChangeDescription>
			Add support for Publishing Actions, which allows admin userss to publish sets of assets to a local directory.
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table PublishAction (
				Id Bigint NOT NULL AUTO_INCREMENT,
				CategoryId Bigint NOT NULL,
				Name Varchar(255) NOT NULL,
				Path Varchar(255) NOT NULL,
				RunDaily Bool NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
			 CHARSET = utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table PublishAction add Index IX_Category_Publish_FK (CategoryId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table PublishAction add Constraint Category_Publish_FK Foreign Key (CategoryId) references CM_Category (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [PublishAction]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[CategoryId] Integer NOT NULL,
				[Name] Nvarchar(255) NOT NULL,
				[Path] Nvarchar(255) NOT NULL,
				[RunDaily] Tinyint NOT NULL,
			Constraint [pk_PublishAction] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_Category_Publish_FK] ON [PublishAction] ([CategoryId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [PublishAction] add Constraint [Category_Publish_FK] foreign key([CategoryId]) references [CM_Category] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table PublishAction (
				Id Integer NOT NULL ,
				CategoryId Integer NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
				Path NVarchar2(255) NOT NULL ,
				RunDaily Char (1) NOT NULL ,
			 Constraint pk_PublishAction primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_Category_Publish_FK ON PublishAction (CategoryId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table PublishAction add Constraint Category_Publish_FK foreign key (CategoryId) references CM_Category (Id)
		</sqlStatement>

		<appSettingChange type="add" section="Scheduled tasks" setting="run-publishing-actions-hour-of-day" value="2">
			<comment>
				Time of day to run scheduled publishing actions
			</comment>
		</appSettingChange>
	</version><version number="3.698.22" private="true">
		<userChangeDescription>
			Sage SSO changes - allow user to be logged in with a Cookie before defaulting to the old method
		</userChangeDescription>
	</version><version number="3.699">

		<userChangeDescription>
			Changes to asset type relationship functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table AllowableEntityRelationship2 (
				AssetEntityId Bigint NOT NULL,
				RelationshipTypeId Bigint NOT NULL,
				RelatesToAssetEntityId Bigint NOT NULL,
			 Primary Key (AssetEntityId,RelationshipTypeId,RelatesToAssetEntityId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship2 add Index IX_AssetEntity_AER_2_FK (AssetEntityId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship2 add Constraint AssetEntity_AER_2_FK Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship2 add Index IX_AssetEntity_AER_FK (RelatesToAssetEntityId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship2 add Constraint AssetEntity_AER_FK Foreign Key (RelatesToAssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship2 add Index IX_RelationshipType_AER_FK (RelationshipTypeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship2 add Constraint RelationshipType_AER_FK Foreign Key (RelationshipTypeId) references RelationshipType (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [AllowableEntityRelationship2]
			(
				[AssetEntityId] Integer NOT NULL,
				[RelationshipTypeId] Integer NOT NULL,
				[RelatesToAssetEntityId] Integer NOT NULL,
			Primary Key ([AssetEntityId],[RelationshipTypeId],[RelatesToAssetEntityId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship2] add Constraint [AssetEntity_AER_2_FK] foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship2] add Constraint [AssetEntity_AER_FK] foreign key([RelatesToAssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship2] add Constraint [RelationshipType_AER_FK] foreign key([RelationshipTypeId]) references [RelationshipType] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table AllowableEntityRelationship2 (
				AssetEntityId Double precision NOT NULL ,
				RelationshipTypeId Double precision NOT NULL ,
				RelatesToAssetEntityId Double precision NOT NULL ,
			primary key (AssetEntityId,RelationshipTypeId,RelatesToAssetEntityId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship2 add Constraint AssetEntity_AER_2_FK foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship2 add Constraint AssetEntity_AER_FK foreign key (RelatesToAssetEntityId) references AssetEntity (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship2 add Constraint RelationshipType_AER_FK foreign key (RelationshipTypeId) references RelationshipType (Id)
		</sqlStatement>

		<sqlStatement type="mysql">
			INSERT INTO AllowableEntityRelationship2 (AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId) SELECT AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId FROM AllowableEntityRelationship WHERE NOT ISNULL(RelatesToAssetEntityId)
		</sqlStatement>

		<sqlStatement type="oracle">
			INSERT INTO AllowableEntityRelationship2 (AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId) SELECT AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId FROM AllowableEntityRelationship WHERE NOT RelatesToAssetEntityId IS NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			INSERT INTO AllowableEntityRelationship2 (AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId) SELECT AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId FROM AllowableEntityRelationship WHERE NOT RelatesToAssetEntityId IS NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			INSERT INTO AllowableEntityRelationship2 (AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId) SELECT AssetEntityId, RelationshipTypeId, Id FROM AllowableEntityRelationship, AssetEntity WHERE ISNULL(RelatesToAssetEntityId)
		</sqlStatement>

		<sqlStatement type="oracle">
			INSERT INTO AllowableEntityRelationship2 (AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId) SELECT AssetEntityId, RelationshipTypeId, Id FROM AllowableEntityRelationship, AssetEntity WHERE RelatesToAssetEntityId IS NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			INSERT INTO AllowableEntityRelationship2 (AssetEntityId, RelationshipTypeId, RelatesToAssetEntityId) SELECT AssetEntityId, RelationshipTypeId, Id FROM AllowableEntityRelationship, AssetEntity WHERE RelatesToAssetEntityId IS NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table EntityRelationshipDescription (
				AssetEntityId Bigint NOT NULL,
				RelationshipTypeId Bigint NOT NULL,
				FromName Varchar(100),
				FromNamePlural Varchar(100),
				ToName Varchar(100),
				ToNamePlural Varchar(100),
			 Primary Key (AssetEntityId,RelationshipTypeId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table EntityRelationshipDescription add Index IX_AssetEntity_ERD_FK (AssetEntityId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table EntityRelationshipDescription add Constraint AssetEntity_ERD_FK Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table EntityRelationshipDescription add Index IX_RelationshipType_ERD_FK (RelationshipTypeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table EntityRelationshipDescription add Constraint RelationshipType_ERD_FK Foreign Key (RelationshipTypeId) references RelationshipType (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [EntityRelationshipDescription]
			(
				[AssetEntityId] Integer NOT NULL,
				[RelationshipTypeId] Integer NOT NULL,
				[FromName] Varchar(100) NULL,
				[FromNamePlural] Varchar(100) NULL,
				[ToName] Varchar(100) NULL,
				[ToNamePlural] Varchar(100) NULL,
			Primary Key ([AssetEntityId],[RelationshipTypeId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [EntityRelationshipDescription] add Constraint [AssetEntity_ERD_FK] foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [EntityRelationshipDescription] add Constraint [RelationshipType_ERD_FK] foreign key([RelationshipTypeId]) references [RelationshipType] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table EntityRelationshipDescription (
				AssetEntityId Double precision NOT NULL ,
				RelationshipTypeId Double precision NOT NULL ,
				FromName Varchar2 (100),
				FromNamePlural Varchar2 (100),
				ToName Varchar2 (100),
				ToNamePlural Varchar2 (100),
			primary key (AssetEntityId,RelationshipTypeId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table EntityRelationshipDescription add Constraint AssetEntity_ERD_FK foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table EntityRelationshipDescription add Constraint RelationshipType_ERD_FK foreign key (RelationshipTypeId) references RelationshipType (Id)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO EntityRelationshipDescription (RelationshipTypeId, AssetEntityId, FromName, FromNamePlural, ToName, ToNamePlural) SELECT RelationshipTypeId, AssetEntityId, FromName, FromNamePlural, ToName, ToNamePlural FROM AllowableEntityRelationship
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table TranslatedERDescription (
				AssetEntityId Bigint NOT NULL,
				RelationshipTypeId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				FromName Varchar(100),
				FromNamePlural Varchar(100),
				ToName Varchar(100),
				ToNamePlural Varchar(100),
			 Primary Key (AssetEntityId,RelationshipTypeId,LanguageId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table TranslatedERDescription add Index IX_Language_TERD_FK (LanguageId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table TranslatedERDescription add Constraint Language_TERD_FK Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table TranslatedERDescription add Index IX_ERD_TERD_FK (AssetEntityId,RelationshipTypeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table TranslatedERDescription add Constraint ERD_TERD_FK Foreign Key (AssetEntityId,RelationshipTypeId) references EntityRelationshipDescription (AssetEntityId,RelationshipTypeId) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [TranslatedERDescription]
			(
				[AssetEntityId] Integer NOT NULL,
				[RelationshipTypeId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[FromName] Varchar(100) NULL,
				[FromNamePlural] Varchar(100) NULL,
				[ToName] Varchar(100) NULL,
				[ToNamePlural] Varchar(100) NULL,
			Primary Key ([AssetEntityId],[RelationshipTypeId],[LanguageId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [TranslatedERDescription] add Constraint [Language_TERD_FK] foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [TranslatedERDescription] add Constraint [ERD_TERD_FK] foreign key([AssetEntityId],[RelationshipTypeId]) references [EntityRelationshipDescription] ([AssetEntityId],[RelationshipTypeId])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table TranslatedERDescription (
				AssetEntityId Double precision NOT NULL ,
				RelationshipTypeId Double precision NOT NULL ,
				LanguageId Double precision NOT NULL ,
				FromName Varchar2 (100),
				FromNamePlural Varchar2 (100),
				ToName Varchar2 (100),
				ToNamePlural Varchar2 (100),
			primary key (AssetEntityId,RelationshipTypeId,LanguageId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedERDescription add Constraint Language_TERD_FK foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table TranslatedERDescription add Constraint ERD_TERD_FK foreign key (AssetEntityId,RelationshipTypeId) references EntityRelationshipDescription (AssetEntityId,RelationshipTypeId)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO TranslatedERDescription(RelationshipTypeId, LanguageId, AssetEntityId, FromName, FromNamePlural, ToName, ToNamePlural) SELECT DISTINCT RelationshipTypeId, LanguageId, AssetEntityId, FromName, FromNamePlural, ToName, ToNamePlural FROM TranslatedEntityRelationship
		</sqlStatement>

		<sqlStatement type="all">
			DROP TABLE TranslatedEntityRelationship
		</sqlStatement>

		<sqlStatement type="all">
			DROP TABLE AllowableEntityRelationship
		</sqlStatement>

		<sqlStatement type="mysql">
			RENAME TABLE AllowableEntityRelationship2 TO AllowableEntityRelationship
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'AllowableEntityRelationship2', 'AllowableEntityRelationship'
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AllowableEntityRelationship2 RENAME TO AllowableEntityRelationship
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('AssetEntity')
			AND name = 'CanHaveParents'
			EXEC ('ALTER TABLE AssetEntity DROP CONSTRAINT ' + @default)
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE AssetEntity DROP COLUMN CanHaveParents
		</sqlStatement>

	</version><version number="3.700">

		<userChangeDescription>
			Enterprise Version - Asset Types: Added default relationships functionality to Asset Types
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AllowableEntityRelationship ADD COLUMN DefaultRelationshipCategoryId Bigint NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add Index IX_CAT_AER_FK (DefaultRelationshipCategoryId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AllowableEntityRelationship add Constraint CAT_AER_FK Foreign Key (DefaultRelationshipCategoryId) references CM_Category (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AllowableEntityRelationship ADD DefaultRelationshipCategoryId Integer NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [AllowableEntityRelationship] add Constraint [CAT_AER_FK] foreign key([DefaultRelationshipCategoryId]) references [CM_Category] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AllowableEntityRelationship ADD DefaultRelationshipCategoryId Integer NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_CAT_AER_FK ON AllowableEntityRelationship (DefaultRelationshipCategoryId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AllowableEntityRelationship add Constraint CAT_AER_FK foreign key (DefaultRelationshipCategoryId) references CM_Category (Id)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'default-related-assets-main', 1, 'Default related assets lead in text', '<p>Listed below are the default relationships for this asset that need to be created. Uncheck any in the list that you don''t want to be setup and click the save button...</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-child-assets', 9, 'Label - Child assets', 'Child assets', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-peer-assets', 9, 'Label - Peer assets', 'Peer assets', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-default-related-assets', 16, 'Title - Default related-assets', '#company-name# | #heading-default-related-assets#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-default-related-assets', 10, 'Heading - Default related assets', 'Edit default relationships', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationDefRelCatIdNAN', 15, 'failedValidationDefRelCatIdNAN', 'One of the default relationship category ids was not a number', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'failedValidationDefRelCatInvalid', 15, 'failedValidationDefRelCatInvalid', 'One of the default relationship categories was not valid - please check against your categories', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'default-related-assets-empty-peer', 1, 'Default related assets no missing peer assets text', '<p>This asset isn''t currently missing any default peer relationships.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'default-related-assets-empty-child', 1, 'Default related assets no missing child assets text', '<p>This asset isn''t currently missing any default child relationships.</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.701">

		<userChangeDescription>
			Enterprise Version - Browse: Added ability for entities to be shown in descendant categories
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD ShowOnDescendantCategories Bool DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD ShowOnDescendantCategories Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD ShowOnDescendantCategories Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

	</version><version number="3.702">

		<userChangeDescription>
			User Registration: If an admin sets an auto user expiry date at time of registration, this is now relayed to the user in the approved email they recieve.
		</userChangeDescription>

	</version><version number="3.703" private="true">
		<userChangeDescription>
			Minor UI fixes
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-select-item', 9, 'Label - Select item', 'Select #item#', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.704">

		<userChangeDescription>
			Added ability to create empty related documents
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'add-empty-related-assets-main', 1, 'Add empty related assets lead in text', '<p>Listed below are the relationships that assets of this type can have. Select the number of empty related assets that you would like to add to this asset for each listed relationship and click the save button at the bottom to generate. You can optionally provide a name for the empty assets that will be used to populate the name attribute of each asset created (if suitable):</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-add-empty-related-assets', 16, 'Title - Add empty related assets', '#company-name# | #heading-add-empty-related-assets#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-add-empty-related-assets', 10, 'Heading - Add empty related assets', 'Add empty related assets', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'no-empty-related-assets-peer', 1, 'No empty related peer assets to add text', '<p>This asset can not have peer related assets.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'no-empty-related-assets-child', 1, 'No empty related child assets to add text', '<p>This asset can not have child related assets.</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.705" private="true">

		<userChangeDescription>
			Empty related asset CMS content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-description', 9, 'Label - Description', 'Description', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-quantity', 9, 'Label - Quantity', 'Quantity', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-name-sans-colon', 9, 'Label - Name', 'Name', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-empty-related-assets-status', 13, 'Snippet - Empty related assets status', 'The creation of the empty related assets is in progress... <span>Follow the status in the log below:</span>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-empty-related-assets-complete', 13, 'Snippet - Empty related assets complete', '<p>The empty assets have all been created and linked to the source asset. <a href="?link?">Return to the source asset &raquo;</a></p>', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.706" private="true">

		<userChangeDescription>
			Advanced viewing preparation work
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="advanced-viewing-enabled" value="false">
			<comment>
				Whether the advanced viewing functionality is enabled. Advanced viewing enables assets and groups to be defined as advanced viewing. Advanced viewing assets can be seen by advanced viewing groups of users even if the asset is unnapproved (still subject to the access level permissions)
			</comment>
		</appSettingChange>


		<sqlStatement type="mysql">
			ALTER TABLE UserGroup ADD AdvancedViewing Bool DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UserGroup ADD AdvancedViewing Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE UserGroup ADD AdvancedViewing Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD AdvancedViewing Bool DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD AdvancedViewing Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD AdvancedViewing Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

	</version><version number="3.707">
		<userChangeDescription>
			Homepage: Added editable text area below main featured image
		</userChangeDescription>
	</version><version number="3.708" private="true">

		<userChangeDescription>
			InDesign schema changes
		</userChangeDescription>

		<sqlStatement type="mysql">
Create table InDesignAsset (
	AssetId Bigint NOT NULL,
	IsTemplate Bool NOT NULL,
	TemplateAssetId Bigint,
	InDesignDocumentId Bigint,
 Primary Key (AssetId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Create table AttributeInInDesignDocument (
	InDesignDocumentId Bigint NOT NULL,
	AttributeId Bigint NOT NULL,
 Primary Key (InDesignDocumentId,AttributeId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignPDFQuality (
	Id Bigint NOT NULL,
	Name Varchar(255) NOT NULL,
 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignDocument (
	Id Bigint NOT NULL,
	InDesignPDFQualityId Bigint NOT NULL,
	FileLocation Varchar(255) NOT NULL,
 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignAssetEntity (
	AssetEntityId Bigint NOT NULL,
	InDesignAssetEntityTypeId Bigint NOT NULL,
 Primary Key (AssetEntityId)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignAssetEntityType (
	Id Bigint NOT NULL,
	Name Varchar(255) NOT NULL,
 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Constraint InDAsset_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table AttributeInInDesignDocument add Index IX_AIInDD_Attribute_FK (AttributeId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table AttributeInInDesignDocument add Constraint AIInDD_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAssetEntity add Constraint InDAssEnt_AssEnt_FK Foreign Key (AssetEntityId) references AssetEntity (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Index IX_InDAsset_TemplInDAsset_FK (TemplateAssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Constraint InDAsset_TemplInDAsset_FK Foreign Key (TemplateAssetId) references InDesignAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocument add Index IX_InDD_InDPQ_FK (InDesignPDFQualityId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocument add Constraint InDD_InDPQ_FK Foreign Key (InDesignPDFQualityId) references InDesignPDFQuality (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Index IX_InDAsset_InDD_FK (InDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Constraint InDAsset_InDD_FK Foreign Key (InDesignDocumentId) references InDesignDocument (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table AttributeInInDesignDocument add Index IX_AIInDD_InDD_FK (InDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table AttributeInInDesignDocument add Constraint AIInDD_InDD_FK Foreign Key (InDesignDocumentId) references InDesignDocument (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAssetEntity add Index IX_InDAssEnt_InDAssEntType_FK (InDesignAssetEntityTypeId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAssetEntity add Constraint InDAssEnt_InDAssEntType_FK Foreign Key (InDesignAssetEntityTypeId) references InDesignAssetEntityType (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
Create table [InDesignAsset]
(
	[AssetId] Integer NOT NULL,
	[IsTemplate] Tinyint NOT NULL,
	[TemplateAssetId] Integer NULL,
	[InDesignDocumentId] Integer NULL,
Constraint [pk_InDesignAsset] Primary Key ([AssetId])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [AttributeInInDesignDocument]
(
	[InDesignDocumentId] Integer NOT NULL,
	[AttributeId] Integer NOT NULL,
Constraint [pk_AttributeInInDesignDocument] Primary Key ([InDesignDocumentId],[AttributeId])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignPDFQuality]
(
	[Id] Integer NOT NULL Identity(100,1),
	[Name] Nvarchar(255) NOT NULL,
Constraint [pk_InDesignPDFQuality] Primary Key ([Id])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignDocument]
(
	[Id] Integer NOT NULL Identity(100,1),
	[InDesignPDFQualityId] Integer NOT NULL,
	[FileLocation] Nvarchar(255) NOT NULL,
Constraint [pk_InDesignDocument] Primary Key ([Id])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignAssetEntity]
(
	[AssetEntityId] Integer NOT NULL,
	[InDesignAssetEntityTypeId] Integer NOT NULL,
Constraint [pk_InDesignAssetEntity] Primary Key ([AssetEntityId])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignAssetEntityType]
(
	[Id] Integer NOT NULL Identity(100,1),
	[Name] Nvarchar(255) NOT NULL,
Constraint [pk_InDesignAssetEntityType] Primary Key ([Id])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignAsset] add Constraint [InDAsset_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_AIInDD_Attribute_FK] ON [AttributeInInDesignDocument] ([AttributeId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [AttributeInInDesignDocument] add Constraint [AIInDD_Attribute_FK] foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignAssetEntity] add Constraint [InDAssEnt_AssEnt_FK] foreign key([AssetEntityId]) references [AssetEntity] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDAsset_TemplInDAsset_FK] ON [InDesignAsset] ([TemplateAssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignAsset] add Constraint [InDAsset_TemplInDAsset_FK] foreign key([TemplateAssetId]) references [InDesignAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDD_InDPQ_FK] ON [InDesignDocument] ([InDesignPDFQualityId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignDocument] add Constraint [InDD_InDPQ_FK] foreign key([InDesignPDFQualityId]) references [InDesignPDFQuality] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDAsset_InDD_FK] ON [InDesignAsset] ([InDesignDocumentId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignAsset] add Constraint [InDAsset_InDD_FK] foreign key([InDesignDocumentId]) references [InDesignDocument] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_AIInDD_InDD_FK] ON [AttributeInInDesignDocument] ([InDesignDocumentId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [AttributeInInDesignDocument] add Constraint [AIInDD_InDD_FK] foreign key([InDesignDocumentId]) references [InDesignDocument] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDAssEnt_InDAssEntType_FK] ON [InDesignAssetEntity] ([InDesignAssetEntityTypeId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignAssetEntity] add Constraint [InDAssEnt_InDAssEntType_FK] foreign key([InDesignAssetEntityTypeId]) references [InDesignAssetEntityType] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
Create table InDesignAsset (
	AssetId Integer NOT NULL ,
	IsTemplate Char (1) NOT NULL ,
	TemplateAssetId Integer,
	InDesignDocumentId Integer,
 Constraint pk_InDesignAsset primary key (AssetId)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table AttributeInInDesignDocument (
	InDesignDocumentId Integer NOT NULL ,
	AttributeId Integer NOT NULL ,
 Constraint pk_AttributeInInDesignDocument primary key (InDesignDocumentId,AttributeId)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignPDFQuality (
	Id Integer NOT NULL ,
	Name NVarchar2(255) NOT NULL ,
 Constraint pk_InDesignPDFQuality primary key (Id)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignDocument (
	Id Integer NOT NULL ,
	InDesignPDFQualityId Integer NOT NULL ,
	FileLocation NVarchar2(255) NOT NULL ,
 Constraint pk_InDesignDocument primary key (Id)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignAssetEntity (
	AssetEntityId Integer NOT NULL ,
	InDesignAssetEntityTypeId Integer NOT NULL ,
 Constraint pk_InDesignAssetEntity primary key (AssetEntityId)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignAssetEntityType (
	Id Integer NOT NULL ,
	Name NVarchar2(255) NOT NULL ,
 Constraint pk_InDesignAssetEntityType primary key (Id)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignAsset add Constraint InDAsset_Asset_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_AIInDD_Attribute_FK ON AttributeInInDesignDocument (AttributeId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table AttributeInInDesignDocument add Constraint AIInDD_Attribute_FK foreign key (AttributeId) references Attribute (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignAssetEntity add Constraint InDAssEnt_AssEnt_FK foreign key (AssetEntityId) references AssetEntity (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDAsset_TemplInDAsset_FK ON InDesignAsset (TemplateAssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignAsset add Constraint InDAsset_TemplInDAsset_FK foreign key (TemplateAssetId) references InDesignAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDD_InDPQ_FK ON InDesignDocument (InDesignPDFQualityId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignDocument add Constraint InDD_InDPQ_FK foreign key (InDesignPDFQualityId) references InDesignPDFQuality (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDAsset_InDD_FK ON InDesignAsset (InDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignAsset add Constraint InDAsset_InDD_FK foreign key (InDesignDocumentId) references InDesignDocument (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_AIInDD_InDD_FK ON AttributeInInDesignDocument (InDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table AttributeInInDesignDocument add Constraint AIInDD_InDD_FK foreign key (InDesignDocumentId) references InDesignDocument (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDAssEnt_InDAssEntType_FK ON InDesignAssetEntity (InDesignAssetEntityTypeId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignAssetEntity add Constraint InDAssEnt_InDAssEntType_FK foreign key (InDesignAssetEntityTypeId) references InDesignAssetEntityType (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
SET IDENTITY_INSERT InDesignAssetEntityType ON
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignAssetEntityType (Id, Name) VALUES (1, 'InDesign Document')
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignAssetEntityType (Id, Name) VALUES (2, 'Symbol')
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignAssetEntityType (Id, Name) VALUES (3, 'Image')
		</sqlStatement>

		<sqlStatement type="sqlserver">
SET IDENTITY_INSERT InDesignAssetEntityType OFF
		</sqlStatement>

	</version><version number="3.709" private="true">

		<userChangeDescription>
			Added plugins setting
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="plugin-classes" value="">
			<comment>
				Fully-qualified names of plugin classes, separated by commas.  Plugin classes should implement the com.bright.assetbank.plugin.iface.ABPlugin interface.  Note that the plugin system is not a public API, i.e. it is only intended to be used with plugins written by Bright Interactive.
			</comment>
		</appSettingChange>

	</version><version number="3.710" private="true">
		<userChangeDescription>
			Properly list zip files in bulk upload
		</userChangeDescription>
	</version><version number="3.711">

		<userChangeDescription>
			Browsing: Update to asset browse page.
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-associated-assets', 10, 'Subhead - Associated assets', 'Associated assets', 1, 2)
		</sqlStatement>

	</version><version number="3.712" private="true">

		<userChangeDescription>
			Advanced Viewing implementatiom
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-advanced-viewing', 9, 'Label - Advanced Viewing', 'Advanced viewing when unnapproved?', 1, 2)
		</sqlStatement>

	</version><version number="3.713" private="true">
		<userChangeDescription>
			Add skipVideos flag to regenerateImage action
		</userChangeDescription>
	</version><version number="3.714">

		<userChangeDescription>
			Enterprise Version - Org Unit: New org unit content items and details page functionality. Allowing you to add an extra menu item and ralated page of content for each org unit.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE OrgUnit ADD COLUMN ContentItemIdentifier Varchar(200)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE OrgUnit ADD ContentItemIdentifier NVarchar(200)
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE OrgUnit ADD ContentItemIdentifier NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE OrgUnit ADD COLUMN MenuItemIdentifier Varchar(200)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE OrgUnit ADD MenuItemIdentifier NVarchar(200)
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE OrgUnit ADD MenuItemIdentifier NVarchar2(200)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE OrgUnit ADD COLUMN EnableContentPage Bool DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE OrgUnit ADD EnableContentPage Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE OrgUnit ADD EnableContentPage Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

	</version><version number="3.715" private="true">

		<userChangeDescription>
			Content updates
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-asset-relationships', 10, 'Subhead - Asset Relationships', '#item# Relationships', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-default-relationships', 12, 'Link - Default relationships', 'Default relationships', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-add-empty-related-assets', 12, 'Link - Add empty related assets', 'Add empty related #items#', 1, 2)
		</sqlStatement>

	</version><version number="3.716" private="true">

		<userChangeDescription>
			Initial prep work for category extension assets
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE CM_Category ADD ExtensionAssetId Bigint NULL
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CM_Category add Index IX_Asset_Category_FK (ExtensionAssetId)
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table CM_Category add Constraint Asset_Category_FK Foreign Key (ExtensionAssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE CM_Category ADD ExtensionAssetId Integer NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [CM_Category] add Constraint [Asset_Category_FK] foreign key([ExtensionAssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			ALTER TABLE CM_Category ADD ExtensionAssetId Integer NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table CM_Category add Constraint Asset_Category_FK foreign key (ExtensionAssetId) references Asset (Id)
		</sqlStatement>

	</version><version number="3.717" private="true">

		<userChangeDescription>
			Changes to org unit content
		</userChangeDescription>

		<sqlStatement type="all">
			ALTER TABLE OrgUnit DROP COLUMN ContentItemIdentifier
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE OrgUnit DROP COLUMN MenuItemIdentifier
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('OrgUnit')
			AND name = 'EnableContentPage'
			EXEC ('ALTER TABLE OrgUnit DROP CONSTRAINT ' + @default)
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE OrgUnit DROP COLUMN EnableContentPage
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table OrgUnitContent (
				OrgUnitId Bigint NOT NULL,
				ContentPurposeId Bigint NOT NULL,
				ContentListItemIdentifier Varchar(200) NOT NULL,
				MenuListItemIdentifier Varchar(200),
			 Primary Key (OrgUnitId,ContentListItemIdentifier)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table ContentPurpose (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(255),
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table OrgUnitContent add Index IX_OrgUnit_OUC_FK (OrgUnitId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table OrgUnitContent add Constraint OrgUnit_OUC_FK Foreign Key (OrgUnitId) references OrgUnit (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table OrgUnitContent add Index IX_ContentPurpose_OUC_FK (ContentPurposeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table OrgUnitContent add Constraint ContentPurpose_OUC_FK Foreign Key (ContentPurposeId) references ContentPurpose (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table OrgUnitContent (
				OrgUnitId Double precision NOT NULL ,
				ContentPurposeId Double precision NOT NULL ,
				ContentListItemIdentifier Varchar2 (200),
				MenuListItemIdentifier Varchar2 (200),
			primary key (OrgUnitId,ContentListItemIdentifier)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table ContentPurpose (
				Id Double precision NOT NULL ,
				Name Varchar2 (255),
			primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table OrgUnitContent add Constraint OrgUnit_OUC_FK foreign key (OrgUnitId) references OrgUnit (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table OrgUnitContent add Constraint ContentPurpose_OUC_FK foreign key (ContentPurposeId) references ContentPurpose (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE ContentPurposeSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [OrgUnitContent]
			(
				[OrgUnitId] Integer NOT NULL,
				[ContentPurposeId] Integer NOT NULL,
				[ContentListItemIdentifier] Varchar(200) NOT NULL,
				[MenuListItemIdentifier] Varchar(200) NULL,
			Primary Key ([OrgUnitId],[ContentListItemIdentifier])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [ContentPurpose]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Varchar(255) NULL,
			Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [OrgUnitContent] add Constraint [OrgUnit_OUC_FK] foreign key([OrgUnitId]) references [OrgUnit] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [OrgUnitContent] add Constraint [ContentPurpose_OUC_FK] foreign key([ContentPurposeId]) references [ContentPurpose] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT ContentPurpose ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ContentPurpose (Id, Name) VALUES (1, 'Extra Content Page')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT ContentPurpose OFF
		</sqlStatement>

	</version><version number="3.718" private="true">
		<userChangeDescription>
			Minor content item fix
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET ListItemTextTypeID = '2' WHERE Identifier='snippet-related-asset-lead-in' ]]>
		</sqlStatement>
	</version><version number="3.719" private="true">

		<userChangeDescription>
			More preparation work for category extension assets
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="category-extension-assets-enabled" value="false">
			<comment>
				Should category extension assets be enabled. Category extension assets offer admin users the ability to tie an asset to a category so that the assets attributes can be used to display extra information about the category.
			</comment>
		</appSettingChange>


		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD COLUMN IsCategoryExtension Bool DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD IsCategoryExtension Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AssetEntity ADD IsCategoryExtension Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-category-extension-asset', 13, 'Snippet - Category extension asset', 'You are creating an extended category. Add an asset to associate with the category by completing the standard asset upload process below. Once complete you will be redirected back to the list of categories.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.720">

		<userChangeDescription>
			Indicate that this is a Servlet 2.4 webapp (was 2.3) in web.xml and upgrade JSTL (JSP Standard Tag Library) to v1.1.2 (was 1.0).
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILES HAVE BEEN DELETED BEFORE RESTARTING THE WEBAPP. If they have not been deleted then stop Tomcat, delete them and then start Tomcat again:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/struts-el.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/struts-html-el.tld
			[TOMCAT]/webapps/asset-bank/WEB-INF/struts-logic-el.tld ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/struts-el.jar" />
		<appFileChange type="delete" file="/WEB-INF/struts-html-el.tld" />
		<appFileChange type="delete" file="/WEB-INF/struts-logic-el.tld" />

	</version><version number="3.721" private="true">

		<userChangeDescription>
			Made the text for the "Configure mask..." and "Clear mask" links editable
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-configure-mask', 12, 'Link - Configure Mask', 'Configure mask...', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-clear-mask', 12, 'Link - Clear Mask', 'Clear mask', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.722" private="true">

		<userChangeDescription>
			Improvements to colorspace functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE ColorSpace MODIFY FileLocation Varchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE ColorSpace ALTER COLUMN FileLocation NVarchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE ColorSpace MODIFY (FileLocation NVarchar2(255) NOT NULL)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-conversion', 13, 'Snippet - No conversion', 'No Conversion', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.723" private="true">

		<userChangeDescription>
			Further category extension asset prep
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-asset-is-category-extension', 13, 'Snippet - Asset is category extension', '<p>This asset is a <b>category extension asset</b>. Changing it''s name will change the name of it''s parent category (unless the name given conflicts with another category''s name). To delete this asset you need to go to the category admin pages and remove the extended category.</p><p><a href="?link?">Edit the category</a> | <a href="?link2?">Go to category admin</a>', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.724" private="true">

		<userChangeDescription>
			Removed tabs from org unit details page
		</userChangeDescription>

	</version><version number="3.725" private="true">

		<userChangeDescription>
			Removed indexes on InDesign tables that duplicate their primary key indexes
		</userChangeDescription>

		<!-- The DROP INDEX statements were removed from this version because
		     the corresponding CREATE INDEX statements were removed from
		     v3.708 -->

	</version><version number="3.726">

		<userChangeDescription>
			Enterprise Version - Org Units: Added user list to org unit details page to allow you to quickly see a list of members.
		</userChangeDescription>

	</version><version number="3.727" private="true">

		<userChangeDescription>
			Category extension asset error message
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'categoryExtensionNameError', 15, 'categoryExtensionNameError', 'The asset''s name could not be assigned to the category because there is an existing category with the same name.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.728" private="true">

		<userChangeDescription>
			Changes to category explorer - option 1
		</userChangeDescription>

		<appSettingChange type="update" setting="useCategoryExplorer" value="none" section="Browse settings" appSettingCondition="useCategoryExplorer=false">
			Determine whether to use a windows explorer style for either of the browse panels on the homepage (options are none, categories or accesslevels)
		</appSettingChange>

		<appSettingChange type="update" setting="useCategoryExplorer" value="categories" section="Browse settings" appSettingCondition="useCategoryExplorer=true">
			Determine whether to use a windows explorer style for either of the browse panels on the homepage (options are none, categories or accesslevels)
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-category-explorer', 13, 'Snippet - Category explorer', 'Select from the explorer on the left', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.729" private="true">

		<userChangeDescription>
			Testing rollout
		</userChangeDescription>

	</version><version number="3.730" private="true">

		<userChangeDescription>
			Initial work on display attribute grouping
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table DisplayAttribute2 (
				DisplayAttributeGroupId Bigint NOT NULL,
				AttributeId Bigint NOT NULL,
				DisplayLength Int,
				SequenceNumber Int,
				ShowLabel Bool DEFAULT 0,
				IsLink Bool DEFAULT 0,
				ShowOnChild Bool NOT NULL DEFAULT 0,
			 Primary Key (DisplayAttributeGroupId,AttributeId)) TYPE = InnoDB
			CHARSET = utf8
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [DisplayAttribute2]
			(
				[DisplayAttributeGroupId] Integer NOT NULL,
				[DisplayLength] Integer NULL,
				[AttributeId] Integer NOT NULL,
				[SequenceNumber] Integer NULL,
				[ShowLabel] Tinyint Default 0 NULL,
				[IsLink] Tinyint Default 0 NULL,
				[ShowOnChild] Tinyint Default 0 NOT NULL,
			Primary Key ([DisplayAttributeGroupId],[AttributeId])
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table DisplayAttribute2 (
				DisplayAttributeGroupId Integer NOT NULL,
				DisplayLength Integer,
				AttributeId Integer NOT NULL ,
				SequenceNumber Integer,
				ShowLabel Char (1) Default 0,
				IsLink Char (1) Default 0,
				ShowOnChild Char (1) Default 0 NOT NULL ,
			 primary key (DisplayAttributeGroupId,AttributeId)
			)
		</sqlStatement>



		<sqlStatement type="mysql">
			Create table DisplayAttributeGroup (
				Id Bigint NOT NULL AUTO_INCREMENT,
				Name Varchar(255) NOT NULL,
			 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [DisplayAttributeGroup]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NOT NULL, UNIQUE ([Name]),
			Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table DisplayAttributeGroup (
				Id Integer NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
			 primary key (Id)
			)
		</sqlStatement>


		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (1, 'Search')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (2, 'Browse')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (3, 'Lightbox')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (4, 'Category Extensions')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup OFF
		</sqlStatement>


		<sqlStatement type="all">
			INSERT INTO DisplayAttribute2 (DisplayAttributeGroupId, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild) SELECT 1, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild FROM DisplayAttribute
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttribute2 (DisplayAttributeGroupId, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild) SELECT 2, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild FROM DisplayAttribute
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttribute2 (DisplayAttributeGroupId, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild) SELECT 3, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild FROM DisplayAttribute
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table DisplayAttribute2 add Index IX_DA_Attribute_FK (AttributeId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table DisplayAttribute2 add Constraint DA_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table DisplayAttribute2 add Index IX_DA_DAG_FK (DisplayAttributeGroupId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table DisplayAttribute2 add Constraint DA_DAG_FK Foreign Key (DisplayAttributeGroupId) references DisplayAttributeGroup (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Alter table [DisplayAttribute2] add Constraint [DA_Attribute_FK] foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [DisplayAttribute2] add Constraint [DA_DAG_FK] foreign key([DisplayAttributeGroupId]) references [DisplayAttributeGroup] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			Alter table DisplayAttribute2 add Constraint DA_Attribute_FK foreign key (AttributeId) references Attribute (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table DisplayAttribute2 add Constraint DA_DAG_FK foreign key (DisplayAttributeGroupId) references DisplayAttributeGroup (Id)
		</sqlStatement>


		<sqlStatement type="all">
			DROP TABLE DisplayAttribute
		</sqlStatement>

		<sqlStatement type="mysql">
			RENAME TABLE DisplayAttribute2 TO DisplayAttribute
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'DisplayAttribute2', 'DisplayAttribute'
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE DisplayAttribute2 RENAME TO DisplayAttribute
		</sqlStatement>

	</version><version number="3.731">
		<userChangeDescription>
			Audio: Added advanced audio conversion options at point of download, accessible via the advanced download tab.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<em><p>You can use the following form to adjust the audio encoding bitrate of the converted audio clip.</p><p>You can also select to download a particular chunk of the audio clip by setting the offset start position and the duration you want to download.</p></em>' WHERE Identifier='audio-conversion-advanced-copy' ]]>
		</sqlStatement>
	</version><version number="3.732" private="true">

		<userChangeDescription>
			Category extension changes
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-view-extension-asset', 12, 'Link - View extension asset', 'View extension #item# &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.733">

		<userChangeDescription>
			Bulk Update Thumbnails: Allow asset thumbnails to be updated via bulk update (non-image assets only).
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-thumbnail-bulk-update', 13, 'Snippet - thumbnail on bulk update', '(thumbnail will only be applied to non-image assets)', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.734" private="true">

		<userChangeDescription>
			Fix copy defect
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'You need more than 1 #item# to setup links.' WHERE Identifier='relatedAssetsFailure' AND Body LIKE 'You need more that 1 asset to setup links.' ]]>
		</sqlStatement>

	</version><version number="3.735" private="true">

		<userChangeDescription>
			Extension asset copy
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-extension-asset-bulk-update', 13, 'Snippet - extension assets bulk update', '<p>Any category extension assets will be excluded from the update.</p>', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.736" private="true">

		<userChangeDescription>
			Added missing piece of content to database
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-start-new-bulk-upload', 11, 'Button - Start new bulk upload', 'Start new bulk upload &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.736.1" private="true">

		<userChangeDescription>
			Use WMA audio codec when outputing WMV videos.
		</userChangeDescription>

	</version><version number="3.736.2" private="true">

		<userChangeDescription>
			Improve bulk upload copy
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<h2>Uploaded files already exist</h2> You have already uploaded some files, but not completed the import process.  The existing uploaded files will also be imported, or you can <a href="cancelImport" onclick="return confirm(''This will delete the previously uploaded files. Do you want to continue?'');">delete these files</a>.</p>' WHERE Identifier='snippet-bulk-upload-existing-files' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<h2>Step 1: Upload files</h2><p>To import files in bulk, you first need to transfer the files to the server. Click the Upload files button below and then browse to and select the files you want to import. When you have finished uploading files, click the next button to enter metadata.</p>' WHERE Identifier='intro-bulk-upload-1' ]]>
		</sqlStatement>
	</version><version number="3.736.3" private="true">

		<userChangeDescription>
			Made active status attribute values editable
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListAttributeValue SET IsEditable=1 WHERE Id=6
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListAttributeValue SET IsEditable=1 WHERE Id=7
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListAttributeValue SET IsEditable=1 WHERE Id=8
		</sqlStatement>

	</version><version number="3.736.4" private="true">

		<userChangeDescription>
			Added missing permissions check: check that the user has update permission on each asset when they start a bulk update from a lightbox
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-bulk-update-permissions-warning', 1, 'Copy - Bulk Update Permissions Warning', '<div class="warning">You do not have permission to edit all of the selected assets. <strong>?numUpdatePermissionDenied?</strong> #items# have been removed from the batch.</div>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.736.5" private="true">
		<userChangeDescription>
			Adding content to database
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-sorting-options', 12, 'Link - Sorting options', 'Sorting  options', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-you-have', 13, 'Snippet - You have', 'You have', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-items-selected', 13, 'Snippet - items selected', 'items selected.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-top-level-x-files', 13, 'Snippet - Top-level (X files)', 'Top-level (?numFiles? files)', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-top-level-1-file', 13, 'Snippet - Top-level (1 file)', 'Top-level (?numFiles? file)', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.736.6" private="true">

		<userChangeDescription>
			New release
		</userChangeDescription>

	</version><version number="3.736.7" private="true">

		<userChangeDescription>
			Test release
		</userChangeDescription>

	</version><version number="3.736.8" private="true">

		<userChangeDescription>
			Test release
		</userChangeDescription>

	</version><version number="3.736.9" private="true">

		<userChangeDescription>
			Display attribute SQL Server and Oracle fix
		</userChangeDescription>

	</version><version number="3.736.10" private="true">

		<userChangeDescription>
			Test release
		</userChangeDescription>

	</version><version number="3.736.11">

		<userChangeDescription>
			Upgrade to libraries that Asset Bank uses
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILES HAVE BEEN DELETED BEFORE RESTARTING THE WEBAPP. If they have not been deleted then stop Tomcat, delete them and then start Tomcat again:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/jstl.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/standard.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/jstl.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/standard.jar" />

	</version><version number="3.736.12" private="true">

		<userChangeDescription>
			Add setting to control the audio codec that is used when video is converted to wmv format
		</userChangeDescription>

		<appSettingChange type="add" section="Asset View settings" setting="wmv-audio-codec" value="">
			<comment>
				If specified this explicitly sets the audio codec to use for wmv videos.  "wmav2" is probably the right codec to use generally, but some builds of ffmpeg on windows throw errors when they attempt to use the wmav2 audio codec.
			</comment>
		</appSettingChange>

	</version><version number="3.736.13" private="true">
	  <userChangeDescription>
	    Fixed defects with org unit admin permissions when deleting and editing access levels. Changed auto-complete to delimit on keyword-delimiter setting rather than space, and some changes to auto-complete works with keyword picker types.
	    </userChangeDescription>
	  </version><version number="3.736.14" private="true">
	  <userChangeDescription>
	    VideoRegenerations (triggered by action/regenerateImage) do not regenerate the preview image by default (only the preview video) so as not to revert the frame that may have been choosen for the preview image.  This behaviour may be overridden by specifying action/regenerateImage?id={ASSETID}&amp;skipVideoThumbnails=false in the URL.
	  </userChangeDescription>
	</version><version number="3.736.15" private="true">

		<userChangeDescription>
			Added missing content items
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-lightbox-download', 11, 'Button - Lightbox download', 'Download', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-lightbox-more-actions', 11, 'Button - Lightbox more actions', 'More actions', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.736.16" private="true">
	  <userChangeDescription>
	  	Fix to make Other-File Extension mappings work for all file types (not just image).
	    </userChangeDescription>
	</version><version number="3.736.17" private="true">
	  <userChangeDescription>
	  	Changed auto-complete so it only matches on start of words in keyword picker attribute types.
	    </userChangeDescription>
	</version><version number="3.736.18" private="true">
	  <userChangeDescription>
	  	Fix JSP display bug which occurs on validation failure when editing video assets
	  </userChangeDescription>
	</version><version number="3.736.19" private="true">
	  <userChangeDescription>
	  	Changed autocomplete to use no delimiter if not set for attribute and for quick search. (rather than space).
	  </userChangeDescription>
	</version><version number="3.736.20">

		<userChangeDescription>
			User interface improvements to Bulk Upload page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-bulk-upload-complete', 10, 'Subheading - Bulk upload complete', 'Bulk upload completed', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-next', 13, 'Snippet - Next:', 'Next:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-view-your-unsubmitted', 13, 'Snippet - View your unsubmitted items', 'View your unsubmitted items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-uploaded-not-submitted', 13, 'Snippet - Uploaded items not submitted', 'your uploaded items were not submitted', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-uploaded', 13, 'Snippet - Bulk update uploaded items', 'Bulk update your uploaded items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-summary', 13, 'Snippet - bulk update summary', 'make changes to multiple items at once', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-batch-update-uploaded', 13, 'Snippet - batch update uploaded items', 'Batch update your uploaded items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-batch-update-summary', 13, 'Snippet - batch update summary', 'add metadata to each item individually', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-finished-items-new-upload', 13, 'Snippet - finished with items, start new upload', 'Or, if you have finished with your uploaded items, you can start a new upload:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Bulk Upload Log:' WHERE Identifier='subhead-import-log' AND Body LIKE 'Import Log:' ]]>
		</sqlStatement>

	</version><version number="3.736.21" private="true">
	  <userChangeDescription>
	  	Changed autocomplete to tokenise non-text area attributes only if they have a delimiter set.
	  </userChangeDescription>
	</version><version number="3.736.22" private="true">
		<userChangeDescription>
			Use content items for download asset box messages so that they can be translated
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-processing-item-for-download', 13, 'Snippet - Processing item for download', 'Processing #item# for download', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-error-processing-item-for-download', 13, 'Snippet - Error processing item for download', 'Error processing #item# ''[0]'' - the file will be excluded from the archive.', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.736.23" private="true">
		<userChangeDescription>
			Download assetbox content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-preparing-download', 13, 'Snippet - Preparing download...', 'Preparing download...', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-finished-preparing-download', 13, 'Snippet - Finished preparing download', 'Finished preparing download.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-creating-zip-files', 13, 'Snippet - Creating zip files', 'Creating zip file(s)...', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-search-results', 13, 'Snippet - Search Results', 'Search Results', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.736.24" private="true">
		<userChangeDescription>
			Fixed issue whereby sub-categories weren't showing for non-admin users if both categories and access levels are shown using dropdowns.
		</userChangeDescription>
	</version><version number="3.736.25" private="true">
		<userChangeDescription>
			Default values for dropdown attributes are now used when user is in a different language
		</userChangeDescription>
	</version><version number="3.736.26" private="true">
		<userChangeDescription>
			Fixed defects preventing Amnesty from (1) updating repurposed (embedded) video size and (2) creating new repurposed (embedded) versions of videos.
		</userChangeDescription>
	</version><version number="3.736.27" private="true">
		<userChangeDescription>
			Testing release
		</userChangeDescription>
	</version><version number="3.736.28" private="true">
		<userChangeDescription>
			Fixed issue in metadata import whereby it ran very slowly if assets being updated had relationships (now ignore relationships if not updated by import data).
		</userChangeDescription>
	</version><version number="3.736.29" private="true">
		<userChangeDescription>
			SSO plugin fix
		</userChangeDescription>
	</version><version number="3.736.30" private="true">
		<userChangeDescription>
			Added content items for content that was previously hardcoded and not available to edit through the front end
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'finishedImport', 15, 'finishedImport', 'Finished import', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'importingFilesInDirectory', 15, 'importingFilesInDirectory', 'Importing files in directory', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'addingFile', 15, 'addingFile', 'Adding file', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			 SET IDENTITY_INSERT List ON
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO List (Id, Identifier, Name, Description, CannotAddNew, NoHTMLMarkup) VALUES (19, 'tooltip_text', 'Tooltip Text', 'Content used within tooltips',1, 1) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			 SET IDENTITY_INSERT List OFF
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationCategories', 15, 'failedValidationCategories', 'You must put the asset in at least one #category-node#.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAccessLevels', 15, 'failedValidationAccessLevels', 'You must put the asset in at least one #access-level-node#.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.736.31" private="true">
		<userChangeDescription>
			Fixed failure to embed metadata into downloaded file when the image conversion is deferred.
		</userChangeDescription>
	</version><version number="3.736.32" private="true">
		<userChangeDescription>
			Adding more content items for content that was previously hardcoded and not available to edit through the front end
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-help-link', 19, 'Tooltip - Help link title attribute', 'View help text in new window', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-email-page', 19, 'Tooltip - Email this page', 'Email this page', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-search-help', 19, 'Tooltip - search help', 'Click for search help in a new window', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-single-flash-upload-types', 13, 'Snippet - Single file flash upload with types', 'First, upload your file using the controls below, then select a type and click Next to enter the metadata for this item.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-single-flash-upload', 13, 'Snippet - Single file flash upload', 'First, upload your file using the controls below, then click Next to enter the metadata for this item.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-workflow-audit', 13, 'Snippet - No workflow audit', 'No workflow audit for this asset.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-workflow-audit-popup', 19, 'Tooltip - View workflow audit popup', 'View asset workflow audit in a new window', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-changes-option', 13, 'Snippet - Save changes option', 'Save changes', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-save-new-version-option', 13, 'Snippet - Save new version option', 'Save as a new version', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-cancel-file-update', 14, 'Javascript - Confirm cancel file update', 'Are you sure you want to cancel the file update?', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-view-image-new-window', 19, 'Tooltip - View image in a new window', 'View image in a new window', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-view-full-image-new-window', 19, 'Tooltip - View full image in a new window', 'View full size image in a new window', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-uploading-complete', 1, 'Subhead - Uploading complete', 'Uploading complete', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-versioning', 13, 'Snippet - Versioning', 'Versioning', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-view-asset-usage-popup', 19, 'Tootltip - View asset usage popup', 'View asset usage in a new window', 1, 2) ]]>
		</sqlStatement>		

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-view-asset-audit-popup', 19, 'Tootltip - View asset audit popup', 'View asset audit in a new window', 1, 2) ]]>
		</sqlStatement>		

	</version><version number="3.737" private="true">
		<userChangeDescription>
			Content for InDesign plugin
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-indesign-template-asset', 9, 'Label - Template Asset', 'Template', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-indesign-create-new-template', 13, 'Snippet - Create this asset as a new InDesign template asset', 'Create new template', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.737" private="true">
		<userChangeDescription>
			InDesign schema changes: added InDesignPDFStatus
		</userChangeDescription>

		<sqlStatement type="mysql">
ALTER TABLE InDesignAsset ADD InDesignPDFStatusId Int NULL
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignPDFStatus (
	Id Int NOT NULL,
	Name Varchar(255) NOT NULL,
 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Index IX_InDAsset_InDPDFStatus_FK (InDesignPDFStatusId)
		</sqlStatement>


		<sqlStatement type="mysql">
Alter table InDesignAsset add Constraint InDAsset_InDPDFStatus_FK Foreign Key (InDesignPDFStatusId) references InDesignPDFStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
ALTER TABLE [InDesignAsset] ADD [InDesignPDFStatusId] Integer NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignPDFStatus]
(
	[Id] Integer NOT NULL Identity(100,1),
	[Name] Nvarchar(255) NOT NULL,
Constraint [pk_InDesignPDFStatus] Primary Key ([Id])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDAsset_InDPDFStatus_FK] ON [InDesignAsset] ([InDesignPDFStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignAsset] add Constraint [InDAsset_InDPDFStatus_FK] foreign key([InDesignPDFStatusId]) references [InDesignPDFStatus] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
ALTER TABLE InDesignAsset ADD InDesignPDFStatusId Integer NULL
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignPDFStatus (
	Id Integer NOT NULL ,
	Name NVarchar2(255) NOT NULL ,
 Constraint pk_InDesignPDFStatus primary key (Id)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDAsset_InDPDFStatus_FK ON InDesignAsset (InDesignPDFStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignAsset add Constraint InDAsset_InDPDFStatus_FK foreign key (InDesignPDFStatusId) references InDesignPDFStatus (Id)
		</sqlStatement>


		<sqlStatement type="sqlserver">
SET IDENTITY_INSERT InDesignPDFStatus ON
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignPDFStatus (Id, Name) VALUES (1, 'No Source File')
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignPDFStatus (Id, Name) VALUES (2, 'Needs Generation')
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignPDFStatus (Id, Name) VALUES (3, 'Generation Failed')
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignPDFStatus (Id, Name) VALUES (4, 'Up to Date')
		</sqlStatement>

		<sqlStatement type="sqlserver">
SET IDENTITY_INSERT InDesignPDFStatus OFF
		</sqlStatement>
	</version><version number="3.738">

		<userChangeDescription>
			Add item to this category functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-return-to-browse', 12, 'Link - Return to the category you were browsing', '&laquo; Return to the ?type? you were browsing', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.739" private="true">

		<userChangeDescription>
			Initial work on copying category extension assets
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>This asset is a <b>category extension asset</b> for the category <a href="?link?">?catName?</a>. Changing it''s name will change the name of it''s parent category (unless the name given conflicts with another category''s name). Deleting this asset will remove it and convert it''s associated category to a standard one.</p>' WHERE Identifier='snippet-asset-is-category-extension' ]]>
		</sqlStatement>

	</version><version number="3.740" private="true">

		<userChangeDescription>
			More content for InDesign plugin
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-asset-is-indesign-template', 13, 'Snippet - This asset is a template', 'This asset is a template', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.741" private="true">

		<userChangeDescription>
			Initial work on changes to copy asset functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-copy-asset', 14, 'Javascript - Confirm copy asset?', 'Are you sure you want to copy this #item#? Clicking this button will create a copy of the #item# and redirect you to the new #items# edit page.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.742" private="true">

		<userChangeDescription>
			Work on changes to copy asset functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-copy-asset-step1', 16, 'Title - Copy asset step 1', '#company-name# | #heading-copy-asset-step1#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-copy-asset-step1', 10, 'Heading - Copy asset step 1', 'Copy asset : Step 1 Child Relationships', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-copy-asset-step1-warning', 1, 'Copy - Copy asset step 1 Warning', 'Please note: Peer relationships are maintained outside of the copy asset process (so any peer relationships on the source asset will not be present on the resulting copy and should be reinstated manually if they are needed)', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-copy-asset-step1', 1, 'Copy - Copy asset step 1', '<p>Select how you would like each child relationship from the source asset to be dealt with from the list below then click Next to move on to updating the copy''s metadata:</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.743" private="true">

		<userChangeDescription>
			Copy asset child limit setting
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="copy-asset-child-choice-limit" value="50">
			<comment>
				The maximum number of child assets an asset can have before the user is given no choice on how to deal with the children when copying (below this number and the user is offered the choice for each relationship of linking to the existing child or copying the child and linking to that, above this number and a link is always created to the existing child)
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-copy-asset-limit-exceeded', 14, 'Javascript - Confirm copy asset limit exceeded', 'Are you sure you want to copy this #item#? Clicking this button will create a copy of the #item# and setup relationships to all of the source #items# children.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.744" private="true">

		<userChangeDescription>
			InDesign schema changes
		</userChangeDescription>

		<sqlStatement type="mysql">
ALTER TABLE InDesignAsset DROP FOREIGN KEY InDAsset_InDPDFStatus_FK
		</sqlStatement>

		<sqlStatement type="mysql">
ALTER TABLE InDesignAsset CHANGE InDesignPDFStatusId PDFStatusId Integer
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignAsset add Constraint InDAsset_InDPDFStatus_FK Foreign Key (PDFStatusId) references InDesignPDFStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
ALTER TABLE InDesignAsset ADD PDFStatusChangeDate Datetime NULL
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignPDFJob (
	Id Int NOT NULL,
	AssetId Bigint NOT NULL,
	JobStatusId Int NOT NULL,
 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Create table InDesignPDFJobStatus (
	Id Int NOT NULL,
	Name Varchar(255) NOT NULL,
 Primary Key (Id)) TYPE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFJob add Index IX_InDPDFJob_InDAsset_FK (AssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFJob add Constraint InDPDFJob_InDAsset_FK Foreign Key (AssetId) references InDesignAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFJob add Index IX_InDPDFJob_JobStatus_FK (JobStatusId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFJob add Constraint InDPDFJob_JobStatus_FK Foreign Key (JobStatusId) references InDesignPDFJobStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
sp_rename 'InDesignAsset.InDesignPDFStatusId', 'PDFStatusId'
		</sqlStatement>

		<sqlStatement type="sqlserver">
ALTER TABLE [InDesignAsset] ADD [PDFStatusChangeDate] Datetime NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignPDFJob]
(
	[Id] Integer NOT NULL Identity(100,1),
	[AssetId] Integer NOT NULL,
	[JobStatusId] Integer NOT NULL,
Constraint [pk_InDesignPDFJob] Primary Key ([Id])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignPDFJobStatus]
(
	[Id] Integer NOT NULL Identity(100,1),
	[Name] Nvarchar(255) NOT NULL,
Constraint [pk_InDesignPDFJobStatus] Primary Key ([Id])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDPDFJob_InDAsset_FK] ON [InDesignPDFJob] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignPDFJob] add Constraint [InDPDFJob_InDAsset_FK] foreign key([AssetId]) references [InDesignAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDPDFJob_JobStatus_FK] ON [InDesignPDFJob] ([JobStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignPDFJob] add Constraint [InDPDFJob_JobStatus_FK] foreign key([JobStatusId]) references [InDesignPDFJobStatus] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
ALTER TABLE InDesignAsset RENAME COLUMN InDesignPDFStatusId TO PDFStatusId
		</sqlStatement>

		<sqlStatement type="oracle">
ALTER TABLE InDesignAsset ADD PDFStatusChangeDate Date NULL
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignPDFJob (
	Id Integer NOT NULL ,
	AssetId Integer NOT NULL ,
	JobStatusId Integer NOT NULL ,
 Constraint pk_InDesignPDFJob primary key (Id)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignPDFJobStatus (
	Id Integer NOT NULL ,
	Name NVarchar2(255) NOT NULL ,
 Constraint pk_InDesignPDFJobStatus primary key (Id)
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDPDFJob_InDAsset_FK ON InDesignPDFJob (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignPDFJob add Constraint InDPDFJob_InDAsset_FK foreign key (AssetId) references InDesignAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDPDFJob_JobStatus_FK ON InDesignPDFJob (JobStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignPDFJob add Constraint InDPDFJob_JobStatus_FK foreign key (JobStatusId) references InDesignPDFJobStatus (Id)
		</sqlStatement>


		<sqlStatement type="sqlserver">
SET IDENTITY_INSERT InDesignPDFJobStatus ON
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignPDFJobStatus (Id, Name) VALUES (1, 'Pending')
		</sqlStatement>

		<sqlStatement type="all">
INSERT INTO InDesignPDFJobStatus (Id, Name) VALUES (2, 'Running')
		</sqlStatement>

		<sqlStatement type="sqlserver">
SET IDENTITY_INSERT InDesignPDFJobStatus OFF
		</sqlStatement>

	</version><version number="3.745">
		<userChangeDescription>
			Enhanced 'populate name from filename' functionality (shown on bulk upload) so that, depending on an application setting, the extension of the filename is removed before the 'name' attribute is set to that value.
		</userChangeDescription>
		<appSettingChange type="add" section="Directory settings" setting="populate-name-from-filename-remove-ext" value="false">
			<comment>
				If the user selected 'populate name from filename' on the bulk upload/enter metadata page, should the extension of the filename be removed before populating the 'name' attribute?
			</comment>
		</appSettingChange>
	</version><version number="3.746" private="true">

		<userChangeDescription>
			Updated storage devices area to allow pluggable device types
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE StorageDevice ADD FactoryClassName Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice ADD FactoryClassName NVarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE StorageDevice ADD FactoryClassName NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE StorageDevice ADD UsedLocalSpaceInBytes Bigint(20) NOT NULL DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice ADD UsedLocalSpaceInBytes Integer DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE StorageDevice ADD UsedLocalSpaceInBytes Number DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE StorageDevice ADD AuthenticationName Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice ADD AuthenticationName NVarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE StorageDevice ADD AuthenticationName NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE StorageDevice ADD AuthenticationKey Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice ADD AuthenticationKey NVarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE StorageDevice ADD AuthenticationKey NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE StorageDevice ADD HttpBaseUrl Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice ADD HttpBaseUrl NVarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE StorageDevice ADD HttpBaseUrl NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE StorageDevice SET FactoryClassName='com.bright.framework.storage.service.FileSystemStorageDeviceFactory'
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="store-files-in-database=true">
			UPDATE StorageDevice SET FactoryClassName='com.bright.framework.storage.service.DatabaseStorageDeviceFactory' WHERE StorageTypeId IN (2,3)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE StorageDevice SET StorageTypeId=5 WHERE StorageTypeId=3
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE StorageDevice SET StorageTypeId=4 WHERE StorageTypeId=1
		</sqlStatement>

		<appSettingChange type="delete" setting="store-files-in-database" />

	</version><version number="3.747">

		<userChangeDescription>
			Lightbox panel enhancements - users can now add new lightboxes and empty their current lightbox from anywhere in the application.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-create-new', 13, 'Snippet - Create new', 'Create new...', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.748" private="true">

		<userChangeDescription>
			InDesign schema changes
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocument ADD OriginalFilename Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignDocument ADD OriginalFilename NVarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignDocument ADD OriginalFilename NVarchar2(255)
		</sqlStatement>

	</version><version number="3.749" private="true">

		<userChangeDescription>
			Initial work on relationship description functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AllowableEntityRelationship ADD COLUMN RelationshipDescriptionLabel Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AllowableEntityRelationship ADD RelationshipDescriptionLabel NVarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AllowableEntityRelationship ADD RelationshipDescriptionLabel NVarchar2(255)
		</sqlStatement>

	</version><version number="3.750" private="true">

		<userChangeDescription>
			InDesign schema changes
		</userChangeDescription>

		<!-- make OriginalFilename NOT NULL -->
		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocument MODIFY OriginalFilename Varchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignDocument ALTER COLUMN OriginalFilename NVarchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignDocument MODIFY (OriginalFilename NVarchar2(255) NOT NULL)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocument ADD FileSizeInBytes BIGINT NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignDocument ADD FileSizeInBytes Integer NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignDocument ADD FileSizeInBytes Integer NOT NULL
		</sqlStatement>


		<!-- Change InDesignPDFQualityId from BigInt to Int (only necessary for MySQL -->
		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocument DROP FOREIGN KEY InDD_InDPQ_FK
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignPDFQuality MODIFY Id Int NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocument MODIFY InDesignPDFQualityId Int NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignDocument add Constraint InDD_InDPQ_FK Foreign Key (InDesignPDFQualityId) references InDesignPDFQuality (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<!-- MySQL: make InDesignDocument.Id and InDesignPDFJob.Id AUTO_INCREMENT -->
		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocument MODIFY Id Bigint NOT NULL AUTO_INCREMENT
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignPDFJob MODIFY Id Bigint NOT NULL AUTO_INCREMENT
		</sqlStatement>

		<!-- Oracle: add sequences for the above PKs -->
		<sqlStatement type="oracle">
			CREATE SEQUENCE InDesignDocumentSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE InDesignPDFJobSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<!-- refdata -->
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT InDesignPDFQuality ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFQuality (Id, Name) values (1, 'Standard')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFQuality (Id, Name) values (2, 'Barcode')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT InDesignPDFQuality OFF
		</sqlStatement>

	</version><version number="3.751" private="true">

		<userChangeDescription>
			Work on storing related asset descriptions
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE RelatedAsset ADD RelationshipDescription Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE RelatedAsset ADD RelationshipDescription Varchar2(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE RelatedAsset ADD RelationshipDescription Varchar(255) NULL
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-relationship-name-peer', 13, 'Snippet - Peer', 'Peer', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-relationship-name-child', 13, 'Snippet - Child', 'Child', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-relationship-to-asset', 13, 'Snippet - Relationship to asset', '?relationshipType? relationship to asset', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-edit-relationship', 10, 'Heading - Edit Relationship', 'Edit Relationship', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-edit-relationship', 16, 'Title - Edit Relationship', '#company-name# | #heading-edit-relationship#', 1, 2)
		</sqlStatement>

	</version><version number="3.752" private="true">

		<userChangeDescription>
			Add setting to download files direct from remote source where applicable
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="download-remote-storage-directly" value="false">
			<comment>
				Whether to download files direct from remote source where applicable.  Eg. If downloading the original version of an asset from S3, then redirect the download to S3.
			</comment>
		</appSettingChange>

	</version><version number="3.753" private="true">

		<userChangeDescription>
			More content for InDesign plugin
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-indesign-pdf-status', 13, 'Snippet - InDesign PDF Status', 'PDF status', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.754" private="true">

		<userChangeDescription>
			More content for InDesign plugin
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-indesign-pdf-quality', 9, 'Label - PDF Quality', 'PDF Quality', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-default-option', 9, 'Label - "Default" for use in <option> tags', '- Default -', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.755" private="true">

		<userChangeDescription>
			More content for InDesign plugin
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier = 'label-default-option' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-default-option', 13, 'Snippet - "Default" for use in <option> tags', '- Default -', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.756" private="true">

		<userChangeDescription>
			Asset entity paneller
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="asset-entity-browse-panel-breakdown" value="">
			<comment>
				This setting can be used to reorder the browse page so that assets of particular entities are grouped together. It requires the plugin-classes setting to be updated to include reference to the asset entity paneller (com.bright.assetbank.category.service.AssetEntityBrowseAssetsPaneller). The setting itself is a : separated string of panel name and asset entity id list pairs (the pairs are sperated by ! and the entity ids are seperated by ,). As an example Documents!1,2:Images!3,4 would organise the browse page so that instances of entities 1 and 2 were in a panel at the top of the browse page titled Documents and instances of entities 3 and 4 would be in a separate panel below titled Images. You can also include * as a marker if you are using the show on descendants functionality and want the panel to appear anywhere other than at the end.
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-an-item', 12, 'Link - Add an item', 'Add an #item#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-extended-category', 13, 'Snippet - Extended category', 'extended category', 1, 2) ]]>
		</sqlStatement>


	</version><version number="3.757" private="true">

		<userChangeDescription>
			Renamed "Standard" PDF export preset to "Normal" because InDesign Server ignores ones called "Standard"
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE InDesignPDFQuality SET Name = 'Normal' WHERE Id = 1 ]]>
		</sqlStatement>

	</version><version number="3.758" private="true">

		<userChangeDescription>
			Add setting to determine whether new browse list view is the default
		</userChangeDescription>

		<appSettingChange type="add" section="Asset view settings" setting="list-view-default" value="false">
			<comment>
				Should the list view (currently ony available on browse) be the default view?
			</comment>
		</appSettingChange>

	</version><version number="3.759">

		<userChangeDescription>
			Added browse list view
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (5, 'Browse List View')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup OFF
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO DisplayAttribute (DisplayAttributeGroupId, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild) SELECT 5, AttributeId, DisplayLength, SequenceNumber, ShowLabel, IsLink, ShowOnChild FROM DisplayAttribute WHERE DisplayAttributeGroupId=2
		</sqlStatement>

	</version><version number="3.760" private="true">

		<userChangeDescription>
			Removed list item
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='link-view-extension-asset'
		</sqlStatement>

	</version><version number="3.761" private="true">

		<userChangeDescription>
			Add the ability for org unit access levels to be created below a setting specified parent
		</userChangeDescription>

		<appSettingChange type="add" section="Organisational units" setting="org-unit-parent-access-level-id" value="">
			<comment>
				The parent access level id that the automatic org unit access levels for users should be created in (leave blank to create at the top level)
			</comment>
		</appSettingChange>

	</version><version number="3.762" private="true">

		<userChangeDescription>
			Update category extension assets
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Navigate back to the category <a href="?link?">?catName?</a>' WHERE Identifier='snippet-asset-is-category-extension' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-extension-asset', 14, 'Javascript - Confirm delete extension asset?', 'Are you sure you want to permenantly delete this #item#? This #item# extends a category, removing it will convert the category to a standard category. To remove the category and the extension asset together you need to go to category admin and delete the category itself.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.763" private="true">

		<userChangeDescription>
			Upload enhancements. Added 'My Uploads' page, and can now see which assets haven't yet been completed after a bulk upload.
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="number-days-my-uploads" value="60">
			<comment>
				The number of days to show on the 'my uploads' page
			</comment>
		</appSettingChange>

	</version><version number="3.764" private="true">

		<userChangeDescription>
			Added setting to control the default assignable state of newly created categories
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="default-new-accesslevels-to-assignable" value="false">
			<comment>
				The default assignable state for any new access levels that are added (when adding from the al admin pages the user will still be able to manual select the other option)
			</comment>
		</appSettingChange>

	</version><version number="3.765" private="true">
		<userChangeDescription>
			Added support for checking assets out.
		</userChangeDescription>

		<sqlStatement type="mysql">
		ALTER TABLE Asset ADD COLUMN FileCheckedOutByUserId Bigint
		</sqlStatement>

		<sqlStatement type="mysql">
		ALTER TABLE Asset ADD COLUMN FileCheckOutTime DateTime
		</sqlStatement>

		<sqlStatement type="mysql">
		Alter table Asset add Index IX_FileCheckedOutByUser_FK (FileCheckedOutByUserId);
		</sqlStatement>

		<sqlStatement type="mysql">
		Alter table Asset add Constraint FileCheckedOutByUser_FK Foreign Key (FileCheckedOutByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict;
		</sqlStatement>

		<sqlStatement type="oracle">
		ALTER TABLE Asset ADD FileCheckedOutByUserId Integer
		</sqlStatement>

		<sqlStatement type="oracle">
		ALTER TABLE Asset ADD FileCheckOutTime Date
		</sqlStatement>

		<sqlStatement type="oracle">
		Create Index IX_FileCheckedOutByUser_FK ON Asset (FileCheckedOutByUserId)
		</sqlStatement>

		<sqlStatement type="oracle">
		Alter table Asset add Constraint FileCheckedOutByUser_FK foreign key (FileCheckedOutByUserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
		ALTER TABLE [Asset] ADD [FileCheckedOutByUserId] Integer NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
		ALTER TABLE [Asset] ADD [FileCheckOutTime] DateTime NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
		Create Index [IX_FileCheckedOutByUser_FK] ON [Asset] ([FileCheckedOutByUserId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
		Alter table [Asset] add Constraint [FileCheckedOutByUser_FK] foreign key([FileCheckedOutByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

	</version><version number="3.766" private="true">
		<userChangeDescription>
			Fixed issue whereby setting bulk-upload-populate-defaults was ignored - defaults were always populated on bulk upload.
		</userChangeDescription>

		<!-- Make sure behaviour stays the same for existing clients: -->
		<appSettingChange type="update" setting="bulk-upload-populate-defaults" value="true" />

	</version><version number="3.767" private="true">
		<userChangeDescription>
			Minor content tweak
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Remove from #a-lightbox#' WHERE Identifier='snippet-remove-from-lightbox' AND Body LIKE 'Remove from #my-lightbox#' ]]>
		</sqlStatement>
	</version><version number="3.768" private="true">

		<userChangeDescription>
			InDesign schema changes
		</userChangeDescription>

		<sqlStatement type="mysql">
			<![CDATA[ ALTER TABLE InDesignDocument ADD NumSymbols Int NULL ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ ALTER TABLE InDesignDocument ADD NumSymbols Integer NULL ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ ALTER TABLE [InDesignDocument] ADD [NumSymbols] Integer NULL ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE InDesignDocument SET NumSymbols = 0 ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ ALTER TABLE InDesignDocument MODIFY NumSymbols Int NOT NULL ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ ALTER TABLE InDesignDocument MODIFY NumSymbols NOT NULL ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ ALTER TABLE [InDesignDocument] ALTER COLUMN [NumSymbols] Integer NOT NULL ]]>
		</sqlStatement>

	</version><version number="3.769" private="true">
		<userChangeDescription>
			Change icon for required for completeness fields
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<em>Those fields marked with a dagger (<span class="required">&dagger;</span>) are additionally required for the data to be considered complete.</em>' WHERE Identifier='snippet-req-for-completeness-fields' AND Body LIKE '<em>Those fields marked with 2 asterisks (<span class="required requiredForCompleteness">**</span>) are additionally required for the data to be considered complete.</em>' ]]>
		</sqlStatement>
	</version><version number="3.770" private="true">
		<userChangeDescription>
			Support for checking out assets for editing
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-checked-out-items', 16, 'Title - Checked Out Items', '#company-name# | #heading-checked-out-items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-checked-out-items', 10, 'Heading - Checked Out Items', 'Checked Out', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-all-checked-out-items', 10, 'Subheading - All assets checked out by any user:', 'All assets checked out by any user:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-all-checked-out-items-empty', 10, 'Subheading - There are no checked out assets', 'There are no checked out assets', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-my-checked-out-items', 10, 'Subheading - All assets checked out by you:', 'All assets checked out by you:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-my-checked-out-items-empty', 10, 'Subheading - You do not have any checked out assets', 'You do not have any checked out assets', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.771" private="true">
		<userChangeDescription>
			Support for wildcards in AD group mapping
		</userChangeDescription>
		<appSettingChange type="add" section="User registration/ login" setting="remote-group-mapping-wildcard" value="">
			<comment>
				What is the wildcard for remote group names in the remote group mapping field?
			</comment>
		</appSettingChange>
	</version><version number="3.772" private="true">
		<userChangeDescription>
			Update current year snippet for copyright message
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '2011' WHERE Identifier='snippet-current-year' ]]>
		</sqlStatement>

	</version><version number="3.773" private="true">
		<userChangeDescription>
			Changes to extension asset import process
		</userChangeDescription>
		<appSettingChange type="add" section="general config" setting="replace-extended-category-names-on-import" value="true">
			<comment>
				Whether category names should be replaced with asset names when extending categories via metadata import or category import
			</comment>
		</appSettingChange>
	</version><version number="3.773" private="true">
		<userChangeDescription>
			Content change for extended categories
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<a href="?link?">Browse ?catName?</a>' WHERE Identifier='snippet-asset-is-category-extension' AND Body LIKE 'Navigate back to the category <a href="?link?">?catName?</a>' ]]>
		</sqlStatement>
	</version><version number="3.774" private="true">
		<userChangeDescription>
			Minor content changes around approving items
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-process-request', 12, 'Link - Process request', 'process request', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.775" private="true">
		<userChangeDescription>
			Correction to email template
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body='Dear #name#<br><br>Your request to download one or more assets has been processed.<br><br>Please log in to Asset Bank and view your lightbox for details.<br><br>Kind regards,<br>Asset Bank Admin' WHERE TextId='assets_approved' AND Body LIKE 'Dear #name#<br><br>Your request to download one or more assets has been processed.<br><br>Please log in to the Asset Bank and go to &#39;My Folder&#39; for details.<br><br>Kind regards,<br>Asset Bank Admin' ]]>
		</sqlStatement>

	</version><version number="3.776">
		<userChangeDescription>
			Allow categories to be displayed as checkboxes rather than the category picker
			A new setting has been added called categories-dropdowns which can be set to false to change the categories to checkboxes
		</userChangeDescription>

		<appSettingChange type="add" section="Browse settings" setting="categories-dropdowns" value="true">
			<comment>
				If the following is set to true then the categories are shown using dropdown lists (in add/edit asset and the search page). Otherwise, they are shown as checkboxes:
			</comment>
		</appSettingChange>

	</version><version number="3.776.1" private="true">
		<userChangeDescription>
			Fixed issue whereby asset metadata was erroneously marked as complete if none of the attributes contained values
		</userChangeDescription>
	</version><version number="3.776.2">
		<userChangeDescription>
			Improvements to bulk upload UI, and My Uploads area
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p>A bulk upload enables you to upload multiple #items# at once.</p>' WHERE Identifier='intro-bulk-upload' AND Body LIKE '<p>The data import enables you to bulk load #items# from a zip file or a directory on the server.</p><p>There is no import currently in progress.</p>' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'If you have finished with your uploaded #items#, you can start a new upload:' WHERE Identifier='snippet-finished-items-new-upload' AND Body LIKE 'Or, if you have finished with your uploaded items, you can start a new upload:' ]]>
		</sqlStatement>
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-bulk-upload-log', 10, 'Subhead - Bulk upload log', 'Bulk upload log:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-update-these-items', 12, 'Link - Batch update these items', 'Batch update these #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-bulk-update-these-items', 12, 'Link - Bulk update these items', 'Bulk update these #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-1-item-incomplete-metadata', 13, 'Snippet - 1 uploaded items incomplete metadata', '?numIncompleteItems? of your uploaded #items# has incomplete metadata', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-num-items-incomplete-metadata', 13, 'Snippet - Num uploaded items incomplete metadata', '?numIncompleteItems? of your uploaded #items# have incomplete metadata', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-all-uploaded-complete-metadata', 10, 'Subhead - All uploaded complete metadata', 'All your uploaded #items# have complete metadata', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-num-uploaded-items', 10, 'Subhead - Num uploaded items', '?numUploadedItems? #items# have been uploaded', 1, 2) ]]>		
		</sqlStatement>
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-date-of-upload', 10, 'Subhead - Date of upload', 'Date of upload', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-no-of-items', 10, 'Subhead - No. of items', 'No. of items', 1, 2) ]]>	
		</sqlStatement>
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-aprroved-items-you-uploaded', 13, 'Snippet - Approved Items you uploaded', 'The following #items# you uploaded in the last ?numDaysShown? days have been approved.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-aprroved-items-you-uploaded', 13, 'Snippet - No approved Items you uploaded', 'You have not uploaded any #items# in the last ?numDaysShown? days that have been approved.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-update-lowercase', 12, 'Link - batch update (lowercase)', 'batch update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-bulk-update-lowercase', 12, 'Link - bulk update (lowercase)', 'bulk update', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-these-items', 12, 'Link - view these items', 'view these #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-this-item', 12, 'Link - view this item', 'view this #item#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-items', 12, 'Link - view items', 'view #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-my-uploads', 10, 'Heading - My Uploads', 'My Uploads', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-your-approved-items', 10, 'Subhead - Your Approved Items', 'Your Approved Items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-1-live-item-incomplete', 13, 'Snippet -1 live item incomplete', '1 of the #items# you uploaded is live but has incomplete metadata.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-x-live-items-incomplete', 13, 'Snippet -x live items incomplete', '?numIncompleteItems? of the #items# you uploaded are live but have incomplete metadata.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-older-approved-items', 12, 'Link - View older approved items', 'View your older approved #items# &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-awaiting-approval', 7, 'Tab - Awaiting Approval', 'Awaiting Approval', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-approved-items', 7, 'Tab - Approved Items', 'Approved Items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-my-uploads', 16, 'Title - My uploads', '#company-name# | #heading-my-uploads#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-my-uploads', 7, 'Menu - My uploads', 'My Uploads', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.776.3">
		<userChangeDescription>
			Allow lightboxes to be copied. You can create a copy of the lightbox from the manage lightboxes page.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-copy-lightbox', 16, 'Title - Copy Lightbox', '#company-name# | Copy #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-copy-lightbox', 1, 'Intro - Copy Lightbox', '<p>Copy #a-lightbox# <strong>?prevName?</strong></p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-copy-of', 13, 'Snippet - Copy of', 'Copy of', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.776.4">
		
		<userChangeDescription>
			When public access is enabled and a user registers their temporary lightbox is saved on registration (previously it was lost)
		</userChangeDescription>
		
	</version><version number="3.776.5" private="true">
		
		<userChangeDescription>
			Fix problem with urls on add asset success page
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			<![CDATA[ UPDATE ListItem SET Body='<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="?viewAssetUrl?">view the new asset</a>, <a href="?addAnotherFileUrl?">add another file</a> or use the site navigation to continue.</p>' WHERE Identifier='intro-upload-success' AND Body='<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="viewAsset?id=?assetId?">view the new asset</a>, <a href="../action/viewUploadAssetFile">add another file</a> or use the site navigation to continue.</p>' ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ UPDATE ListItem SET Body='<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="?viewAssetUrl?">view the new asset</a>, <a href="?addAnotherFileUrl?">add another file</a> or use the site navigation to continue.</p>' WHERE Identifier='intro-upload-success' AND Body LIKE '<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="viewAsset?id=?assetId?">view the new asset</a>, <a href="../action/viewUploadAssetFile">add another file</a> or use the site navigation to continue.</p>' ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ UPDATE ListItem SET Body='<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="?viewAssetUrl?">view the new asset</a>, <a href="?addAnotherFileUrl?">add another file</a> or use the site navigation to continue.</p>' WHERE Identifier='intro-upload-success' AND Body LIKE '<p>Your file has been added, with an ID of <strong>?assetId?</strong>.</p><p>You can <a href="viewAsset?id=?assetId?">view the new asset</a>, <a href="../action/viewUploadAssetFile">add another file</a> or use the site navigation to continue.</p>' ]]>
		</sqlStatement>

	</version><version number="3.776.6" private="true">
		
		<userChangeDescription>
			Fixed issue seeing attachments in mac email clients caused by incorrect subtype for MimeMultipart (was 'related', should be and now is 'mixed').
		</userChangeDescription>
		
	</version><version number="3.776.7" private="true">
		
		<userChangeDescription>
			Fixed problem with org unit admin users getting emailed on user registration
		</userChangeDescription>
		
	</version><version number="3.776.8" private="true">
		
		<userChangeDescription>
			Fixed problem custom field languages on edit
		</userChangeDescription>
		
	</version><version number="3.776.9" private="true">
		
		<userChangeDescription>
			User's language is now detected from browser and set in the profile when an account is created with SSO
		</userChangeDescription>
		
	</version><version number="3.776.10" private="true">
		
		<userChangeDescription>
			Allow org unit admins to use the export functionality
		</userChangeDescription>
		
		<appSettingChange type="add" section="Organisational units" setting="org-unit-admins-can-export" value="false">
			<comment>
				Are org unit admins allowed to use the export functionality to export asset files and metadata (option on search results page)
			</comment>
		</appSettingChange>
		
	</version><version number="3.776.11" private="true">
		
		<userChangeDescription>
			Display attribute null fix
		</userChangeDescription>

	</version><version number="3.776.12" private="true">
		
		<userChangeDescription>
			JSP size fixes
		</userChangeDescription>

	</version><version number="3.776.13">
		
		<userChangeDescription>
			Adds the option of showing a 'captcha' image on the registration page, i.e. to help reduce spam
		</userChangeDescription>
		
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationCaptcha', 15, 'failedValidationCaptcha', 'The characters you entered do not match those shown in the image', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-enter-captcha-letters', 1, 'Snippet - enter the characters shown in the captcha image', 'Enter the characters you see in the image', 1, 1) ]]>
		</sqlStatement>		
		
		<sqlStatement type="all">		
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-captcha-security-check', 9, 'Label - Captcha Security Check', 'Security Check:', 1, 2) ]]>
		</sqlStatement>			
				
		
		<appSettingChange type="add" section="User registration/ login" setting="show-captcha-on-registration" value="false">
			<comment>
				Whether or not to show a 'captcha' image on the registration form, to help cut down on spam
			</comment>
		</appSettingChange>		
	</version><version number="3.776.14" private="true">
		
		<userChangeDescription>
			Change to category counts to resolve issue (wrong counts) when filters are used
		</userChangeDescription>


	</version><version number="3.776.15" private="true">
		
		<userChangeDescription>
			Adding misc content to database
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-mask', 10, 'Subhead - Mask', 'Mask', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-current', 13, 'Snippet - current', 'current', 1, 2) ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-uploading-please-wait', 10, 'Subhead - Uploading (please wait)', 'Uploading (please wait)', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-uploading', 13, 'Snippet - Uploading...', 'Uploading...', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-rotation', 13, 'Snippet - No rotation', 'No rotation', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-90-deg-clockwise', 13, 'Snippet - 90 deg clockwise', '90&deg; clockwise', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-180-deg', 13, 'Snippet - 180 deg', '180&deg;', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-90-deg-anticlockwise', 13, 'Snippet - 90 deg anticlockwise', '90&deg; anti-clockwise', 1, 2) ]]>
		</sqlStatement>
			
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-please-wait-image-prepared', 10, 'Subhead - Please wait while image prepared', 'Please wait while your image is prepared...', 1, 2) ]]>
		</sqlStatement>	
					
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-image-ready-download', 10, 'Subhead - Your image ready to download', 'Your image is ready to download!', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-image-should-downloading', 13, 'Snippet - Image should start downloading', '(Your image should start downloading automatically, if it does not please click on the link above)', 1, 3) ]]>
		</sqlStatement>	
		
			
	</version><version number="3.776.16" private="true">
		
		<userChangeDescription>
			Fixing version
		</userChangeDescription>


	</version><version number="3.776.17" private="true">
		
		<userChangeDescription>
			Fixing version
		</userChangeDescription>


	</version><version number="3.776.18" private="true">
		
		<userChangeDescription>
			Change 'upload files' button text when some files have been uploaded
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-upload-more-files', 11, 'Button - Upload more files', 'Upload more files', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.776.19" private="true">
		<userChangeDescription>
			Adding selected assets to assetbox
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'failedAddingAssetsToAssetBox', 15, 'failedAddingAssetsToAssetBox', '[0] asset(s) were successfully added to the #a-lightbox# but [1] asset(s) could not be added (it may have been deleted recently or you do not have sufficient permission)', 1, 2) ]]>
		</sqlStatement>	
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'successfulAddedAssetsToAssetBox', 15, 'successfulAddedAssetsToAssetBox', '[0] asset(s) were successfully added to the #a-lightbox#', 1, 2) ]]>
		</sqlStatement>	
			<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) values (1, 'categoryErrorMissingAsset', 15, 'categoryErrorMissingAsset', 'This #item# could not be added to your #a-lightbox#. It may have been deleted recently or you do not have sufficient permission.', 1, 2) ]]>
		</sqlStatement>	
	</version><version number="3.776.20">
		
		<userChangeDescription>
			New functionality to allow admin users to create Photo Essays.
			A Photo Essay is a type of slidehow which has thumbnails for all slides and has text for each slide (which comes from an attribute value)
			The Photo Essay functionality is automatically enabled when slideshows and embeddable slideshows are turned on (enable-slideshow=true and slideshow-repurposing-enabled=true)
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD COLUMN ShowOnHomepage Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD ShowOnHomepage Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD ShowOnHomepage Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD COLUMN IsDefaultOnHomepage Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD IsDefaultOnHomepage Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD IsDefaultOnHomepage Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>		
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD COLUMN SequenceNumber Int
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD SequenceNumber Integer
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD SequenceNumber Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE RepurposedSlideshow ADD COLUMN SlideShowTypeId BigInt
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedSlideshow ADD SlideShowTypeId Integer
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE RepurposedSlideshow ADD SlideShowTypeId Integer
		</sqlStatement>
		
		<sqlStatement type="mysql">
			Create table SlideShowType (
				Id Bigint NOT NULL,
				Type Varchar(255),
				UNIQUE (Id),
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>
		<sqlStatement type="mysql">
			<![CDATA[ Alter table RepurposedSlideshow add Index IX_RSlideshow_SlideShowType_FK (SlideShowTypeId) ]]>
		</sqlStatement>
		<sqlStatement type="mysql">
			<![CDATA[ Alter table RepurposedSlideshow add Constraint RSlideshow_SlideShowType_FK Foreign Key (SlideShowTypeId) references SlideShowType (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [SlideShowType] (
				[Id] Integer NOT NULL Identity(100,1),
				[Type] Nvarchar(255) NULL,
				Constraint [pk_SlideShowType] Primary Key ([Id])) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_RSlideshow_SlideShowType_FK] ON [RepurposedSlideshow] ([SlideShowTypeId]) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [RepurposedSlideshow] add Constraint [RSlideshow_SlideShowType_FK] foreign key([SlideShowTypeId]) references [SlideShowType] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table SlideShowType (
				Id Integer NOT NULL ,
				Type NVarchar2(255),
				primary key (Id)) 			
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table RepurposedSlideshow add  foreign key (SlideShowTypeId) references SlideShowType (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_RSlideshow_SlideShowType_FK ON RepurposedSlideshow (SlideShowTypeId) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT SlideShowType ON
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SlideShowType (Id, Type) VALUES (1, 'Standard')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SlideShowType (Id, Type) VALUES (2, 'photoEssay')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT SlideShowType OFF
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE RepurposedSlideshow SET SequenceNumber=RepurposedVersionId
		</sqlStatement>
		
		<sqlStatement type="all">
			UPDATE RepurposedSlideshow SET SlideShowTypeId=1
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-create-custom-slideshow', 13, 'Snippet - Create custom slideshow', 'Create custom slideshow', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<script type="text/javascript" src="?commonUrlStub?swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", displayTime:"?displayTime?", onExternalSite:"?onExternalSite?", type:"?type?", modules:"AssetBank", modulePath:"?commonUrlStub?modules/"}; if (flashvars.type=="photoEssay") { flashvars.controlMenuOptions = "AssetBank_viewAsset,AssetBank_addToLightbox,AssetBank_addAllToLightbox,thumbnailBar,titleBar,infoBar,autoResize,embiggen"; flashvars.title = "?title?";}; var params = {wmode:"transparent",allowFullScreen:"true"}; var attributes = {}; swfobject.embedSWF("?commonUrlStub?gallery.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?commonUrlStub?expressinstall.swf", flashvars, params, attributes); </script>' WHERE Identifier='technical-embeddable-slideshow-html' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-slideshows-hopepage', 13, 'Snippet - slideshows', 'Slideshows:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-slideshow-not-found', 13, 'Snippet - Slideshow not found', 'The requested slideshow could not be found (it may have been deleted recently).', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.776.21" private="true">
		<userChangeDescription>
			Fixed error when viewing 'asset details' page for audio files.
		</userChangeDescription>
	</version><version number="3.776.22" private="true">
		<userChangeDescription>
			New release
		</userChangeDescription>
	</version><version number="3.776.23" private="true">
		<userChangeDescription>
			Fixing release
		</userChangeDescription>
	</version><version number="3.776.24" private="true">
		<userChangeDescription>
			Change to ImageMagick FileCache to use FileUtil.copyFile to fix issue with very long filenames (apache commons FileUtils.copyFile throws exception)
		</userChangeDescription>
	</version><version number="3.776.25" private="false">
		<userChangeDescription>
			Add more control over display settings for bulk upload and asset editing.
		</userChangeDescription>
		<appSettingChange type="add" section="Asset View" setting="show-rotate" value="true">
			<comment>
				Should the edit view show the rotate option?
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="Batch" setting="show-prepend-option" value="true">
			<comment>
				Should the bulk update text alteration fields include the 'prepend' option?
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="Batch" setting="show-unrelate-assets" value="true">
			<comment>
				Should the bulk update include the 'unrelate assets' option?
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="Batch" setting="link-items-default" value="false">
			<comment>
				Default value for the 'link the items to each other' checkbox
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="Batch" setting="show-link-items" value="true">
			<comment>
				Should the 'link the items to each other' checkbox be shown?
			</comment>
		</appSettingChange>	
		<appSettingChange type="add" section="Batch" setting="defer-thumbnail-creation-default" value="false">
			<comment>
				Default value for the 'defer thumbnail creation' checkbox
			</comment>
		</appSettingChange>	
		<appSettingChange type="add" section="Batch" setting="show-defer-thumbnail-creation" value="true">
			<comment>
				Should the 'defer thumbnail creation' checkbox be shown?
			</comment>
		</appSettingChange>	
		<appSettingChange type="add" section="Batch" setting="populate-name-from-filename-default" value="false">
			<comment>
				Default value for the 'populate name from filename' checkbox
			</comment>
		</appSettingChange>	
		<appSettingChange type="add" section="Batch" setting="show-populate-name-from-filename" value="true">
			<comment>
				Should the 'populate name from filename' checkbox be shown?
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="Marketing" setting="show-workflow-options" value="true">
			<comment>
				Should the 'Update workflow status' and other Workflow related options be shown?
			</comment>
		</appSettingChange>	
	</version><version number="3.776.26" private="true">
		<userChangeDescription>
			Improvement to converting the colorspace on lightbox download
		</userChangeDescription>
	</version><version number="3.776.27" private="true">
		<userChangeDescription>
			New Snippets included
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-in', 13, 'Snippet - in', 'in', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-of', 13, 'Snippet - of', 'of', 1, 3) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-empty', 13, 'Snippet - Empty', 'Empty', 1, 3) ]]>
		</sqlStatement>
		
	</version><version number="3.776.28" private="true">
		<userChangeDescription>
			Fix to metadata export - to ensure quotes are doubled up when the entire field is quoted. Fix to metadata import to use exact match on user forename and surname (was using wildcard) and not log warning but not skip if more than 1 user matches.
		</userChangeDescription>
	</version><version number="3.776.29" private="true">
		<userChangeDescription>
		  Fix for show-link-items
		</userChangeDescription>
	</version><version number="3.776.30" private="true">
		<userChangeDescription>
		  Force update
		</userChangeDescription>
	</version><version number="3.776.30" private="true">
		<userChangeDescription>
		  Force update
		</userChangeDescription>
	</version><version number="3.776.31" private="true">
		<userChangeDescription>
			Fix ListItem rows with duplicate titles.
		</userChangeDescription>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='label-name-sans-colon'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='link-back-to-lightbox'
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier='label-aspect-ratio'
		</sqlStatement>
		
		<sqlStatement type="all">
		    UPDATE ListItem SET Title='Label - Message (no colon)' WHERE Identifier='label-message-nc'
		</sqlStatement>
			
	</version><version number="3.776.32" private="true">
		<userChangeDescription>
			Set character set on SlideShowType table
		</userChangeDescription>
			
		<sqlStatement type="mysql">
			alter table SlideShowType default character set utf8
		</sqlStatement>
	</version><version number="3.736.33" private="true">
		<userChangeDescription>
			Add content items that are missing from some Asset Banks because they were not in 3.736.30 when it was originally released but were added later.
		</userChangeDescription>

		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) SELECT 1,'failedValidationCategories', 15, 'failedValidationCategories', 'You must put the asset in at least one #category-node#.', 1, 2 FROM DUAL WHERE NOT EXISTS (SELECT 1 FROM ListItem WHERE LanguageId = 1 AND Identifier = 'failedValidationCategories') ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) SELECT 1,'failedValidationCategories', 15, 'failedValidationCategories', 'You must put the asset in at least one #category-node#.', 1, 2 FROM DUAL WHERE NOT EXISTS (SELECT 1 FROM ListItem WHERE LanguageId = 1 AND Identifier = 'failedValidationCategories') ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) SELECT 1,'failedValidationCategories', 15, 'failedValidationCategories', 'You must put the asset in at least one #category-node#.', 1, 2 WHERE NOT EXISTS (SELECT 1 FROM ListItem WHERE LanguageId = 1 AND Identifier = 'failedValidationCategories') ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) SELECT 1,'failedValidationAccessLevels', 15, 'failedValidationAccessLevels', 'You must put the asset in at least one #access-level-node#.', 1, 2 FROM DUAL WHERE NOT EXISTS (SELECT 1 FROM ListItem WHERE LanguageId = 1 AND Identifier = 'failedValidationAccessLevels') ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) SELECT 1,'failedValidationAccessLevels', 15, 'failedValidationAccessLevels', 'You must put the asset in at least one #access-level-node#.', 1, 2 FROM DUAL WHERE NOT EXISTS (SELECT 1 FROM ListItem WHERE LanguageId = 1 AND Identifier = 'failedValidationAccessLevels') ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) SELECT 1,'failedValidationAccessLevels', 15, 'failedValidationAccessLevels', 'You must put the asset in at least one #access-level-node#.', 1, 2 WHERE NOT EXISTS (SELECT 1 FROM ListItem WHERE LanguageId = 1 AND Identifier = 'failedValidationAccessLevels') ]]>
		</sqlStatement>

	</version><version number="3.776.33" private="true">
		<userChangeDescription>

			Fix for synchronisation
		</userChangeDescription>
	</version><version number="3.776.34" private="true">
		<userChangeDescription>
			Fix for maximum open cursors exceeded error
		</userChangeDescription>
	</version><version number="3.776.35" private="true">

		<userChangeDescription>
			Fixed table field definition
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT StorageDevice ON
		</sqlStatement>

		<sqlStatement type="sqlserver">
			EXEC sp_rename 'StorageDevice.[UsedLocalSpaceInBytes]', 'UsedLocalSpaceInBytesOld', 'COLUMN'
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice ADD UsedLocalSpaceInBytes Bigint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE StorageDevice SET UsedLocalSpaceInBytes=UsedLocalSpaceInBytesOld WHERE StorageDevice.Id=StorageDevice.Id
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('StorageDevice')
			AND name = 'UsedLocalSpaceInBytesOld'
			EXEC ('ALTER TABLE [StorageDevice] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE StorageDevice DROP COLUMN UsedLocalSpaceInBytesOld
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT StorageDevice OFF
		</sqlStatement>
	</version><version number="3.777" private="true">

		<userChangeDescription>
			Initial work on Batch Releases
		</userChangeDescription>
		<appSettingChange type="add" section="general config" setting="batch-releases-enabled" value="false">
			<comment>
				Should the Asset Bank batch release functionality be enabled. Batch releases allow multiple assets to be edited and run through an approval process together before they are all released together
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">

			Create table BatchRelease (
				Id Bigint NOT NULL,
				Name Varchar(255) NOT NULL,
				CreatedByUserId Bigint NOT NULL,
				CreationDate Datetime,
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>


		<sqlStatement type="mysql">
			 Create table AssetInBatchRelease (
				AssetId Bigint NOT NULL,
				BatchReleaseId Bigint NOT NULL,
			 Primary Key (AssetId,BatchReleaseId)) ENGINE = InnoDB
		</sqlStatement>


		<sqlStatement type="mysql">
			Create table UserApprovesBatchRelease (
				AssetBankUserId Bigint NOT NULL,
				BatchReleaseId Bigint NOT NULL,
				Approved Bool DEFAULT 0,
			 Primary Key (AssetBankUserId,BatchReleaseId)) ENGINE = InnoDB
		</sqlStatement>


		<sqlStatement type="mysql">
			Alter table AssetInBatchRelease add Index IX_AIBR_Asset_FK (AssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetInBatchRelease add Constraint AIBR_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UserApprovesBatchRelease add Index IX_UABR_User_FK (AssetBankUserId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UserApprovesBatchRelease add Constraint UABR_User_FK Foreign Key (AssetBankUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table BatchRelease add Index IX_BatchRel_User_FK (CreatedByUserId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table BatchRelease add Constraint BatchRel_User_FK Foreign Key (CreatedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UserApprovesBatchRelease add Constraint UABR_BatchRel_FK Foreign Key (BatchReleaseId) references BatchRelease (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetInBatchRelease add Index IX_AIBR_BatchRel_FK (BatchReleaseId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table AssetInBatchRelease add Constraint AIBR_BatchRel_FK Foreign Key (BatchReleaseId) references BatchRelease (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [AssetInBatchRelease]
			(
				[AssetId] int NOT NULL,
				[BatchReleaseId] int NOT NULL,
			Primary Key ([AssetId],[BatchReleaseId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [BatchRelease]
			(
				[Id] int NOT NULL Identity(100,1),
				[Name] Varchar(255) NOT NULL,
				[CreatedByUserId] int NOT NULL,
				[CreationDate] Datetime NULL,
			Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [UserApprovesBatchRelease]
			(
				[AssetBankUserId] int NOT NULL,
				[BatchReleaseId] int NOT NULL,
				[Approved] Tinyint Default 0 NULL,
			Primary Key ([AssetBankUserId],[BatchReleaseId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [AssetInBatchRelease] add Constraint [AIBR_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [UserApprovesBatchRelease] add Constraint [UABR_User_FK] foreign key([AssetBankUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [BatchRelease]add Constraint [BatchRel_User_FK] foreign key([CreatedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [UserApprovesBatchRelease] add Constraint [UABR_BatchRel_FK] foreign key([BatchReleaseId]) references [BatchRelease] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [AssetInBatchRelease] add Constraint [AIBR_BatchRel_FK] foreign key([BatchReleaseId]) references [BatchRelease] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table AssetInBatchRelease (
				AssetId Double precision NOT NULL ,
				BatchReleaseId Double precision NOT NULL ,
			primary key (AssetId,BatchReleaseId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table BatchRelease (
				Id Double precision NOT NULL ,
				Name Varchar2 (255) NOT NULL ,
				CreatedByUserId Double precision NOT NULL ,
				CreationDate Date,
			primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table UserApprovesBatchRelease (
				AssetBankUserId Double precision NOT NULL ,
				BatchReleaseId Double precision NOT NULL ,
				Approved Char (1) Default 0,
			primary key (AssetBankUserId,BatchReleaseId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AssetInBatchRelease add Constraint AIBR_Asset_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table UserApprovesBatchRelease add Constraint UABR_User_FK foreign key (AssetBankUserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table BatchRelease add Constraint BatchRel_User_FK foreign key (CreatedByUserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table UserApprovesBatchRelease add Constraint UABR_BatchRel_FK foreign key (BatchReleaseId) references BatchRelease (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table AssetInBatchRelease add Constraint AIBR_BatchRel_FK foreign key (BatchReleaseId) references BatchRelease (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE BatchReleaseSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

	</version><version number="3.778" private="true">
		<userChangeDescription>
			Initial setup for messaging MessageManager
		</userChangeDescription>
		<appSettingChange type="add" section="General config" setting="messaging" value="false">
			<comment>
				Setting to switch on internal user messages
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="messages-browse-panel-number-of-messages" value="5">
			<comment>
				The number of messages to display in inc_messages_panel.jsp on the home page
			</comment>
		</appSettingChange>
		<appSettingChange type="add" section="General config" setting="messages-archive-position" value="right">
			<comment>
				The position of the archive tab in inc_user_messages_tabs.jsp used in user_messages_list.jsp
				Valid values are 'left' or 'right', any other value will disable the tab.
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-messages', 7, 'Header links - Messages', 'Messages', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-archive', 11, 'Button - Archive', 'Archive', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-acknowledge', 11, 'Button - Acknowledge', 'Acknowledge', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationAcknowledge', 15, 'failedValidationAcknowledge', 'Please indicate that you acknowledge this message.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.779" private="true">

		<userChangeDescription>
			Fix problems with batch release tables
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE BatchRelease MODIFY Id Bigint NOT NULL AUTO_INCREMENT
		</sqlStatement>

	</version><version number="3.780" private="true">

		<userChangeDescription>
			Setup for messaging (internal user Messages) and MessageManager. Updated ApplicationSettings to have more descriptive property. Added MySQL tables.
		</userChangeDescription>

		<appSettingChange type="delete" section="General config" setting="messaging" value="false">
			<comment>
				'messaging' was called 'messages' in ApplicationSettings - renamed to more descriptive: 'internal-user-messages-enabled' - see appSettingChange add below.
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="internal-user-messages-enabled" value="false">
			<comment>
				Setting to switch on internal user messages.
				New internal user messages are displayed on the user's home page and a 'Messages' link provided in the top right of Asset Bank.
			</comment>

		</appSettingChange>

		<sqlStatement type="mysql">
			Create table MessageTemplateType (
			        Id Bigint NOT NULL,
			        Name Varchar(60) NOT NULL,
			        UNIQUE (Name),
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table MessageTemplate (
			        TextId Varchar(60) NOT NULL,
			        TypeId Bigint NOT NULL,
			        LanguageId Bigint NOT NULL,
			        Code Varchar(60) NOT NULL,
			        Sender Varchar(60),
			        Recipient Varchar(225),
			        Subject Varchar(255),
			        Body Mediumtext,
			        Hidden Bool NOT NULL,
			        isEnabled Bool NOT NULL,
			 Primary Key (TextId,TypeId,LanguageId)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">

			Create table Message (
			        Id Bigint NOT NULL,
			        TextId Varchar(60) NOT NULL,
			        TypeId Bigint NOT NULL,
			        LanguageId Bigint NOT NULL,
			        RecipientId Bigint NOT NULL,
			        StatusId Int NOT NULL,
			        DateCreated Timestamp NOT NULL,
			        DateModified Timestamp,
			        Sender Varchar(60) NOT NULL,
			        Subject Varchar(255),
			        Body Mediumtext,
			        AcknowledgeRequired Bool NOT NULL,
			        RefEntityId Bigint,
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table MessageStatus (
			        Id Int NOT NULL,
			        Name Varchar(60) NOT NULL,
			        UNIQUE (Name),
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Message add Constraint Message_User_FK Foreign Key (RecipientId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">

			Alter table MessageTemplate add Constraint MessTemplate_Lang_FK Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table MessageTemplate add Constraint MessTemplate_Type_FK Foreign Key (TypeId) references MessageTemplateType (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Message add Constraint Message_MessTemplate_FK Foreign Key (TextId,TypeId,LanguageId) references MessageTemplate (TextId,TypeId,LanguageId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">

			Alter table Message add Constraint Message_Status_FK Foreign Key (StatusId) references MessageStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

	</version><version number="3.781" private="true">

		<userChangeDescription>
			Batch release work
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-batch-release-search', 7, 'Tab - Batch Release Search', 'Batch Release Search', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.782" private="true">

		<userChangeDescription>
			Setup for messaging (internal user Messages) and MessageManager. Altered MySQL Message table, added oracle and sqlserver DDL
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Message MODIFY Id Bigint NOT NULL AUTO_INCREMENT
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message MODIFY DateCreated Datetime NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message MODIFY DateModified Datetime
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message ADD RefName Varchar(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message ADD RefLink Varchar(255)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table MessageTemplateType (
				Id Integer NOT NULL ,
				Name NVarchar2(60) NOT NULL  UNIQUE ,
			primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table MessageTemplate (
				TextId NVarchar2(60) NOT NULL ,
				TypeId Integer NOT NULL ,
				LanguageId Integer NOT NULL ,
				Code NVarchar2(60) NOT NULL ,
				Sender NVarchar2(60),
				Recipient NVarchar2(225),
				Subject NVarchar2(255),
				Body NClob,
				Hidden Char (1) NOT NULL ,
				isEnabled Char (1) NOT NULL ,
			primary key (TextId,TypeId,LanguageId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table Message (
				Id Integer NOT NULL ,
				TextId NVarchar2(60) NOT NULL ,
				TypeId Integer NOT NULL ,
				LanguageId Integer NOT NULL ,
				RecipientId Integer NOT NULL ,
				StatusId Integer NOT NULL ,
				DateCreated Date NOT NULL ,
				DateModified Date,
				Sender NVarchar2(60) NOT NULL ,
				Subject NVarchar2(255),
				Body NClob,
				AcknowledgeRequired Char (1) NOT NULL ,
				RefEntityId Integer,
				RefName NVarchar2(255),
				RefLink NVarchar2(255),
			primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table MessageStatus (
				Id Integer NOT NULL ,
				Name NVarchar2(60) NOT NULL  UNIQUE ,
			primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [MessageTemplateType]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(60) NOT NULL, UNIQUE ([Name]),
			Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [MessageTemplate]
			(
				[TextId] Nvarchar(60) NOT NULL,
				[TypeId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Code] Nvarchar(60) NOT NULL,
				[Sender] Nvarchar(60) NULL,
				[Recipient] Nvarchar(225) NULL,
				[Subject] Nvarchar(255) NULL,
				[Body] Ntext NULL,
				[Hidden] Tinyint NOT NULL,
				[isEnabled] Tinyint NOT NULL,
			Primary Key ([TextId],[TypeId],[LanguageId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [Message]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[TextId] Nvarchar(60) NOT NULL,
				[TypeId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[RecipientId] Integer NOT NULL,
				[StatusId] Integer NOT NULL,
				[DateCreated] Datetime NOT NULL,
				[DateModified] Datetime NULL,
				[Sender] Nvarchar(60) NOT NULL,
				[Subject] Nvarchar(255) NULL,
				[Body] Ntext NULL,
				[AcknowledgeRequired] Tinyint NOT NULL,
				[RefEntityId] Integer NULL,
				[RefName] Nvarchar(255) NULL,
				[RefLink] Nvarchar(255) NULL,
			Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [MessageStatus]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(60) NOT NULL, UNIQUE ([Name]),
			Primary Key ([Id])
			)
		</sqlStatement>

	</version><version number="3.783" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-batch-release-search', 12, 'Link - Back to batch release search', '&laquo; Batch release search', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-new-batch-release', 12, 'Link - Add new batch release', 'Add new batch release &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-matching-batch-releases', 13, 'Snippet - No matching batch releases found', 'No matching batch releases found.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-approval-users', 10, 'Subhead - Approval Users', 'Approval Users', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'batch-release', 8, 'Batch release', 'Batch release', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-batch-release-search', 10, 'Heading - Batch Release Search', 'Batch Release Search', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-batch-release-search', 16, 'Title - Batch release search', '#company-name# | #heading-batch-release-search#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-status', 9, 'Label - Status', 'Status:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-notes', 9, 'Label - Notes', 'Notes:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-run-last-search', 12, 'Link - Run last search', 'Run last search &raquo;', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE BatchRelease ADD Notes Mediumtext NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE BatchRelease ADD Notes Varchar2 (4000) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [BatchRelease] ADD [Notes] Varchar(4000) NULL
		</sqlStatement>

	</version><version number="3.784" private="true">

		<userChangeDescription>
			Setup for messaging (internal user Messages) and MessageManager. Added oracle and sqlserver DDL Constraints
		</userChangeDescription>

		<sqlStatement type="oracle">
			Alter table Message add Constraint Message_User_FK foreign key (RecipientId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table MessageTemplate add Constraint MessTemplate_Lang_FK foreign key (LanguageId) references Language (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table MessageTemplate add Constraint MessTemplate_Type_FK foreign key (TypeId) references MessageTemplateType (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Message add Constraint Message_MessTemplate_FK foreign key (TextId,TypeId,LanguageId) references MessageTemplate (TextId,TypeId,LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Message add Constraint Message_Status_FK foreign key (StatusId) references MessageStatus (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Message] add Constraint [Message_User_FK] foreign key([RecipientId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [MessageTemplate] add Constraint [MessTemplate_Lang_FK] foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [MessageTemplate] add Constraint [MessTemplate_Type_FK] foreign key([TypeId]) references [MessageTemplateType] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Message] add Constraint [Message_MessTemplate_FK] foreign key([TextId],[TypeId],[LanguageId]) references [MessageTemplate] ([TextId],[TypeId],[LanguageId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
				Alter table [Message] add Constraint [Message_Status_FK] foreign key([StatusId]) references [MessageStatus] ([Id])  on update no action on delete no action
		</sqlStatement>

	</version><version number="3.785" private="true">

		<userChangeDescription>
			Setup for messaging (internal user Messages) and MessageManager. Added cms:write ListItems for JSP pages
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-from', 9, 'Label - From', 'From', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-new-user-messages', 10, 'Heading - New User Messages', 'New User Messages', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-all-messages', 12, 'Link - View all messages', 'View all messages &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-read', 12, 'Link - Read', 'read', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-my-messages', 10, 'Heading - My Messages', 'My Messages', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-my-messages', 16, 'Title - My Messages', '#company-name# | #heading-my-messages#', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-messages-current', 7, 'Tab - Messages Current', 'Current', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-messages-archive', 7, 'Tab - Messages Archive', 'Archive', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-message-acknowledgement-text', 13, 'Snippet - Message acknowledgement text', 'I acknowledge', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.786" private="true">
		<userChangeDescription>
			InDesign schema: added InDesignPDFGenError table
		</userChangeDescription>

		<sqlStatement type="mysql">
Create table InDesignPDFGenError (
	AssetId Bigint NOT NULL,
	SequenceNumber Int NOT NULL,
	Message Mediumtext NOT NULL,
	UNIQUE (SequenceNumber)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFGenError add Index IX_InDPDFGenError_InDAsset_FK (AssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFGenError add Constraint InDPDFGenError_InDAsset_FK Foreign Key (AssetId) references InDesignAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">

Create table [InDesignPDFGenError]
(
	[AssetId] Integer NOT NULL,
	[SequenceNumber] Integer NOT NULL, UNIQUE ([SequenceNumber]),
	[Message] Ntext NOT NULL
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDPDFGenError_InDAsset_FK] ON [InDesignPDFGenError] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignPDFGenError] add Constraint [InDPDFGenError_InDAsset_FK] foreign key([AssetId]) references [InDesignAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignPDFGenError (
	AssetId Integer NOT NULL ,
	SequenceNumber Integer NOT NULL  UNIQUE ,
	Message NClob NOT NULL
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDPDFGenError_InDAsset_FK ON InDesignPDFGenError (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignPDFGenError add Constraint InDPDFGenError_InDAsset_FK foreign key (AssetId) references InDesignAsset (AssetId)
		</sqlStatement>

	</version><version number="3.787" private="true">

		<userChangeDescription>
			Removed IsConversionTarget from video formats that can't (always) be converted to with ffmpeg - f4v, m4v, m2v
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE FileFormat SET IsConversionTarget=0 WHERE FileExtension='f4v' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE FileFormat SET IsConversionTarget=0 WHERE FileExtension='m4v' ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE FileFormat SET IsConversionTarget=0 WHERE FileExtension='m2v' ]]>
		</sqlStatement>

	</version><version number="3.788" private="true">
		<userChangeDescription>

			Added description field to batch releases
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE BatchRelease ADD Description Mediumtext NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE BatchRelease ADD Description Varchar2 (4000) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">

			ALTER TABLE [BatchRelease] ADD [Description] Varchar(4000) NULL
		</sqlStatement>

	</version><version number="3.789" private="true">
		<userChangeDescription>
			Added release date field to batch releases
		</userChangeDescription>

		<sqlStatement type="mysql">

			ALTER TABLE BatchRelease ADD ReleaseDate Datetime NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE BatchRelease ADD ReleaseDate Date NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [BatchRelease] ADD [ReleaseDate] Datetime NULL
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-release-date', 9, 'Label - Release date', 'Release date:', 1, 2) ]]>
		</sqlStatement>


	</version><version number="3.790" private="true">
		<userChangeDescription>
			Enhancements to batch release searching and management
		</userChangeDescription>

		<appSettingChange type="add" section="general config" setting="batch-releases-recent-release-days" value="10">
			<comment>
				The period to take into account when retreiving recently released batch releases to display on the batch release management page (in days)
			</comment>
		</appSettingChange>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-manage-batch-releases', 10, 'Heading - Manage Batch Releases', 'Manage Batch Releases', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-manage-batch-releases', 16, 'Title - Manage Batch Releases', '#company-name# | #heading-manage-batch-releases#', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.791" private="true">
		<userChangeDescription>

			Batch release management page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-unreleased-batch-releases', 10, 'Heading - Unreleased batch releases', 'Unreleased batch releases', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-recently-released-batch-releases', 10, 'Heading - Recently released batch releases', 'Recently released batch releases', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-batch-release-search', 12, 'Link - Batch release search', 'Batch release search', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-manage-batch-releases', 12, 'Link - Manage batch releases', 'Manage batch releases', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.792" private="true">
		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-add-asset-to-batch-release', 10, 'Heading - Add Asset to Batch Release', 'Add Asset to Batch Release', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-add-asset-to-batch-release', 16, 'Title - Add Asset to Batch Release', '#company-name# | #heading-add-asset-to-batch-release#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-asset-to-batch-release', 13, 'Snippet - Add Asset to Batch Release', '<p>Select the batch release you want to add this asset to from the list below and click Add &raquo;</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-batch-releases-to-add-to', 13, 'Snippet - No batch releases to add to', '<p>There are no unreleased batch releases to add this asset to.</p>', 1, 2) ]]>

		</sqlStatement>

	</version><version number="3.793" private="true">
		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedDeleteBatchRelease', 15, 'failedDeleteBatchRelease', 'Unable to delete this batch release because there are assets associated with it.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.794" private="true">
		<userChangeDescription>
			InDesignJobService updates to RDBMS tables
		</userChangeDescription>

		<sqlStatement type="sqlserver">

			SET IDENTITY_INSERT InDesignPDFJobStatus ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFJobStatus (Id, Name) VALUES (3, 'Completed')

		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFJobStatus (Id, Name) VALUES (4, 'Failed')
		</sqlStatement>

		<sqlStatement type="sqlserver">

			SET IDENTITY_INSERT InDesignPDFJobStatus OFF
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignPDFJob ADD JobType Varchar(50) NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignPDFJob ADD JobType NVarchar(50) NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">

			ALTER TABLE InDesignPDFJob ADD JobType NVarchar2(50) NOT NULL
		</sqlStatement>

	</version><version number="3.795" private="true">
		<userChangeDescription>
			Revised batch release content to use common term
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='batch release' WHERE Identifier='batch-release' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'batch-releases', 8, 'Batch releases', 'batch releases', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='#batch-release# Search' WHERE Identifier='tab-batch-release-search' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='&laquo; #batch-release# search' WHERE Identifier='link-back-to-batch-release-search' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Add new #batch-release# &raquo;' WHERE Identifier='link-add-new-batch-release' ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='No matching #batch-releases# found.' WHERE Identifier='snippet-no-matching-batch-releases' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='#batch-release# Search' WHERE Identifier='heading-batch-release-search' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Manage #batch-releases#' WHERE Identifier='heading-manage-batch-releases' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Unreleased #batch-releases#' WHERE Identifier='heading-unreleased-batch-releases' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Recently released #batch-releases#' WHERE Identifier='heading-recently-released-batch-releases' ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='#batch-release# search' WHERE Identifier='link-batch-release-search' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Manage #batch-releases#' WHERE Identifier='link-manage-batch-releases' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Add Asset to #batch-release#' WHERE Identifier='heading-add-asset-to-batch-release' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>Select the #batch-release# you want to add this asset to from the list below and click Add &raquo;</p>' WHERE Identifier='snippet-add-asset-to-batch-release' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>There are no unreleased #batch-releases# to add this asset to.</p>' WHERE Identifier='snippet-no-batch-releases-to-add-to' ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='Unable to delete this #batch-release# because there are assets associated with it.' WHERE Identifier='failedDeleteBatchRelease' ]]>
		</sqlStatement>

	</version><version number="3.796" private="true">
		<userChangeDescription>
			Enable restriction on the number of parent links shown on the view asset page
		</userChangeDescription>

		<appSettingChange type="add" section="general config" setting="maximum-parent-links-on-view" value="10">

			<comment>
				The maximum number of links that will be displayed on the view asset page to parent assets.
			</comment>
		</appSettingChange>

	</version><version number="3.797" private="true">

		<userChangeDescription>
			InDesign schema change: rename InDesignAsset to InDesignDocumentAsset
		</userChangeDescription>

		<sqlStatement type="mysql">
Create table InDesignDocumentAsset (
	AssetId Bigint NOT NULL,
	IsTemplate Bool NOT NULL,
	TemplateAssetId Bigint,
	InDesignDocumentId Bigint,
	PDFStatusId Int,
	PDFStatusChangeDate Datetime,
 Primary Key (AssetId)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create table [InDesignDocumentAsset]
(
	[AssetId] Integer NOT NULL,
	[IsTemplate] Tinyint NOT NULL,
	[TemplateAssetId] Integer NULL,
	[InDesignDocumentId] Integer NULL,
	[PDFStatusId] Integer NULL,
	[PDFStatusChangeDate] Datetime NULL,
Constraint [pk_InDesignDocumentAsset] Primary Key ([AssetId])
)
		</sqlStatement>

		<sqlStatement type="oracle">
Create table InDesignDocumentAsset (
	AssetId Integer NOT NULL ,
	IsTemplate Char (1) NOT NULL ,
	TemplateAssetId Integer,
	InDesignDocumentId Integer,
	PDFStatusId Integer,
	PDFStatusChangeDate Date,
 Constraint pk_InDesignDocumentAsset primary key (AssetId)
)
		</sqlStatement>

		<sqlStatement type="all">

INSERT INTO InDesignDocumentAsset (AssetId, IsTemplate, TemplateAssetId, InDesignDocumentId, PDFStatusId, PDFStatusChangeDate) SELECT AssetId, IsTemplate, TemplateAssetId, InDesignDocumentId, PDFStatusId, PDFStatusChangeDate FROM InDesignAsset
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocumentAsset add Constraint InDDAsset_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocumentAsset add Index IX_InDDAsset_TemplInDAsset_FK (TemplateAssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocumentAsset add Constraint InDDAsset_TemplInDAsset_FK Foreign Key (TemplateAssetId) references InDesignDocumentAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFJob add Constraint InDPDFJob_InDDAsset_FK Foreign Key (AssetId) references InDesignDocumentAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignPDFGenError add Constraint InDPDFGenError_InDDAsset_FK Foreign Key (AssetId) references InDesignDocumentAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocumentAsset add Index IX_InDDAsset_InDD_FK (InDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="mysql">

Alter table InDesignDocumentAsset add Constraint InDDAsset_InDD_FK Foreign Key (InDesignDocumentId) references InDesignDocument (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocumentAsset add Index IX_InDDAsset_InDPDFStatus_FK (PDFStatusId)
		</sqlStatement>

		<sqlStatement type="mysql">
Alter table InDesignDocumentAsset add Constraint InDDAsset_InDPDFStatus_FK Foreign Key (PDFStatusId) references InDesignPDFStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
ALTER TABLE InDesignPDFJob DROP FOREIGN KEY InDPDFJob_InDAsset_FK
		</sqlStatement>

		<sqlStatement type="mysql">
ALTER TABLE InDesignPDFGenError DROP FOREIGN KEY InDPDFGenError_InDAsset_FK
		</sqlStatement>

		<sqlStatement type="mysql">
DROP TABLE InDesignAsset
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDDAsset_Asset_FK] ON [InDesignDocumentAsset] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">

Alter table [InDesignDocumentAsset] add Constraint [InDDAsset_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDDAsset_TemplInDAsset_FK] ON [InDesignDocumentAsset] ([TemplateAssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignDocumentAsset] add Constraint [InDDAsset_TemplInDAsset_FK] foreign key([TemplateAssetId]) references [InDesignDocumentAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignPDFJob] add Constraint [InDPDFJob_InDDAsset_FK] foreign key([AssetId]) references [InDesignDocumentAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignPDFGenError] add Constraint [InDPDFGenError_InDDAsset_FK] foreign key([AssetId]) references [InDesignDocumentAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDDAsset_InDD_FK] ON [InDesignDocumentAsset] ([InDesignDocumentId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignDocumentAsset] add Constraint [InDDAsset_InDD_FK] foreign key([InDesignDocumentId]) references [InDesignDocument] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">

Create Index [IX_InDDAsset_InDPDFStatus_FK] ON [InDesignDocumentAsset] ([PDFStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
Alter table [InDesignDocumentAsset] add Constraint [InDDAsset_InDPDFStatus_FK] foreign key([PDFStatusId]) references [InDesignPDFStatus] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
ALTER TABLE InDesignPDFJob DROP CONSTRAINT InDPDFJob_InDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
ALTER TABLE InDesignPDFGenError DROP CONSTRAINT InDPDFGenError_InDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
DROP TABLE InDesignAsset
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignDocumentAsset add Constraint InDDAsset_Asset_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDDAsset_TemplInDAsset_FK ON InDesignDocumentAsset (TemplateAssetId)
		</sqlStatement>

		<sqlStatement type="oracle">

Alter table InDesignDocumentAsset add Constraint InDDAsset_TemplInDAsset_FK foreign key (TemplateAssetId) references InDesignDocumentAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignPDFJob add Constraint InDPDFJob_InDDAsset_FK foreign key (AssetId) references InDesignDocumentAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignPDFGenError add Constraint InDPDFGenError_InDDAsset_FK foreign key (AssetId) references InDesignDocumentAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDDAsset_InDD_FK ON InDesignDocumentAsset (InDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignDocumentAsset add Constraint InDDAsset_InDD_FK foreign key (InDesignDocumentId) references InDesignDocument (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
Create Index IX_InDDAsset_InDPDFStatus_FK ON InDesignDocumentAsset (PDFStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
Alter table InDesignDocumentAsset add Constraint InDDAsset_InDPDFStatus_FK foreign key (PDFStatusId) references InDesignPDFStatus (Id)
		</sqlStatement>

		<sqlStatement type="oracle">

ALTER TABLE InDesignPDFJob DROP CONSTRAINT InDPDFJob_InDAsset_FK
		</sqlStatement>

		<sqlStatement type="oracle">
ALTER TABLE InDesignPDFGenError DROP CONSTRAINT InDPDFGenError_InDAsset_FK
		</sqlStatement>

		<sqlStatement type="oracle">
DROP TABLE InDesignAsset
		</sqlStatement>

	</version><version number="3.798" private="true">

		<userChangeDescription>
			Batch release changes
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-delete-batch-release', 14, 'Javascript - confirm delete batch release', 'Are you sure you want to delete this batch release?', 1, 3)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-current-batch-release', 10, 'Heading - Current Batch Release', 'Current #batch-release#', 1, 2)
		</sqlStatement>

	</version><version number="3.799" private="true">
		<userChangeDescription>
			Batch release errors
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table BatchReleaseError (
				Id Bigint NOT NULL AUTO_INCREMENT,
				AssetId Bigint NULL,
				BatchReleaseId Bigint NOT NULL,
				ErrorText Mediumtext,
				SequenceNumber Int,
			 Primary Key (Id)) ENGINE = InnoDB
		 </sqlStatement>

		<sqlStatement type="mysql">
			Alter table BatchReleaseError add Constraint Asset_BRE_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table BatchReleaseError add Constraint BatchRelease_BRE_FK Foreign Key (BatchReleaseId) references BatchRelease (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [BatchReleaseError]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[AssetId] Integer NULL,
				[BatchReleaseId] Integer NOT NULL,
				[ErrorText] Ntext NULL,
				[SequenceNumber] Integer NULL,
			Constraint [pk_BatchReleaseError] Primary Key ([Id])
			)
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create Index [IX_Asset_BRE_FK] ON [BatchReleaseError] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [BatchReleaseError] add Constraint [Asset_BRE_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_BatchRelease_BRE_FK] ON [BatchReleaseError] ([BatchReleaseId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [BatchReleaseError] add Constraint [BatchRelease_BRE_FK] foreign key([BatchReleaseId]) references [BatchRelease] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table BatchReleaseError (
			Id Integer NOT NULL ,
			AssetId Integer NULL ,
			BatchReleaseId Integer NOT NULL ,
			ErrorText NClob,
			SequenceNumber Integer,
			Constraint pk_BatchReleaseError primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_Asset_BRE_FK ON BatchReleaseError (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table BatchReleaseError add Constraint Asset_BRE_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_BatchRelease_BRE_FK ON BatchReleaseError (BatchReleaseId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table BatchReleaseError add Constraint BatchRelease_BRE_FK foreign key (BatchReleaseId) references BatchRelease (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE BatchReleaseErrorSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE BatchRelease ADD Status Int NOT NULL DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE BatchRelease ADD Status Integer DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [BatchRelease] ADD [Status] Integer NOT NULL DEFAULT 0
		</sqlStatement>

	</version><version number="3.800" private="true">

		<userChangeDescription>
			InDesign Job Service updates. Renamed InDesignPDFJob, InDesignPDFJobStatus to InDesignJob, InDesignJobStatus. Added InDesignFailedJob. Column updates.
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table InDesignJob (
				Id Bigint NOT NULL AUTO_INCREMENT,
				AssetId Bigint NOT NULL,
				JobStatusId Int NOT NULL,
				JobType Varchar(50) NOT NULL,
				DateCreated Datetime NOT NULL,
				DateModified Datetime,
			 	Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table InDesignJobStatus (
				Id Int NOT NULL,
				Name Varchar(255) NOT NULL,
		 		Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table InDesignFailedJob (
				Id Bigint NOT NULL,
				AssetId Bigint NOT NULL,
				JobStatusId Int NOT NULL,
				JobType Varchar(50) NOT NULL,
				DateCreated Datetime NOT NULL,
				DateModified Datetime NOT NULL,
				Message Mediumtext NOT NULL,
			 	Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignJob add Index IX_InDJob_InDDAsset_FK (AssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignJob add Index IX_InDJob_JobStatus_FK (JobStatusId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignJob add Constraint InDJob_InDDAsset_FK Foreign Key (AssetId) references InDesignDocumentAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignJob add Constraint InDJob_JobStatus_FK Foreign Key (JobStatusId) references InDesignJobStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignFailedJob add Constraint InDFailJob_InDDAsset_FK Foreign Key (AssetId) references InDesignDocumentAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignFailedJob add Constraint InDFailJob_JobStatus_FK Foreign Key (JobStatusId) references InDesignJobStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignPDFJob drop Foreign Key InDPDFJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignPDFJob drop Foreign Key InDPDFJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="mysql">
			Drop table InDesignPDFJob
		</sqlStatement>

		<sqlStatement type="mysql">
			Drop table InDesignPDFJobStatus
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table InDesignJob (
				Id Integer NOT NULL ,
				AssetId Integer NOT NULL ,
				JobStatusId Integer NOT NULL ,
				JobType NVarchar2(50) NOT NULL ,
				DateCreated Date NOT NULL ,
				DateModified Date,
			 Constraint pk_InDesignJob primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table InDesignJobStatus (
				Id Integer NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
			 Constraint pk_InDesignJobStatus primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table InDesignFailedJob (
				Id Integer NOT NULL ,
				AssetId Integer NOT NULL ,
				JobStatusId Integer NOT NULL ,
				JobType NVarchar2(50) NOT NULL ,
				DateCreated Date NOT NULL ,
				DateModified Date NOT NULL ,
				Message NClob NOT NULL ,
			 Constraint pk_InDesignFailedJob primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDJob_InDDAsset_FK ON InDesignJob (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table InDesignJob add Constraint InDJob_InDDAsset_FK foreign key (AssetId) references InDesignDocumentAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDFailJob_InDDAsset_FK ON InDesignFailedJob (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table InDesignFailedJob add Constraint InDFailJob_InDDAsset_FK foreign key (AssetId) references InDesignDocumentAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDJob_JobStatus_FK ON InDesignJob (JobStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table InDesignJob add Constraint InDJob_JobStatus_FK foreign key (JobStatusId) references InDesignJobStatus (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDFailJob_JobStatus_FK ON InDesignFailedJob (JobStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table InDesignFailedJob add Constraint InDFailJob_JobStatus_FK foreign key (JobStatusId) references InDesignJobStatus (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignPDFJob DROP CONSTRAINT InDPDFJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignPDFJob DROP CONSTRAINT InDPDFJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			DROP TABLE InDesignPDFJob
		</sqlStatement>

		<sqlStatement type="oracle">
			DROP TABLE InDesignPDFJobStatus
		</sqlStatement>

		<sqlStatement type="oracle">
			DROP SEQUENCE InDesignPDFJobSequence
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE InDesignJobSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [InDesignJob]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[AssetId] Integer NOT NULL,
				[JobStatusId] Integer NOT NULL,
				[JobType] Nvarchar(50) NOT NULL,
				[DateCreated] Datetime NOT NULL,
				[DateModified] Datetime NULL,
			Constraint [pk_InDesignJob] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [InDesignJobStatus]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NOT NULL,
			Constraint [pk_InDesignJobStatus] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [InDesignFailedJob]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[AssetId] Integer NOT NULL,
				[JobStatusId] Integer NOT NULL,
				[JobType] Nvarchar(50) NOT NULL,
				[DateCreated] Datetime NOT NULL,
				[DateModified] Datetime NOT NULL,
				[Message] Ntext NOT NULL,
			Constraint [pk_InDesignFailedJob] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDJob_InDDAsset_FK] ON [InDesignJob] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [InDesignJob] add Constraint [InDJob_InDDAsset_FK] foreign key([AssetId]) references [InDesignDocumentAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDJob_JobStatus_FK] ON [InDesignJob] ([JobStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [InDesignJob] add Constraint [InDJob_JobStatus_FK] foreign key([JobStatusId]) references [InDesignJobStatus] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDFailJob_InDDAsset_FK] ON [InDesignFailedJob] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [InDesignFailedJob] add Constraint [InDFailJob_InDDAsset_FK] foreign key([AssetId]) references [InDesignDocumentAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDFailJob_JobStatus_FK] ON [InDesignFailedJob] ([JobStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [InDesignFailedJob] add Constraint [InDFailJob_JobStatus_FK] foreign key([JobStatusId]) references [InDesignJobStatus] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignPDFJob DROP CONSTRAINT InDPDFJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignPDFJob DROP CONSTRAINT InDPDFJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DROP TABLE InDesignPDFJob
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DROP TABLE InDesignPDFJobStatus
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT InDesignJobStatus ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignJobStatus (Id, Name) VALUES (1, 'Pending')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignJobStatus (Id, Name) VALUES (2, 'Running')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignJobStatus (Id, Name) VALUES (3, 'Completed')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignJobStatus (Id, Name) VALUES (4, 'Failed')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT InDesignJobStatus OFF
		</sqlStatement>

	</version><version number="3.801" private="true">

		<userChangeDescription>
			InDesign: add indexes that are in datamodel.dm2 but were omitted from version 3.797 in changes.xml
		</userChangeDescription>

		<sqlStatement type="mysql">
Alter table InDesignPDFGenError add Index IX_InDPDFGenError_InDDAsset_FK (AssetId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
Create Index [IX_InDPDFGenError_InDDAsset_FK] ON [InDesignPDFGenError] ([AssetId])
		</sqlStatement>

	</version><version number="3.802" private="true">

		<userChangeDescription>
			Changes to saved searches, adding featured searches and updating the administration of saved searches
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-recommended-searches', 13, 'Snippet - no recommended searches', 'You currently don&#39;t have any recommended searches.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-featured-searches', 13, 'Snippet - no featured searches', 'You currently don&#39;t have any featured searches.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-featured-searches', 10, 'Heading - Featured Searches', 'Featured Searches', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Saved Searches' WHERE Identifier='tab-saved-searches' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-recent-searches', 7, 'Tab - Recent Searches', 'Recent Searches', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'homepage-view-more', 1, 'Home Page Feature Search View More', 'Home Page Feature Search View More', 'view more &#187;', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-recent-searches', 16, 'Title - Recent Searches', '#company-name# | #heading-recent-searches#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'duplicateSavedSearchForNewSavedSearch', 15, 'duplicateSavedSearchForNewSavedSearch', 'There is already a saved search with the same name', 1, 2) ]]>
		</sqlStatement>

		<!-- droping previous Primary Keys, and adding ID as Primary Key -->
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch DROP PRIMARY KEY
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD Id Bigint NOT NULL KEY AUTO_INCREMENT
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [SavedSearchTemp]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NOT NULL,
				[UserId] Integer NOT NULL,
				[Keywords] Nvarchar(255) NULL,
				[IsRssFeed] Tinyint Default 0 NOT NULL,
				[IsBuilderSearch] Tinyint Default 0 NOT NULL,
				[IsDescending] Tinyint Default 0 NOT NULL,
				[SortAttributeId] Integer NULL,
				[Promoted] Tinyint Default 0 NULL,
				[AvailableToAll] Tinyint Default 0 NULL,
				[Featured] Tinyint Default 0 NULL,
				[SearchImage] Nvarchar(250) NULL,
				[NewAssetAlert] Tinyint Default 0 NULL,
				[SearchCriteriaFile] Nvarchar(250) NULL,
				[Description] Ntext NULL
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			INSERT INTO [SavedSearchTemp] ( [Name], [UserId], [Keywords], [IsRssFeed], [IsBuilderSearch], [IsDescending], [SortAttributeId], [Promoted], [AvailableToAll], [SearchImage], [NewAssetAlert], [SearchCriteriaFile] ) SELECT [Name], [UserId], [Keywords], [IsRssFeed], [IsBuilderSearch], [IsDescending], [SortAttributeId], [Promoted], [AvailableToAll], [SearchImage], [NewAssetAlert], [SearchCriteriaFile] FROM [SavedSearch]
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DROP TABLE [SavedSearch]
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [SavedSearch2]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NOT NULL,
				[UserId] Integer NOT NULL,
				[Keywords] Nvarchar(255) NULL,
				[IsRssFeed] Tinyint Default 0 NOT NULL,
				[IsBuilderSearch] Tinyint Default 0 NOT NULL,
				[IsDescending] Tinyint Default 0 NOT NULL,
				[SortAttributeId] Integer NULL,
				[Promoted] Tinyint Default 0 NULL,
				[AvailableToAll] Tinyint Default 0 NULL,
				[Featured] Tinyint Default 0 NULL,
				[SearchImage] Nvarchar(250) NULL,
				[NewAssetAlert] Tinyint Default 0 NULL,
				[SearchCriteriaFile] Nvarchar(250) NULL,
				[Description] Ntext NULL,
			Constraint [pk_SavedSearch] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_SS_UserId] ON [SavedSearch2] ([UserId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [SavedSearch2] add Constraint [Relationship_SS] foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			INSERT INTO [SavedSearch2] ( [Name], [UserId], [Keywords], [IsRssFeed], [IsBuilderSearch], [IsDescending], [SortAttributeId], [Promoted], [AvailableToAll], [SearchImage], [NewAssetAlert], [SearchCriteriaFile] ) SELECT [Name], [UserId], [Keywords], [IsRssFeed], [IsBuilderSearch], [IsDescending], [SortAttributeId], [Promoted], [AvailableToAll], [SearchImage], [NewAssetAlert], [SearchCriteriaFile] FROM [SavedSearchTemp]
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DROP TABLE [SavedSearchTemp]
		</sqlStatement>

		<sqlStatement type="sqlserver">
			sp_rename 'SavedSearch2', 'SavedSearch'
		</sqlStatement>

		<sqlStatement type="oracle">
    		Create table SavedSearchTemp (
				Id Integer NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
				UserId Integer NOT NULL ,
				Keywords NVarchar2(255),
				IsRssFeed Char (1) Default 0 NOT NULL ,
				IsBuilderSearch Char (1) Default 0 NOT NULL ,
				IsDescending Char (1) Default 0 NOT NULL ,
				SortAttributeId Integer,
				Promoted Char (1) Default 0,
				AvailableToAll Char (1) Default 0,
				Featured Char (1) Default 0,
				SearchImage NVarchar2(250),
				NewAssetAlert Char (1) Default 0,
				SearchCriteriaFile NVarchar2(250),
				Description NClob
			)
		</sqlStatement>

		<sqlStatement type="oracle">
	      	INSERT INTO SavedSearchTemp ( Name, UserId, Keywords, IsRssFeed, IsBuilderSearch, IsDescending, SortAttributeId, Promoted, AvailableToAll, SearchImage, NewAssetAlert, SearchCriteriaFile )  SELECT Name, UserId, Keywords, IsRssFeed, IsBuilderSearch, IsDescending, SortAttributeId, Promoted, AvailableToAll, SearchImage, NewAssetAlert, SearchCriteriaFile FROM SavedSearch
		</sqlStatement>

		<sqlStatement type="oracle">
	      	DROP TABLE SavedSearch
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table SavedSearch2 (
				Id Integer NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
				UserId Integer NOT NULL ,
				Keywords NVarchar2(255),
				IsRssFeed Char (1) Default 0 NOT NULL ,
				IsBuilderSearch Char (1) Default 0 NOT NULL ,
				IsDescending Char (1) Default 0 NOT NULL ,
				SortAttributeId Integer,
				Promoted Char (1) Default 0,
				AvailableToAll Char (1) Default 0,
				Featured Char (1) Default 0,
				SearchImage NVarchar2(250),
				NewAssetAlert Char (1) Default 0,
				SearchCriteriaFile NVarchar2(250),
				Description NClob,
			 Constraint pk_SavedSearch primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_SS_UserId ON SavedSearch2 (UserId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table SavedSearch2 add Constraint Relationship_SS foreign key (UserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			INSERT INTO SavedSearch2 ( Name, UserId, Keywords, IsRssFeed, IsBuilderSearch, IsDescending, SortAttributeId, Promoted, AvailableToAll, SearchImage, NewAssetAlert, SearchCriteriaFile )  SELECT Name, UserId, Keywords, IsRssFeed, IsBuilderSearch, IsDescending, SortAttributeId, Promoted, AvailableToAll, SearchImage, NewAssetAlert, SearchCriteriaFile FROM SavedSearchTemp
		</sqlStatement>

		<sqlStatement type="oracle">
			DROP TABLE SavedSearchTemp
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE SavedSearch2 RENAME TO SavedSearch
		</sqlStatement>

		<!-- adding Description -->
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD Description Longtext
		</sqlStatement>

		<!-- adding Featured -->
		<sqlStatement type="mysql">
			ALTER TABLE SavedSearch ADD Featured Bool DEFAULT 0
		</sqlStatement>

	</version><version number="3.803" private="true">
		<userChangeDescription>
			Batch release error work
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'subhead-error-log', 10, 'Subheading - Error log', 'Error log', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.804" private="true">
		<userChangeDescription>
			Added assetbox date added, assetbox modified date and a field to check if the assetbox is made public and adding the titles, labels for editing lightboxes and public lightboxes
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetBox ADD IsPublic Bool Default '0' NOT NULL
		</sqlStatement>
		<sqlStatement type="mysql">

			ALTER TABLE AssetBox ADD TimeAdded Datetime
		</sqlStatement>
		<sqlStatement type="mysql">
			ALTER TABLE AssetBox ADD ModifiedDateTime Datetime
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AssetBox ADD IsPublic Char(1) Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE AssetBox ADD TimeAdded Date
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AssetBox ADD ModifiedDateTime Date
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [AssetBox] ADD [IsPublic] Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE [AssetBox] ADD [TimeAdded] Datetime
		</sqlStatement>
		<sqlStatement type="sqlserver">

			ALTER TABLE [AssetBox] ADD [ModifiedDateTime] Datetime
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-created-timestamp', 9, 'Label - Created Timestamp', 'Created Timestamp', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-modified-timestamp', 9, 'Label - Modified Timestamp', 'Last Modified At', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-copymove-identifier', 9, 'Label - CopyMove Identifier', 'I would like to:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-copy-items', 9, 'Label - Copy Items', 'copy the #items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-move-items', 9, 'Label - Move Items', 'move the #items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1,'tab-public-lightboxes', 7, 'Tab - Public Lightboxes', 'Public Lightboxes', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) values (1,'title-public-lightboxes', 16, 'Title - Public Lightboxes', '#company-name# | Public #lightboxes#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1,'label-isPublic', 9, 'Label - Is Public?', 'Is Public?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1,'title-edit-lightbox', 16, 'Title - Edit Lightbox', '#company-name# | Edit #a-lightbox#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1,'intro-edit-lightbox', 1, 'Intro - Edit lightbox', '<p>Edit #a-lightbox# <strong>?prevName?</strong></p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1,'heading-copy-move', 10, 'Heading - Copy or Move #items#', 'Copy or Move #items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'title-copy-move', 16, 'Title - Copy or Move #items#', '#company-name# | Copy or Move #items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-copied-asset', 13, 'Snippet - Copied Asset', '#item# was successfully copied to ', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
					<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-copied-assets', 13, 'Snippet - Copied Assets', '#items# were successfully copied to ', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

					<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-moved-asset', 13, 'Snippet - Moved Asset', '#item# was successfully copied to ', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
					<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-moved-assets', 13, 'Snippet - Moved Assets', '#items# were successfully moved to ', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.805" private="true">

		<userChangeDescription>
			Added message refdata
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT MessageTemplateType ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageTemplateType (Id,Name) VALUES (1,'General')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageTemplateType (Id,Name) VALUES (2,'Batch Release Notification')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT MessageTemplateType OFF
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageTemplate (LanguageId, TypeId, TextId, Code, Subject, Body, Hidden, isEnabled) VALUES (1,1,'batch_release_alert_approvers','alert batch release approvers','Batch release requires approval','The batch release #name# is ready for your approval. Click the following link #url# to view details of the batch release and approve it.',0,1)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT MessageStatus ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageStatus (Id,Name) VALUES (1,'NEW')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageStatus (Id,Name) VALUES (2,'READ')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageStatus (Id,Name) VALUES (3,'DISMISSED')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageStatus (Id,Name) VALUES (4,'ACKNOWLEDGED')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageStatus (Id,Name) VALUES (5,'DELETED')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT MessageStatus OFF
		</sqlStatement>

	</version><version number="3.806" private="true">
		<userChangeDescription>
			Delete asset changes
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-delete-asset', 10, 'Heading - Delete Asset', 'Delete Asset', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-delete-asset', 16, 'Title - Delete Asset', '#company-name# | #heading-delete-asset#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-delete-asset-batch-release-warning', 13, 'Snippet - Delete asset batch release warning', '<p>Batch releases are currently enabled on your Asset Bank. Ideally asset''s shouldn''t be deleted when batch releases are enabled because then there is no approval process for the asset being removed.</p><p>Ideally a ''deleted'' attribute should be created and attribute visibility rules should be used to hide ''deleted'' assets from user''s views.</p><p>If you understand the problem with deleting this asset outside of the batch release process and want to continue, click the button below:</p>', 1, 2) ]]>
		</sqlStatement>


	</version><version number="3.807" private="true">
		<userChangeDescription>
			Adding the LDAPProperty column to CustomField
		</userChangeDescription>

		<sqlStatement type="mysql">
			<![CDATA[ ALTER TABLE CustomField ADD LdapProperty Varchar(255) ]]>
		</sqlStatement>

		<sqlStatement type="oracle">
			<![CDATA[ ALTER TABLE CustomField ADD LdapProperty NVarchar2(255) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ ALTER TABLE CustomField ADD [LdapProperty] Nvarchar(255) NULL ]]>

		</sqlStatement>
	</version><version number="3.808" private="true">

		<userChangeDescription>
			User Message Service updates. Altered tables: MessageTemplate and Message
		</userChangeDescription>

		<sqlStatement type="all">
			ALTER TABLE MessageTemplate DROP COLUMN Sender
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE MessageTemplate DROP COLUMN Recipient
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE MessageTemplate ADD AcknowledgeRequired Bool NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE MessageTemplate ADD AcknowledgeRequired Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE MessageTemplate ADD AcknowledgeRequired Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE Message DROP COLUMN Sender
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message ADD SenderId Bigint NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message DROP FOREIGN KEY Message_User_FK
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message add Constraint Message_ToUser_FK Foreign Key (RecipientId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Message add Constraint Message_FromUser_FK Foreign Key (SenderId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Message ADD SenderId Integer NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Message DROP CONSTRAINT Message_User_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Message] add Constraint [Message_ToUser_FK] foreign key([RecipientId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Message] add Constraint [Message_FromUser_FK] foreign key([SenderId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Message ADD SenderId Integer NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Message DROP CONSTRAINT Message_User_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Message add Constraint Message_ToUser_FK foreign key (RecipientId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Message add Constraint Message_FromUser_FK foreign key (SenderId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM Message
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM MessageTemplate WHERE TextId = 'batch_release_alert_approvers'
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO MessageTemplate (LanguageId, TypeId, TextId, Code, Subject, Body, Hidden, isEnabled, AcknowledgeRequired) VALUES (1,2,'batch_release_alert_approvers','alert batch release approvers','Batch release requires approval','The batch release #name# is ready for your approval. Click the following link #url# to view details of the batch release and approve it.',0,1,1)
		</sqlStatement>

	</version><version number="3.809">

		<userChangeDescription>
			Functionality to enable certain asset files to be checked out and edited using a client-side editor.
		</userChangeDescription>

		<appSettingChange type="add" section="Asset View settings" setting="simple-client-side-edit-exts" value="">
			<comment>
				Which asset source files can be edited using the client-side edit applet (not including those managed by plugins)? List the extensions, delimited using a semicolon i.e. ;. To include a literal semicolon within an extension escape it with two backslashes, i.e. \\;. To include a literal backslash within an extension write \\\\. (This "double escaping" of backslashes is necessary because Java properties files use backslash as an escape and this setting also uses backslash as an escape).
			</comment>
		</appSettingChange>

	</version><version number="3.810" private="true">

		<userChangeDescription>
			External filter changes to facilitate 'assets in this batch release' functionality
		</userChangeDescription>

		<appSettingChange type="update" setting="external-filter-class" section="External Search Filter Settings">
			<comment>
				 Comma separated list of classes, which must implement com.bright.assetbank.externalfilter.service.ExternalFilter, to use to filter search results. Can be left empty, in which case no external filters will be used.
			</comment>

		</appSettingChange>

		<appSettingChange type="update" setting="external-filter-transaction-manager-name" section="External Search Filter Settings">
			<comment>
				  Alternate Transaction Manager (in components.xconf) that external search filters can use
			</comment>
		</appSettingChange>

		<appSettingChange type="update" setting="external-filter-schema" section="External Search Filter Settings">
			<comment>

				  Alternate name of database schema that can be used by external filters
			</comment>
		</appSettingChange>

	</version><version number="3.811" private="true">
		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-assets-in-batch-release', 12, 'Link - View assets in batch release', 'View assets in batch release &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.812" private="true">
		<userChangeDescription>
			Batch release message revision
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE MessageTemplate SET AcknowledgeRequired=0, Body='The batch release #name# is ready for your approval. <a href=''#referenceLink#''>View details of the batch release</a> to approve it.' WHERE TextId='batch_release_alert_approvers'	 ]]>
		</sqlStatement>

	</version><version number="3.813" private="true">

		<userChangeDescription>

			Saved Search functionality for feature panels on homepage
		</userChangeDescription>

		<appSettingChange type="add" section="Search Settings" setting="maximum-featured-images-in-set-on-homepage" value="8">
			<comment>
				Maximum number of images pulled from the DB for featured search panels on homepage - actual number shown is determined by CSS, but this is the maximum
			</comment>
		</appSettingChange>

	</version><version number="3.814" private="true">
		<userChangeDescription>
			Batch release work
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO MessageTemplate (LanguageId, TypeId, TextId, Code, Subject, Body, Hidden, isEnabled, AcknowledgeRequired) VALUES (1,2,'batch_release_acknowledge','alert batch release requires acknowledgement','Batch release requires acknowledgement','<p>The batch release #name# has just been released and requires your acknowledgement.</p><p>Please indicate your acknowledgement of this batch release by checking the box below and clicking the Acknowledge button.</p>',0,1,1) ]]>
		</sqlStatement>

	</version><version number="3.815" private="true">

		<userChangeDescription>
			InDesign data model: drop InDesignDocumentAsset.IsTemplate because it is redundant. It can be derived with InDesignDocumentAsset.TemplateAssetId NULL.
		</userChangeDescription>

		<sqlStatement type="all">
			ALTER TABLE InDesignDocumentAsset DROP COLUMN IsTemplate
		</sqlStatement>

	</version><version number="3.816" private="true">

		<userChangeDescription>
			InDesign Job Service updates to allow Job Priorities. Added new column Priority to TABLES: InDesignJob, InDesignFailedJob
		</userChangeDescription>

 		<sqlStatement type="mysql"> ALTER TABLE InDesignJob ADD Priority Int NOT NULL DEFAULT 5 </sqlStatement>

 		<sqlStatement type="mysql"> ALTER TABLE InDesignFailedJob ADD Priority Int NOT NULL DEFAULT 5 </sqlStatement>

 		<sqlStatement type="oracle"> ALTER TABLE InDesignJob ADD Priority Integer Default 5 NOT NULL </sqlStatement>

 		<sqlStatement type="oracle"> ALTER TABLE InDesignFailedJob ADD Priority Integer Default 5 NOT NULL </sqlStatement>

 		<sqlStatement type="sqlserver"> ALTER TABLE InDesignJob ADD Priority Integer Default 5 NOT NULL </sqlStatement>

 		<sqlStatement type="sqlserver"> ALTER TABLE InDesignFailedJob ADD Priority Integer Default 5 NOT NULL </sqlStatement>

 	</version><version number="3.817" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

 		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedSelectBatchRelease', 15, 'failedSelectBatchRelease', 'Please select a #batch-release# from the list', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.818" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

 		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-asset', 12, 'Link - View asset', 'View asset &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.819" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

 		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoApprovalUsers', 15, 'failedValidationNoApprovalUsers', 'You need to select at least one approval user for this #batch-release#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-released', 13, 'Snippet - Delete asset batch release warning', 'Released', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.820" private="true">

		<userChangeDescription>
			InDesign schema changes: add InDesignDocumentAsset.NewInDesignDocumentId to allow asynchronous document updates, fix InDesignPDFGenError constraints.
		</userChangeDescription>

		<!-- Add InDesignDocumentAsset.NewInDesignDocumentId -->

		<sqlStatement type="mysql">
			ALTER TABLE InDesignDocumentAsset ADD NewInDesignDocumentId Bigint
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignDocumentAsset add Index IX_InDDAsset_NewInDD_FK (NewInDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignDocumentAsset add Constraint InDDAsset_NewInDD_FK Foreign Key (NewInDesignDocumentId) references InDesignDocument (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			ALTER TABLE [InDesignDocumentAsset] ADD [NewInDesignDocumentId] Integer NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDDAsset_NewInDD_FK] ON [InDesignDocumentAsset] ([NewInDesignDocumentId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [InDesignDocumentAsset] add Constraint [InDDAsset_NewInDD_FK] foreign key([NewInDesignDocumentId]) references [InDesignDocument] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			ALTER TABLE InDesignDocumentAsset ADD NewInDesignDocumentId Integer
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDDAsset_NewInDD_FK ON InDesignDocumentAsset (NewInDesignDocumentId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table InDesignDocumentAsset add Constraint InDDAsset_NewInDD_FK foreign key (NewInDesignDocumentId) references InDesignDocument (Id)
		</sqlStatement>


		<!-- Recreate IndesignPDFGenError to remove UNIQUE constraint and add PK -->

		<sqlStatement type="all">
DROP TABLE InDesignPDFGenError
		</sqlStatement>


		<sqlStatement type="mysql">
Create table InDesignPDFGenError (
	AssetId Bigint NOT NULL,
	SequenceNumber Int NOT NULL,
	Message Mediumtext NOT NULL,
 Primary Key (AssetId,SequenceNumber)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignPDFGenError add Index IX_InDPDFGenError_InDDAsset_FK (AssetId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignPDFGenError add Constraint InDPDFGenError_InDDAsset_FK Foreign Key (AssetId) references InDesignDocumentAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
Create table [InDesignPDFGenError]
(
	[AssetId] Integer NOT NULL,
	[SequenceNumber] Integer NOT NULL,
	[Message] Ntext NOT NULL,
Constraint [pk_InDesignPDFGenError] Primary Key ([AssetId],[SequenceNumber])
)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDPDFGenError_InDDAsset_FK] ON [InDesignPDFGenError] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [InDesignPDFGenError] add Constraint [InDPDFGenError_InDDAsset_FK] foreign key([AssetId]) references [InDesignDocumentAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
Create table InDesignPDFGenError (
	AssetId Integer NOT NULL ,
	SequenceNumber Integer NOT NULL ,
	Message NClob NOT NULL ,
 Constraint pk_InDesignPDFGenError primary key (AssetId,SequenceNumber)
)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDPDFGenError_InDDAsset_FK ON InDesignPDFGenError (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table InDesignPDFGenError add Constraint InDPDFGenError_InDDAsset_FK foreign key (AssetId) references InDesignDocumentAsset (AssetId)
		</sqlStatement>

	</version><version number="3.821">

	<userChangeDescription>
		Add a new Spatial Area attribute type, to represent geographic spatial points and bounded areas. Add a new 'GPSPosition Signed' mapping to the embedded data mappings, to map EXIF position data to the new spatial area type.
	</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO AttributeType (Id,Name,AttributeStorageTypeId,SequenceNumber) VALUES (17,'Spatial area',1,150)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT EmbeddedDataValue ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO EmbeddedDataValue (Id, EmbeddedDataTypeId, Name, Expression) VALUES (608, 7, 'GPSPosition Signed', 'GPSPosition Signed')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT EmbeddedDataValue OFF
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE Attribute ADD COLUMN SinglePointOnly Bool DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD SinglePointOnly Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD SinglePointOnly Char(1) Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-spatial-area-west', 9, 'Label - Spatial Area West Bounding Longitude', 'West bounding longitude', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-spatial-area-east', 9, 'Label - Spatial Area East Bounding Longitude', 'East bounding longitude', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-spatial-area-south', 9, 'Label - Spatial Area South Bounding Latitude', 'South Bounding Latitude', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-spatial-area-north', 9, 'Label - Spatial Area North Bounding Latitude', 'North Bounding Latitude', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-failed-to-unpack-spatial-area', 13, 'Snippet - Failed to unpack spatial area', 'There is a problem in the format of the stored spatial area, it cannot be displayed: ?oldBadValue?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationLongitude', 15, 'failedValidationLongitude', 'Field ''%'' is not in the valid range for Longitude (-180.0 to 180.0).', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationLatitude', 15, 'failedValidationLatitude', 'Field ''%'' is not in the valid range for Latitude (-90.0 to 90.0).', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNegativeSpatialArea', 15, 'failedValidationNegativeSpatialArea', 'Attribute ''%'' represents a spatial area of negative size. Please check the bounds so that west is less than east, and south less than north.', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-invalid-spatial-area', 13, 'Snippet - Invalid spatial area', 'One or more of the coordinates in this Spatial Area attribute are invalid longitude/latitude values.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-latitude', 9, 'Label - Latitude', 'Latitude', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-longitude', 9, 'Label - Longitude', 'Longitude', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.822" private="true">

		<userChangeDescription>
			Added setting to determine whether or not a user's groups are updated by a SSOPlugin.
		</userChangeDescription>

		<appSettingChange type="add" section="User registration/ login" setting="update-remote-users-groups-on-sso-login" value="false">
			<comment>
				Should the user's groups be updated on login? This setting is independent of the above (update-remote-users-on-sso-login). WARNING: if true then this will remove the user from any group not specified by the plugin.
			</comment>
		</appSettingChange>

	</version><version number="3.823" private="true">
		<userChangeDescription>
			InDesign: create documents for newly-created template assets by copying a template .indd file.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-indesign-template-filename', 9, 'Label - Template Asset Filename', 'Template Filename', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.824" private="true">
		<userChangeDescription>
			Batch release work
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-not-yet-acknowledged', 1, 'Snippet - Not yet acknowledged', 'not yet acknowledged', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-acknowledged', 1, 'Snippet - Acknowledged', 'Acknowledged', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-status-nc', 9, 'Label - Status (no colon)', 'Status', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="add" section="general config" setting="batch-release-acknowledgement-users-plugin" value="com.bright.assetbank.workflow.plugin.SelectAdminUsersPlugin">
			<comment>
				The plugin that defines the group of users that should receive acknowledgement requests when a batch release is released
			</comment>

		</appSettingChange>

	</version><version number="3.825" private="true">
		<userChangeDescription>
			InDesign: implemented "Override Template" for InDesign Document assets.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-indesign-override-template', 11, 'Button - InDesign: Override Template', 'Override Template', 1, 2) ]]>

		</sqlStatement>

	</version><version number="3.826" private="true">
		<userChangeDescription>
			UI tweaks to copy/move assets functionality
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Copy or Move #items# to another #a-lightbox#' WHERE Identifier='heading-copy-move' ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-copy-move-items', 12, 'Link - Copy or move items', 'Copy or move #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-copy-move-title-attr', 13, 'Snippet - Copy or move title attr', 'Copy or move the selected #items# to another #a-lightbox#', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-view-selected-slideshow-title-attr', 13, 'Snippet - View selected as slideshow title attr', 'View the selected #items# as a slideshow', 1, 3) ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-selected-title-attr', 13, 'Snippet - Bulk edit selected title attr', 'Bulk edit the selected #items#', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-link-selected-title-attr', 13, 'Snippet - Link selected title attr', 'Link the selected #items# together', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-remove-selected-title-attr', 13, 'Snippet - Remove selected title attr', 'Remove the selected #items# from this #a-lightbox#', 1, 3) ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-contact-selected-title-attr', 13, 'Snippet - Contact sheet selected title attr', 'View the selected #items# as a contact sheet', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-actions-on-selected-title-attr', 13, 'Snippet - Actions on selected title attr', 'More actions on selected #items#', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-copy-items', 11, 'Button - Copy items', 'Copy items', 1, 2) ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-move-items', 11, 'Button - Move items', 'Move items', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-to-lightbox', 9, 'Label - To lightbox', 'To #a-lightbox#:', 1, 2) ]]>
		</sqlStatement>


	</version><version number="3.827" private="true">
		<userChangeDescription>
			Batch Release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noBatchReleasesBeingCreated', 15, 'noBatchReleasesBeingCreated', 'You need at least one Batch Release in the ''Being Created'' state to be able to upload/edit assets.', 1, 2) ]]>
		</sqlStatement>

	 </version><version number="3.828" private="true">

		<userChangeDescription>
			Add new File attribute type.
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO AttributeType (Id,Name,AttributeStorageTypeId,SequenceNumber) VALUES (18,'File',1,160)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT AttributeType OFF
		</sqlStatement>

	</version><version number="3.829" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'noAssetsInBatchRelease', 15, 'noAssetsInBatchRelease', 'This batch release can''t be sent for approval because it doesn''t have any assets assigned to it', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'subhead-acknowledgements', 10, 'Subheading - Acknowledgements', 'Acknowledgements', 1, 2) ]]>

		</sqlStatement>

	</version><version number="3.830" private="true">
		<userChangeDescription>
			Print to PDF content
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'link-print-pdf', 12, 'Link - Print As PDF', 'Print As PDF', 1, 2)
		</sqlStatement>

		<appSettingChange type="add" section="Server settings" setting="wkhtmltopdf-path" value="wkhtmltopdf">
			<comment>
				Path for the tool that generates PDF from HTML files. Default assumes that the wkhtmltopdf file location (in the WEB-INF\manager-config\win-tools directory) has been added to the system path variable.
			</comment>
		</appSettingChange>

	</version><version number="3.831" private="true">

		<userChangeDescription>
			Added IsArticle to AssetEntity
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetEntity ADD IsArticle Bool NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetEntity ADD [IsArticle] Tinyint Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">

			ALTER TABLE AssetEntity ADD IsArticle Char (1) Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.832" private="true">

		<userChangeDescription>
			InDesign content for edit existing asset file-info and PDFGenErrors label
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-indesign-pdf-errors', 13, 'Snippet - InDesign PDF Errors', 'Generation Errors', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-indesign-edit-file-info', 13, 'Snippet - InDesign Edit File Info', 'Choosing a file will <strong>overwrite</strong> the generated InDesign Document. Usually an InDesign Document is generated from source file.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.833" private="true">

		<userChangeDescription>
			Plugin for extra descriptions
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="extra-descriptions-plugins-browse" value="">
			<comment>
				Plugins used to retreive extra descriptions for display on result assets below display attributes when browsing. For Bright Interactive use only.
			</comment>
		</appSettingChange>

	</version><version number="3.834" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-in-batch-release-released', 13, 'Snippet - In Batch Release (released version)', 'This asset was released as part of the #batch-release#: <a href="viewBatchRelease?brId=?brId?&assetId=?assetId?">?brName?</a> on ?brReleaseDate?', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-in-batch-release', 13, 'Snippet - In Batch Release', 'This asset is part of the #batch-release#: <a href="viewBatchRelease?brId=?brId?&assetId=?assetId?">?brName?</a>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Title='Snippet - Released' WHERE Identifier='snippet-released' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View assets in #batch-release# &raquo;' WHERE Identifier='link-view-assets-in-batch-release' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<p>#batch-releases# are currently enabled on your Asset Bank. Ideally asset''s shouldn''t be deleted when #batch-releases# are enabled because then there is no approval process for the asset being removed.</p><p>Ideally a ''deleted'' attribute should be created and attribute visibility rules should be used to hide ''deleted'' assets from user''s views.</p><p>If you understand the problem with deleting this asset outside of the #batch-release# process and want to continue, click the button below:</p>' WHERE Identifier='snippet-delete-asset-batch-release-warning' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Are you sure you want to delete this #batch-release#?' WHERE Identifier='js-confirm-delete-batch-release' ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-add-asset-to-batch-release', 12, 'Link - Add asset to batch release', 'Add to #batch-release#', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.835">

		<userChangeDescription>

			Upgraded XML parser library
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILES (IF THEY EXIST), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/avalon-fortress-container-complete-1.1.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/xmlParserAPIs.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/avalon-fortress-container-complete-1.1.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/xmlParserAPIs.jar" />
	</version><version number="3.836" private="true">

		<userChangeDescription>
			Minor content changes around lightbox pdf generation
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-save-as-pdf', 12, 'Link - Save as PDF', 'Save as PDF', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.837" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-outstanding-acknowledgement-user', 13, 'Snippet - Outstanding acknowledgement for user', '<p>There is <a href="viewBatchReleaseAcknowledgementReport?userId=?userId?">?userCount? outstanding acknowledgement</a> for batch releases you have released.</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-outstanding-acknowledgements-user', 13, 'Snippet - Outstanding acknowledgements for user', '<p>There are <a href="viewBatchReleaseAcknowledgementReport?userId=?userId?">?userCount? outstanding acknowledgements</a> for batch releases you have released.</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-outstanding-acknowledgement-total', 13, 'Snippet - Outstanding acknowledgement', '<p>There is <a href="viewBatchReleaseAcknowledgementReport">?totalCount? outstanding acknowledgement</a> overall.</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-outstanding-acknowledgements-total', 13, 'Snippet - Outstanding acknowledgements', '<p>There are <a href="viewBatchReleaseAcknowledgementReport">?totalCount? outstanding acknowledgements</a> overall.</p>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-br-outstanding-acknowledgements-report', 10, 'Heading - Batch Release Outstanding Acknowledgements Report', '#batch-release# Outstanding Acknowledgements Report', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-br-outstanding-acknowledgements-report', 16, 'Title - Batch Release Outstanding Acknowledgements Report', '#company-name# | #heading-br-outstanding-acknowledgements-report#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-oustanding-acknowledgements', 13, 'Snippet - No outstanding acknowledgements for Batch Release', 'There are no #batch-release# with outstanding acknowledgements.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-oustanding-acknowledgements-intro', 13, 'Snippet - Batch Release outstanding acknowledgements report intro', 'The report below details all the batch releases with outstanding acknowledgements and the users that still need to acknowledge the release. You can filter the report by the batch release owner or by the acknowledgement recipient below:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-acknowledgement-recipient', 9, 'Label - Acknowledgement recipient', 'Acknowledgement recipient', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-outstanding-acknowledgements', 9, 'Label - Outstanding acknowledgements', 'Outstanding acknowledgements', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.838" private="true">

		<userChangeDescription>
			Removed unnecessary setting
		</userChangeDescription>

		<appSettingChange type="delete" setting="batch-release-acknowledgement-users-plugin" />

	</version><version number="3.839" private="true">

		<userChangeDescription>
			Batch Release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-approval-user', 9, 'Label - Approval user', 'Approval user:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='This #item# is part of the #batch-release#: <a href="viewBatchRelease?brId=?brId?&assetId=?assetId?">?brName?</a>. It is currently <strong>unreleased</strong>.' WHERE Identifier='snippet-in-batch-release' ]]>
		</sqlStatement>

	</version><version number="3.840" private="true">

		<userChangeDescription>
			Minor content tweak - remove unecessary asterix
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'To be included in your search:' WHERE Identifier='label-included-in-search' AND Body LIKE 'To be included in your search*:' ]]>
		</sqlStatement>

	</version><version number="3.841" private="true">

		<userChangeDescription>
			Setting for batch release PDF attributes
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="batch-release-pdf-attributes" value="">
			<comment>
				The attribute ids to use when displaying the list of assets on a batch release PDF
			</comment>
		</appSettingChange>

	</version><version number="3.842">

		<userChangeDescription>
			Add integration of Spatial Area attributes with Google and Arcgis popup maps
		</userChangeDescription>

		<appSettingChange type="add" section="Search" setting="spatial-seach-map-type" value="google">
			<comment>
				The default map to use for spatial search
			</comment>
		</appSettingChange>

	</version><version number="3.843" private="true">
		<userChangeDescription>
			UI changes around checked out assets
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-actions', 10, 'Subheading - Actions', 'Actions', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-id', 10, 'Subheading - Id', 'Id', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-name', 10, 'Subheading - Name', 'Name', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-check-out-date', 10, 'Subheading - Check-Out Date', 'Check-Out Date', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-my-checked-out', 7, 'Tab - My Checked Out Items', 'My Checked Out #Items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-all-checked-out', 7, 'Tab - All Checked Out Items', 'All Checked Out #Items#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body = 'Checked Out #Items#' WHERE Identifier='heading-checked-out-items' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'All #items# checked out by any user' WHERE Identifier='subhead-all-checked-out-items' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'There are no checked out #items#' WHERE Identifier='subhead-all-checked-out-items-empty' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'All #items# checked out by you' WHERE Identifier='subhead-my-checked-out-items' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'You do not have any checked out #items#' WHERE Identifier='subhead-my-checked-out-items-empty' ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-1-item-checked-out', 13, 'Snippet - 1 item checked out', 'You have <a href="../action/viewCheckedOutAssets">1 #item# checked out</a> for editing.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-x-items-checked-out', 13, 'Snippet - x items checked out', 'You have <a href="../action/viewCheckedOutAssets">%numCheckedOutAssets% #items# checked out</a> for editing.', 1, 3) ]]>
		</sqlStatement>


	</version><version number="3.844" private="true">

		<userChangeDescription>
			Add label to cms for search radius
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-search-radius', 9, 'Label - Search radius', 'Search radius', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.847" private="true">
		<userChangeDescription>
			List item fix
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET Body='There is currently no feedback' WHERE Identifier='snippet-no-feedback'
		</sqlStatement>

	</version><version number="3.848" private="true">
		<userChangeDescription>
			Batch Release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-outstanding-acknowledgements', 7, 'Tab - Outstanding Acknowledgements', 'Outstanding Acknowledgements', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-refresh-view', 11, 'Button - Refresh view', 'Refresh view', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View assets in #batch-release#' WHERE Identifier='link-view-assets-in-batch-release' ]]>
		</sqlStatement>

	</version><version number="3.849" private="true">

		<userChangeDescription>
			InDesign Job Service updates to use a generic ClientReference column instead of an FK to AssetId
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM InDesignJob
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM InDesignFailedJob
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignJob drop Foreign Key InDJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table InDesignFailedJob drop Foreign Key InDFailJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignJob DROP CONSTRAINT InDJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignFailedJob DROP CONSTRAINT InDFailJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			IF EXISTS(SELECT name FROM sysindexes WHERE name = 'IX_InDJob_InDDAsset_FK') DROP INDEX InDesignJob.IX_InDJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignJob DROP CONSTRAINT InDJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			IF EXISTS(SELECT name FROM sysindexes WHERE name = 'IX_InDFailJob_InDDAsset_FK') DROP INDEX InDesignFailedJob.IX_InDFailJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignFailedJob DROP CONSTRAINT InDFailJob_InDDAsset_FK
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE InDesignJob DROP COLUMN AssetId
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE InDesignFailedJob DROP COLUMN AssetId
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignJob ADD ClientReference Varchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignJob ADD ClientReference NVarchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignJob ADD ClientReference NVarchar2(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignFailedJob ADD ClientReference Varchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignFailedJob ADD ClientReference NVarchar(255) NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignFailedJob ADD ClientReference NVarchar2(255) NOT NULL
		</sqlStatement>

	</version><version number="3.850" private="true">
		<userChangeDescription>
			Batch Release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-total', 9, 'Label - Total', 'Total:', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.851" private="true">
		<userChangeDescription>
			InDesign: Don't queue a new PDF generation job if there is already one in the queue for the same asset.
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT InDesignPDFStatus ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFStatus (Id, Name) VALUES (10, 'New Asset')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFStatus (Id, Name) VALUES (20, 'Generation Queued')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFStatus (Id, Name) VALUES (30, 'Generation In Progress')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFStatus (Id, Name) VALUES (40, 'Generation Failed')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO InDesignPDFStatus (Id, Name) VALUES (50, 'Up to Date')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT InDesignPDFStatus OFF
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE InDesignDocumentAsset SET PDFStatusId = 10 WHERE PDFStatusId = 1
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE InDesignDocumentAsset SET PDFStatusId = 20 WHERE PDFStatusId = 2
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE InDesignDocumentAsset SET PDFStatusId = 40 WHERE PDFStatusId = 3
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE InDesignDocumentAsset SET PDFStatusId = 50 WHERE PDFStatusId = 4
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM InDesignPDFStatus WHERE Id IN (1, 2, 3, 4)
		</sqlStatement>
	</version><version number="3.852" private="true">

		<userChangeDescription>
			Batch release report content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-acknowledgements-summary', 10, 'Subheading - Acknowledgements Summary', 'Acknowledgements Summary', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-total-outstanding-acknowledgments', 10, 'Subheading - Total outstanding acknowledgments', 'Total # of outstanding acknowledgements', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-acknowledgement-summary-intro', 13, 'Snippet - Acknowledgement summary intro', 'The following report details a list of the #batch-release# acknowledgement users and the number of oustanding acknowledgements they currently have:', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-acknowledgement-matrix-intro', 13, 'Snippet - Acknowledgement matrix intro', 'The following report shows details of all the released #batch-releases# and the acknowledgement status of users that were sent acknowledgement requests:', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-reports', 7, 'Tab - Reports', 'Reports', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-reports', 12, 'Link - Back to reports', '&laquo; Back to reports', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-acknowledgement-summary-description', 13, 'Snippet - Acknowledgement summary description', 'A report detailing a list of the #batch-release# acknowledgement users and the number of oustanding acknowledgements they currently have.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-acknowledgement-matrix-description', 13, 'Snippet - Acknowledgement matrix description', 'A report showing a list of all the released #batch-releases# and the acknowledgement status of users that were sent acknowledgement requests for each.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-outstanding-acknowledgements-description', 13, 'Snippet - Outstanding acknowledgements description', 'A report showing a list of all oustanding acknowledgments for each #batch-release#. Optionally filtered to specific batch release owners and acknowledgement recipients.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-totals', 9, 'Label - Totals', 'Totals:', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.853" private="true">
		<userChangeDescription>
			InDesign: copy change
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Filename for template' WHERE  LanguageId = 1 AND Identifier = 'label-indesign-template-filename' ]]>
		</sqlStatement>

	</version><version number="3.854" private="true">
		<userChangeDescription>
			Extension asset import tweaks
		</userChangeDescription>

		<appSettingChange type="update" setting="replace-extended-category-names-on-import">
			<comment>
				  Whether category names should be replaced with asset names when extending categories via metadata import or category import (true = yes replace category name with asset name, false = no replace asset name with category name)
			</comment>
		</appSettingChange>

	</version><version number="3.855" private="true">
		<appSettingChange type="add" setting="public-assets-max-results" value="200" section="Max Public Assets Results">

			<comment>
				Maximum number of public assets to be displayed
			</comment>
		</appSettingChange>
	</version><version number="3.856" private="true">

		<userChangeDescription>
			Adding DateFormatType flag to Attribute. This will allow users to specify how the Date should be formatted, either; Full, Year Only or Year And Month.
		</userChangeDescription>

		<sqlStatement type="mysql">
			Alter table Attribute ADD DateFormatType Smallint NOT NULL DEFAULT 0
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Attribute ADD DateFormatType Smallint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table Attribute ADD [DateFormatType] Smallint Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.857" private="true">

		<userChangeDescription>
			InDesign Job Service updates to drop InDesignFailedJob and use a single table: InDesignJob
		</userChangeDescription>

		<sqlStatement type="all">
			DELETE FROM InDesignJob
		</sqlStatement>

		<sqlStatement type="all">
			DELETE FROM InDesignFailedJob
		</sqlStatement>

		<sqlStatement type="all">
			DROP TABLE InDesignFailedJob
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignJob ADD Message Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignJob ADD Message Ntext
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignJob ADD Message NClob
		</sqlStatement>

	</version><version number="3.858" private="true">

		<userChangeDescription>
			Update to batch release setting
		</userChangeDescription>

		<appSettingChange type="update" setting="batch-release-pdf-attributes">
			<comment>
				  The attribute ids to use when displaying the list of assets on a batch release PDF. This should be a comma separated list of colon separated lists of attribute ids. For instance, if your attributes are Title = 1, Name = 2 and Description 3 then the value 1:2,3 would result in two columns on the PDF. One titled 'Title' and one titled 'Description'. If an asset didn't have a value for the 'Title' attribute to populate the first column with then it would attempt to use the 'Name' attribute value as a replacement instead.
			</comment>
		</appSettingChange>

	</version><version number="3.859" private="true">
		<userChangeDescription>
			Improved title in listItem
		</userChangeDescription>
		<sqlStatement type="all">
					<![CDATA[ UPDATE ListItem SET Title='Snippet - Number of search results' WHERE Identifier='search-results' ]]>
		</sqlStatement>
		<sqlStatement type="all">

					<![CDATA[ UPDATE ListItem SET Title='Snippet - embeddable videos intro (no embeddable versions)' WHERE Identifier='snippet-no-repurposed-videos' ]]>
		</sqlStatement>
		<sqlStatement type="all">
					<![CDATA[ UPDATE ListItem SET Title='Snippet - Request permission DL add lightbox' WHERE Identifier='snippet-request-dl-add-lightbox' ]]>
		</sqlStatement>
	</version><version number="3.860">

		<userChangeDescription>

			Additional date formats for the different DateFormatTypes added. The standard-date-format remains, but new ones have been added for Year Only and Year And Month.
		</userChangeDescription>

		<appSettingChange type="add" setting="year-and-month-date-format" value="MM/yyyy" section="Date/currency format">
			<comment>
				the date format for Year And Month date types
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="year-only-date-format" value="yyyy" section="Date/currency format">
			<comment>

				the date format for Year Only date types
			</comment>
		</appSettingChange>

	</version><version number="3.861" private="true">

		<userChangeDescription>
			Alter tables that were created with the default character set to use the UTF-8 character set (all Asset Bank tables should use UTF-8).
		</userChangeDescription>

		<sqlStatement type="mysql">
			alter table ActionOnAsset default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table AssetInBatchRelease default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table AssetWorkflowAudit default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table AttributeInInDesignDocument default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table AttributeStorageType default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table BatchRelease default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table BatchReleaseError default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table ColorSpace default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table ContentPurpose default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table DisplayAttributeGroup default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table EntityRelationshipDescription default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table FilterForCategory default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table FilterGroup default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table FilterInGroup default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table FilterType default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table GroupFilterExclusion default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignAssetEntity default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignAssetEntityType default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignDocument default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignDocumentAsset default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignJob default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignJobStatus default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignPDFGenError default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignPDFQuality default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table InDesignPDFStatus default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table LastAttributeValue default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table Mask default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table Message default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table MessageStatus default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table MessageTemplate default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table MessageTemplateType default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table NamedColour default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table OrgUnitContent default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table OrgUnitForAgreement default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table RepurposedAsset default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table RepurposedSlideshow default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table SecondaryDownloadUsageType default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table StorageDevice default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table TranslatedAgreement default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table TranslatedERDescription default character set utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table UserApprovesBatchRelease default character set utf8
		</sqlStatement>

	</version><version number="3.862">

		<userChangeDescription>
			Extended category content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-extended-sub-category', 13, 'Snippet - Extended sub category', 'extended sub category', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.863">

		<userChangeDescription>
			Content fix
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET Body='Advanced viewing when unapproved?' WHERE Identifier='label-advanced-viewing'
		</sqlStatement>

	</version><version number="3.864">

		<userChangeDescription>
			Changes related to downloading assets in PDF/PPT/PPTX and traslation.
		</userChangeDescription>

		<appSettingChange type="add" setting="high-resolution-print-image-size" value="2500" section="Asset View settings">
			<comment>
				The following is the size to print images in the contact sheet with a high resolution
			</comment>

		</appSettingChange>

		<appSettingChange type="add" setting="server-url-from-server" value="http://localhost:8080/asset-bank" section="Server settings">
			<comment>
				Server local IP of images and file for PPT/PDF feature
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="ppt-template-category-id" value="" section="Server settings">
			<comment>

				The category Id where are the powerpoint templates are placed
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-always-use-watermark', 13, 'Snippet - Always use watermark', 'Always use watermark', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-print-highest-quality-image', 13, 'Snippet - Print highest quality image', 'Print highest quality image', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'label-download-as-ppt', 9, 'Label - Download as PPT/PPTX', 'Download as PPT/PPTX (Images only)', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'label-number-of-symbols', 9, 'Label - Number of labels', 'Number of labels:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'label-include-lightbox-contents', 9, 'Label - Include Lightbox contents', 'Include #a-lightbox# contents?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-include-lightbox-contents', 13, 'Snippet - Include Lightbox contents', 'I want the contents of my #a-lightbox# to be available for inclusion in the document', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-attributes-for-indesign-document', 13, 'Snippet - Attributes for Indesign Document', 'Select the attributes you want to be available for use in your InDesign document.', 1, 3) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-indesign-data-intro', 13, 'Snippet - Indesign data intro', 'Please wait while the data file is prepared. This page will be refreshed automatically every 5 seconds to check progress. To check manually please click the ''Next'' button.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-error-occurred', 13, 'Snippet - An error occurred', 'An error occurred', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'title-asset-file-editor', 16, 'Title - Asset File Editor', 'Asset File Editor', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'subhead-file-check-out', 10, 'Subheading - File Check-Out', 'File Check-Out', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-edit-file-in-applet', 13, 'Snippet - Edit File in an Applet', 'Use the applet below to check-out and edit the file.', 1, 3) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-applet-error', 13, 'Snippet - Applet Error', 'Applet failed to load. Please check you have Java enabled.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'title-cancel-checkout', 16, 'Title - Cancel Checkout', 'Cancel Checkout', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-checkout-confirmation', 13, 'Snippet - Checkout Confirmation', 'Are you sure you want to cancel the checkout of this item''s source file?', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-checkout-changes-lost', 13, 'Snippet - Checkout Changes Lost', 'The user with this checked out will not be able to check-in any changes they have made, i.e. these changes will be lost!', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-view-source-file', 13, 'Snippet - View source file', 'View source file', 1, 3) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-resume-editing-source-file', 13, 'Snippet - Resume editing source file', 'Resume editing source file', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-edit-source-file', 13, 'Snippet - Edit source file', 'Edit source file', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-high-resolution-approval', 13, 'Snippet - High resolution approval', 'High-res approval is pending - check your lightbox', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.865">

		<userChangeDescription>
			User Message Service  - Added content snippet for no messages.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-message-items', 13, 'Snippet - No messages', 'There are currently no messages.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.866" private="true">

		<userChangeDescription>
			Improve comment for force-strong-password setting
		</userChangeDescription>

		<appSettingChange type="update" setting="force-strong-password">
			<comment>
				 Should the system force the user to select a strong password when they change their password
				 The password must be at least 8 characters long, contain a number and contain a capital letter
			</comment>
		</appSettingChange>

	</version><version number="3.867" private="true">

		<userChangeDescription>
			Change to category to allow browse panelling to be optional
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE CM_Category ADD BrowseAsPanels Bool DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CM_Category ADD [BrowseAsPanels] Tinyint Default 0
		</sqlStatement>
		<sqlStatement type="oracle">

			ALTER TABLE CM_Category ADD BrowseAsPanels Char (1) Default 0
		</sqlStatement>

	</version><version number="3.868">

		<userChangeDescription>
			The directory where file attributes types are stored within file manager
		</userChangeDescription>

		<appSettingChange type="add" setting="file-attribute-type" value="attribute" section="directory">

			<comment>
				The directory where file attributes types are stored within file manager
			</comment>
		</appSettingChange>

	</version><version number="3.869" private="true">

		<userChangeDescription>
			Error content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationValidFields', 15, 'failedValidationValidFields', 'Please enter valid values for the fields on the form', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.870">

		<userChangeDescription>
			Should the 'All' option be showed in the keyword chooser
		</userChangeDescription>

		<appSettingChange type="add" setting="hide-all-tab-keyword-picker" value="false" section="Keyword taxonomy config">
			<comment>
				Should the 'All' option be showed in the keyword chooser
			</comment>
		</appSettingChange>

	</version><version number="3.871" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'subhead-batch-release-asset-delete', 10, 'Subheading - Batch release asset delete', 'Warning, this may affect #batch-releases#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-acknowledgements-matrix', 10, 'Subheading - Acknowledgements Matrix', 'Acknowledgements Matrix', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-acknowledgements-matrix', 16, 'Title - Acknowledgements Matrix', '#company-name# | #subhead-acknowledgements-matrix#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'subhead-batch-releases-not-released', 10, 'Subheading - Batch releases not released', '#batch-releases# that have yet to be released:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'subhead-batch-releases-released', 10, 'Subheading - Batch releases released', '#batch-releases# that have been released over the past ?days? days:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-batch-release-valid', 13, 'Snippet - Batch release valid', 'The #batch-release# is currently valid and ready for release when it''s fully approved.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-batch-release-invalid', 13, 'Snippet - Batch release invalid', 'The #batch-release# is currently invalid. The errors that stopped the #batch-release# from being validated are shown in the error log below. If you think the errors below have been corrected <a href="?url?">revalidate the #batch-release#</a> to check it again prior to release (validating will add any missing dependents that can be added to the release).', 1, 3) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-batch-release-pending', 13, 'Snippet - Batch release pending', 'The #batch-release# is currently being validated. <a href="?url?">Refresh this page</a> for status updates.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-batch-release-not-released', 13, 'Snippet - Batch release not released', 'This #batch-release# couldn''t be released because it is not in a valid state (or it is currently being validated). Please either <a href="?url?">run the validation</a> or wait for the current validation to finish before attempting to release this #batch-release#.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.872" private="true">

		<userChangeDescription>
			Change to enable/disable download assets into a powerpoint template
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE UsageType ADD CanDownloadAsPPT Bool DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UsageType ADD [CanDownloadAsPPT] Tinyint Default 0
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE UsageType ADD CanDownloadAsPPT Char (1) Default 0
		</sqlStatement>

	</version><version number="3.873" private="true">

		<userChangeDescription>
			Batch release related updates
		</userChangeDescription>

		<appSettingChange type="update" setting="watch-directory">
			<comment>
				 If this setting and watch-directory-period-millis both have values then Asset Bank will watch a directory (and its subdirectories) to see if any new files have appeared since it was last checked. If so, admin users are alerted via email (or the files are added automatically - see auto-add-watched-files setting). Note on Windows paths: \ is the escape character in properties files so you need to escape every \ with a \ (i.e. double every \), e.g. C:\\watch. Note: Watch directories are not supported if batch releases are enabled
			</comment>
		</appSettingChange>

	</version><version number="3.874" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-add-copy-to-batch-release', 13, 'Snippet - Add Copy to Batch Release', '<p>Select the #batch-release# you want to add this copy to from the list below and click Add &raquo;</p>', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-add-copy-to-batch-release', 10, 'Heading - Add Copy to Batch Release', 'Add Copy to #batch-release#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-add-copy-to-batch-release', 16, 'Title - Add Copy to Batch Release', '#company-name# | #heading-add-copy-to-batch-release#', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.875">

		<userChangeDescription>
			Improvements to search - leading wildcards now supported.
		</userChangeDescription>
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

	</version><version number="3.876" private="true">

		<userChangeDescription>
			Add setting for the supported list of spatial search maps
		</userChangeDescription>

		<appSettingChange type="add" section="Search" setting="spatial-seach-maps-enabled" value="google|Google">
			<comment>

				List of enabled maps for spatial search. Comma separated list of pairs, eg 'google|Google,arcgis|Arcgis'
			</comment>
		</appSettingChange>

	</version><version number="3.877" private="true">

		<userChangeDescription>
			Change to add the ISO 3166-1 Country codes
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Country ADD Code Varchar(2)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Country ADD Code NVarchar(2)
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Country ADD Code NVarchar2(2)
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='AF' WHERE Id=1
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AL' WHERE Id=2
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='DZ' WHERE Id=3
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='AD' WHERE Id=4
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AO' WHERE Id=5
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AG' WHERE Id=6
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AR' WHERE Id=7
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='AM' WHERE Id=8
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AU' WHERE Id=9
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AT' WHERE Id=10
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='AZ' WHERE Id=11
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BS' WHERE Id=12
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BH' WHERE Id=13
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BD' WHERE Id=14
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='BB' WHERE Id=15
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BY' WHERE Id=16
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BE' WHERE Id=17
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='BZ' WHERE Id=18
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BJ' WHERE Id=19
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BT' WHERE Id=20
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BO' WHERE Id=21
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='BA' WHERE Id=22
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BW' WHERE Id=23
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BR' WHERE Id=24
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='BN' WHERE Id=25
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BG' WHERE Id=26
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BF' WHERE Id=27
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='BI' WHERE Id=28
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='KH' WHERE Id=29
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CM' WHERE Id=30
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CA' WHERE Id=31
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='CV' WHERE Id=32
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CF' WHERE Id=33
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ID' WHERE Id=34
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CL' WHERE Id=35
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='CN' WHERE Id=36
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CO' WHERE Id=37
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='KM' WHERE Id=38
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='CG' WHERE Id=39
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CD' WHERE Id=40
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CR' WHERE Id=41
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='HR' WHERE Id=42
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='CU' WHERE Id=43
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CY' WHERE Id=44
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CZ' WHERE Id=45
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='CI' WHERE Id=46
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='DK' WHERE Id=47
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='DJ' WHERE Id=48
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='DM' WHERE Id=49
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='DO' WHERE Id=50
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TP' WHERE Id=51
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='EC' WHERE Id=52
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='EG' WHERE Id=53
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SV' WHERE Id=54
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GQ' WHERE Id=55
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ER' WHERE Id=56
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='EE' WHERE Id=57
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ET' WHERE Id=58
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='FJ' WHERE Id=59
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='FI' WHERE Id=60
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='FR' WHERE Id=61
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GA' WHERE Id=62
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GM' WHERE Id=63
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='GE' WHERE Id=64
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='DE' WHERE Id=65
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GH' WHERE Id=66
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='GR' WHERE Id=67
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GD' WHERE Id=68
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GT' WHERE Id=69
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GN' WHERE Id=70
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='GW' WHERE Id=71
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='GY' WHERE Id=72
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='HT' WHERE Id=73
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='HN' WHERE Id=74
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='HU' WHERE Id=75
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='IS' WHERE Id=76
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='IN' WHERE Id=77
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='ID' WHERE Id=78
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='IR' WHERE Id=79
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='IQ' WHERE Id=80
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='IE' WHERE Id=81
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='IL' WHERE Id=82
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='IT' WHERE Id=83
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='JM' WHERE Id=84
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='JP' WHERE Id=85
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='JO' WHERE Id=86
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='KZ' WHERE Id=87
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='KE' WHERE Id=88
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='KI' WHERE Id=89
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='KP' WHERE Id=90
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='KR' WHERE Id=91
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='KW' WHERE Id=92
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='KG' WHERE Id=93
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LA' WHERE Id=94
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='LV' WHERE Id=95
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LB' WHERE Id=96
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LS' WHERE Id=97
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LR' WHERE Id=98
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='LY' WHERE Id=99
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LI' WHERE Id=100
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LT' WHERE Id=101
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='LU' WHERE Id=102
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MK' WHERE Id=103
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MG' WHERE Id=104
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MW' WHERE Id=105
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='MY' WHERE Id=106
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MV' WHERE Id=107
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ML' WHERE Id=108
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='MT' WHERE Id=109
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MH' WHERE Id=110
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MR' WHERE Id=111
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MU' WHERE Id=112
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='MX' WHERE Id=113
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='FM' WHERE Id=114
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MD' WHERE Id=115
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='MC' WHERE Id=116
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MN' WHERE Id=117
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MA' WHERE Id=118
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MZ' WHERE Id=119
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='MM' WHERE Id=120
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='MA' WHERE Id=121
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='NR' WHERE Id=122
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='NP' WHERE Id=123
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AN' WHERE Id=124
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='NZ' WHERE Id=125
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='NI' WHERE Id=126
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='ME' WHERE Id=127
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='NG' WHERE Id=128
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='NO' WHERE Id=129
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='OM' WHERE Id=130
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PK' WHERE Id=131
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PW' WHERE Id=132
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PA' WHERE Id=133
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='PG' WHERE Id=134
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PY' WHERE Id=135
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PE' WHERE Id=136
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='PH' WHERE Id=137
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PL' WHERE Id=138
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PT' WHERE Id=139
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='QA' WHERE Id=140
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='RO' WHERE Id=141
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='RU' WHERE Id=142
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='RW' WHERE Id=143
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='KN' WHERE Id=144
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='LC' WHERE Id=145
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='VC' WHERE Id=146
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='WS' WHERE Id=147
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='SM' WHERE Id=148
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ST' WHERE Id=149
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SA' WHERE Id=150
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='SN' WHERE Id=151
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='RS' WHERE Id=152
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SC' WHERE Id=153
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SL' WHERE Id=154
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='SG' WHERE Id=155
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SK' WHERE Id=156
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SI' WHERE Id=157
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='SB' WHERE Id=158
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SO' WHERE Id=159
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ZA' WHERE Id=160
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ES' WHERE Id=161
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='LK' WHERE Id=162
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SD' WHERE Id=163
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SR' WHERE Id=164
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='SZ' WHERE Id=165
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SE' WHERE Id=166
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='CH' WHERE Id=167
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='SY' WHERE Id=168
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='TW' WHERE Id=169
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TJ' WHERE Id=170
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TZ' WHERE Id=171
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='TH' WHERE Id=172
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TG' WHERE Id=173
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TO' WHERE Id=174
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TT' WHERE Id=175
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='TN' WHERE Id=176
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TR' WHERE Id=177
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='TM' WHERE Id=178
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='TV' WHERE Id=179
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='UG' WHERE Id=180
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='UA' WHERE Id=181
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='AE' WHERE Id=182
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='GB' WHERE Id=183
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='US' WHERE Id=184
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='UY' WHERE Id=185
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='UZ' WHERE Id=186
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='VU' WHERE Id=187
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='VA' WHERE Id=188
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='VE' WHERE Id=189
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='VN' WHERE Id=190
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='EH' WHERE Id=191
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='YE' WHERE Id=192
		</sqlStatement>
		<sqlStatement type="all">

			UPDATE Country SET Code='ZM' WHERE Id=193
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='ZW' WHERE Id=194
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='HK' WHERE Id=207
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE Country SET Code='PR' WHERE Id=208
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE Country SET Code='AE' WHERE Id=300
		</sqlStatement>
	</version><version number="3.878" private="true">

		<userChangeDescription>
			Adding content for map popup
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-click-map-define-point', 13, 'Snippet - Click on map to define a point', 'Click on the map to define a point:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-click-once-point-twice-area', 13, 'Snippet - Click once for point twice for area', 'Click once to draw a point on the map, and twice to define an area:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-ie6-not-supported', 13, 'Snippet - IE6 not supported', 'Note: This feature does not support Internet Explorer 6. Please try a different browser.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-apply-and-close', 11, 'Button - Apply and close', 'Apply and close', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-google-map-search-fail', 14, 'Javascript - Google map search not successful', 'Your search was not successful for the following reason:', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-map', 12, 'Link - Map', 'Map', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-define-point-radius', 13, 'Snippet - Define search point and radius', 'Define a search point and radius', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-define-search-area', 13, 'Snippet - Define search area', 'Define a search area', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-map-popup', 16, 'Title - Map Popup', 'Map Popup', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.879" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='The #batch-release# is currently being validated. <a href="?url?">Refresh this page</a> for status updates or <a href=''viewBatchReleaseJobs''>view the job list</a> to see the status of individual validation jobs.' WHERE Identifier='snippet-batch-release-pending' ]]>

		</sqlStatement>

	</version><version number="3.880" private="true">

		<userChangeDescription>
			Added AutoCompletePlugin column for Attribute, to allow AutoComplete attribute to be able to specify a custom plugin
		</userChangeDescription>

		<sqlStatement type="mysql">

			ALTER TABLE Attribute ADD AutoCompletePlugin Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Attribute ADD [AutoCompletePlugin] Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Attribute ADD AutoCompletePlugin NVarchar2(255)
		</sqlStatement>

	</version><version number="3.881" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-changed-batch-release-warning', 13, 'Snippet - Changed batch release warning', 'You have moved this #item# to a new #batch-release#. If it has any dependents they will not be moved to the new #batch-release# automatically, you will need to update them manually if necessary.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.882" private="true">

		<userChangeDescription>
			Fix case of table alias (they are case sensitive when running MySQL on Linux). This was causing an exception on login.
		</userChangeDescription>

	</version><version number="3.883" private="true">

		<userChangeDescription>
			InDesign Document Asset add content for RegeneratePDF button
		</userChangeDescription>

		<sqlStatement type="all">
					<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-indesign-regenerate-pdf', 11, 'Button - InDesign: Regenerate PDF', 'Regenerate PDF', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.884" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='The #batch-release# is currently being validated. There are ?queueCount? jobs in the validation queue. <a href="?url?">Refresh this page</a> for status updates or <a href=''viewBatchReleaseJobs''>view the job list</a> to see the status of individual validation jobs.' WHERE Identifier='snippet-batch-release-pending' ]]>
		</sqlStatement>

	</version><version number="3.885" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-batch-release-notes', 9, 'Label - Batch Release Notes', 'Notes:', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.886" private="true">

		<userChangeDescription>
			InDesign plugin content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-preparing-file-wait', 13, 'Title - preparing file, please wait', 'Preparing file, &nbsp;&nbsp;<span>please wait.</span>', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Please wait while the data file is prepared. This page will be refreshed automatically every 3 seconds to check progress. To check manually please click the ''Next'' button.' WHERE Identifier='snippet-indesign-data-intro'  ]]>
		</sqlStatement>

	</version><version number="3.887" private="true">

		<userChangeDescription>

			InDesign plugin content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Please wait while the file is prepared for editing. This page will be refreshed automatically every 5 seconds to check progress. To check manually please click the ''Next'' button.' WHERE Identifier='snippet-indesign-data-intro'  ]]>
		</sqlStatement>

	</version><version number="3.888" private="true">

		<userChangeDescription>
			System info content for stale form data in SaveAssetAction
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'sys-asset-stale-info', 15, 'System - Asset Stale info', 'The asset has changed since the page was loaded - please try again.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.889" private="true">

		<userChangeDescription>
			Batch release job content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-job-log-intro', 13, 'Snippet - Job log intro', 'The following log shows the messages for the selected currently running job:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-messages-for-job', 13, 'Snippet - No messages for job', 'There are currently no messages for this job.', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-jobs-running', 13, 'Snippet - No jobs running', 'There are currently no batch release jobs running', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-type', 9, 'Label - Type', 'Type:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-started-by', 9, 'Label - Started By', 'Started by:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-start-time', 9, 'Label - Start time', 'Start time:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-job-status', 9, 'Label - Job status', 'Job status:', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'link-view-log', 12, 'Link - View log', 'View log', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-dependency-job', 13, 'Snippet - Dependency Job', 'Dependency Job', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-batch-release-validation', 13, 'Snippet - Batch Release Validation', '#batch-release# Validation', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'link-refresh-the-log', 12, 'Link - Refresh the log', 'Refresh the log', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.890" private="true">

		<userChangeDescription>
			Batch release job content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-in-progress', 13, 'Snippet - In progress', 'In progress', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-pending', 13, 'Snippet - Pending', 'Pending', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.891" private="true">

		<userChangeDescription>
			Internal User Messages add MessageBox for recently Acknowledged Messages
		</userChangeDescription>

		<appSettingChange type="add" section="General config" setting="internal-user-acknowledgements-enabled" value="false">
			<comment>
				Setting to switch on internal user acknowledgments. 'Acknowledged' internal user messages are displayed on the user's home page.
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="General config" setting="messages-browse-panel-number-of-acknowledgements" value="2">
			<comment>
				The number of 'Acknowledged' messages to display on the home page.
			</comment>

		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-acknowledged-user-messages', 10, 'Heading - Acknowledged User Messages', 'Recently Acknowledged User Messages', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-archived-messages', 12, 'Link - View archived messages', 'View archived messages &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.892" private="true">

		<userChangeDescription>
			Added log-concurrent-transactions-any-thread setting.
		</userChangeDescription>

		<appSettingChange type="add" section="Database type" setting="log-concurrent-transactions-any-thread" value="false">
			<comment>
				Log an info message if more than one concurrent transaction is in progress, regardless of the thread. More than one transaction being in progress does not indicate a problem, but this logging can be useful during development.
			</comment>

		</appSettingChange>

	</version><version number="3.893" private="true">

		<userChangeDescription>
			Added EmailDomains to Brands to enable the brand to have specific associated email domains, for automatic approval
		</userChangeDescription>

		<sqlStatement type="mysql">

			ALTER TABLE Brand ADD EmailDomains Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Brand ADD [EmailDomains] Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Brand ADD EmailDomains NVarchar2(255)
		</sqlStatement>

	</version><version number="3.894" private="true">
		<appSettingChange type="add" setting="show-all-tab-keyword-picker" value="true" section="Keyword taxonomy config" appSettingCondition="hide-all-tab-keyword-picker=true">
			<comment>
				Should the 'All' option be showed in the keyword chooser; Changes to publish assets to server using ftp/scp operations
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="show-all-tab-keyword-picker" value="false" section="Keyword taxonomy config" appSettingCondition="hide-all-tab-keyword-picker=false">
			<comment>

				Should the 'All' option be showed in the keyword chooser
			</comment>
		</appSettingChange>

		<appSettingChange type="delete" setting="hide-all-tab-keyword-picker" />

		<appSettingChange type="add" setting="automatically-add-keyhost-entry" value="true" section="CMS integration settings">
			<comment>
				Automatically add host keys to the $HOME/.ssh/known_hosts
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD FileTransferType Varchar(15)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [FileTransferType] Nvarchar(15) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD FileTransferType NVarchar2(15)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD ServerName Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [ServerName] Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD ServerName NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD Username Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [Username] Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD Username NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD Password Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [Password] Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD Password NVarchar2(255)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD UsageTypeId BIGINT DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table PublishAction add Constraint PA_UsageType_FK Foreign Key (UsageTypeId) references UsageType (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table PublishAction add Index IX_PA_UT_FK (UsageTypeId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [UsageTypeId] INTEGER DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [PublishAction] add Constraint [PA_UsageType_FK] foreign key([UsageTypeId]) references [UsageType] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD UsageTypeId INTEGER DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table PublishAction add Constraint PA_UsageType_FK foreign key (UsageTypeId) references UsageType (Id)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD AttributeId BIGINT DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table PublishAction add Constraint PA_Attribute_FK Foreign Key (AttributeId) references Attribute (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table PublishAction add Index IX_PA_Att_FK (AttributeId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [AttributeId] INTEGER DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [PublishAction] add Constraint [PA_Attribute_FK] foreign key([AttributeId]) references [Attribute] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD AttributeId INTEGER DEFAULT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table PublishAction add Constraint PA_Attribute_FK foreign key (AttributeId) references Attribute (Id)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD LastPublished BIGINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [LastPublished] BIGINT DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD LastPublished INTEGER DEFAULT 0 NOT NULL
		</sqlStatement>

	</version><version number="3.895" private="true">

		<userChangeDescription>
			Enabling and disabling of downloading assets to pdf and public light box
		</userChangeDescription>

		<appSettingChange type="add" section="Lightbox settings" setting="download-contact-sheet-as-pdf" value="false">
			<comment>
				Whether to enable the user to download the contact sheet as a PDF. If you set this to true you need to ensure that server-url-from-server is set appropriately. For non-Windows server platforms, wkhtmltopdf must be installed on the server (see wkhtmltopdf-path).
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Lightbox settings" setting="public-lightboxes" value="false">
			<comment>
				Whether 'public' lightboxes are enabled.
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-no-public-lightboxes', 13, 'Snippet - No Public Lightboxes', 'There are no public lightboxes', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-show-on-public-tab', 13, 'Snippet - Show on Public Tab', 'If checked, this lightbox will be shown on the Other Users'' Lightboxes tab.', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-shows-most-recent-modified-public-lightboxes', 13, 'Snippet - Shows Most Recent Modified Public Lightboxes', 'This page shows the most recently modified lightboxes that are visible to all users.', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Date Added' WHERE Identifier='label-created-timestamp' ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Date Last Modified' WHERE Identifier='label-modified-timestamp' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Visible to other users' WHERE Identifier='label-isPublic' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Other Users'' Lightboxes' WHERE Identifier='tab-public-lightboxes' ]]>
		</sqlStatement>

	</version><version number="3.896" private="true">

		<userChangeDescription>
			Update ListItem inline help
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Print highest quality' WHERE Identifier='snippet-print-highest-quality-image' ]]>
		</sqlStatement>

	</version><version number="3.897">

		<userChangeDescription>
			Additional date formats for the different DateFormatTypes added. These additions govern how the help text is displayed.
		</userChangeDescription>

		<appSettingChange type="add" setting="date-format-year-month-help-string" value="mm/yyyy" section="Date/currency format">
			<comment>
				the help text for Year And Month date types, when editing this type of attribute
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="date-format-year-only-help-string" value="yyyy" section="Date/currency format">
			<comment>
				the help text for Year Only date types, when editing this type of attribute
			</comment>

		</appSettingChange>

	</version><version number="3.898" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-transitioning', 9, 'Label - Transitioning', 'Transitioning', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.899" private="true">

		<userChangeDescription>
			Added "Validate" button to batch release page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'link-validate-batch-release', 12, 'Link - Validate (batch release)', 'Validate', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.900" private="true">

		<userChangeDescription>
			Adding some links for geo-spatial attributes, tweaks to content.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-find-nearby-items', 12, 'Link - Fine nearby items', 'Find nearby #items#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-on-map', 12, 'Link - View on map', 'View on map', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='South bounding latitude' WHERE Identifier='label-spatial-area-south' ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='North bounding latitude' WHERE Identifier='label-spatial-area-north' ]]>
		</sqlStatement>

	</version><version number="3.901" private="true">

		<userChangeDescription>

			Update ListItem inline help
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Download as PowerPoint Presentation (will include images only)' WHERE Identifier='label-download-as-ppt' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-select-ppt-template-info', 13, 'Snippet - select ppt template info', 'Select the template you want to use. The images in your lightbox will be inserted one per slide into this template to create your presentation, which you will then be able to download.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.902" private="true">

		<userChangeDescription>
			Added flag "Regenerable" to RepurposedAsset to mark those that can be regenerated following a change in image to the base asset
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedAsset ADD Regenerable Bool NOT NULL DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedAsset ADD [Regenerable] Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE RepurposedAsset ADD Regenerable Char (1) Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.903" private="true">

		<userChangeDescription>
			Update ListItem inline help
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'contact-sheet-extra-label', 1, 'Snippet - Contact sheet extra label', '', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'contact-sheet-extra-value', 1, 'Snippet - Contact sheet extra value', '', 1, 2) ]]>

		</sqlStatement>

		<appSettingChange type="add" setting="contact-sheet-preselected-attribute-ids" value="" section="Server settings">
			<comment>
				List if comma seperated attribute id's whose value associated to the asset would be displayed by default. The attribute id's can be got from the admin settings attribute page
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="contact-sheet-mandatory-attribute-ids" value="" section="Server settings">
			<comment>

				List of comma seperated attributes id's that would be mandatory to be dispalyed on the contact sheet page, these attribute id's will be selected and disabled. The attribute id's can be got from the admin settings attribute page
			</comment>
		</appSettingChange>

	</version><version number="3.904" private="true">

		<userChangeDescription>
			Add error message for invalid point and radius search, and setting for find nearby items distance.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationPointDistance', 15, 'failedValidationPointDistance', 'For point and radius search, please enter a valid point coordinate and a positive radius value.', 1, 2) ]]>
		</sqlStatement>

		<appSettingChange type="add" setting="spatial-search-nearby-distance" value="500" section="Search">
			<comment>
				Distance in km for the 'Find nearby items' function on view asset
			</comment>
		</appSettingChange>

	</version><version number="3.905" private="true">

		<appSettingChange type="update" setting="download-contact-sheet-as-pdf" value="none" section="Lightbox settings">
			<comment>
				Whether to enable the user to download the contact sheet as a PDF. If you set this to true you need to ensure that server-url-from-server is set appropriately.
				For non-Windows server platforms, wkhtmltopdf must be installed on the server (see wkhtmltopdf-path).
				Values are: none, all or admin
			</comment>
		</appSettingChange>

	</version><version number="3.906" private="true">

		<userChangeDescription>
			Add a prefix for the purchase Id.
		</userChangeDescription>

		<appSettingChange type="add" setting="purchase-id-prefix" value="" section="eCommerce settings">
			<comment>
				Use a prefix for the purchase Id
			</comment>

		</appSettingChange>

	</version><version number="3.907" private="true">

		<userChangeDescription>
			Update ListItem inline help and new setting for displaying the watermark option on contact sheet
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='Hide watermark (if permissions allow)' WHERE Identifier='snippet-always-use-watermark' ]]>
		</sqlStatement>

		<appSettingChange type="add" setting="contact-sheet-hide-watermark" value="admin" section="Lightbox settings">
			<comment>
				The show the hide-watermark option only to admin/all or none users.
			</comment>
		</appSettingChange>

	</version><version number="3.908" private="true">

		<userChangeDescription>
			New setting to set the print high resolution on contact sheet
		</userChangeDescription>

		<appSettingChange type="add" setting="contact-sheet-print-high-resolution" value="false" section="Server settings">
			<comment>
				Select the high-resolution option by default on the contact sheet
			</comment>

		</appSettingChange>

	</version><version number="3.909" private="true">

		<userChangeDescription>
			Adding a column called IconFile which holds the location of a icon to represent certain selected list attribute values.
		</userChangeDescription>

		<sqlStatement type="mysql">

			ALTER TABLE ListAttributeValue ADD IconFile Varchar(255)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE ListAttributeValue ADD [IconFile] Nvarchar(255) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE ListAttributeValue ADD IconFile NVarchar2(255)
		</sqlStatement>

	</version><version number="3.910">

		<userChangeDescription>
			Upgraded bright-indesign library
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/bright-indesign-1.0-SNAPSHOT.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/bright-indesign-1.0-SNAPSHOT.jar" />

	</version><version number="3.911" private="true">

		<userChangeDescription>
			Adding message for missing mandatory fields in user profile.
		</userChangeDescription>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'e-missing-mandatory-fields', 1, 'Copy for  missing mandatory fields', 'To progress you must first <a href="viewChangeProfile">complete the mandatory address details</a> in your user profile.<br />Then please re-submit your order.', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.912" private="true">

		<userChangeDescription>
			Added HeightMax and WidthMax to record the original bounding box of the repurposed asset, and these values are used when regenerating repurposed assets
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedVersion ADD HeightMax Varchar(5)
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE RepurposedVersion ADD WidthMax Varchar(5)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedVersion ADD [HeightMax] Nvarchar(5) NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE RepurposedVersion ADD [WidthMax] Nvarchar(5) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE RepurposedVersion ADD HeightMax NVarchar2(5)
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE RepurposedVersion ADD WidthMax NVarchar2(5)
		</sqlStatement>

	</version><version number="3.912" private="true">

		<userChangeDescription>
			Removing the print high-resolution settings, no longer required
		</userChangeDescription>

		<appSettingChange type="delete" setting="contact-sheet-print-high-resolution" />

		<sqlStatement type="all">

			DELETE FROM ListItem WHERE Identifier='snippet-print-highest-quality-image'
		</sqlStatement>

	</version><version number="3.913" private="true">

		<userChangeDescription>
			Added Javascript confirm alert for an InDesign Document when overriding template
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-indd-override-template', 14, 'Javascript - Confirm InDesign Document Override Template', 'If you override the template, then this document will not be automatically updated when the template is edited.', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.914" private="true">

		<userChangeDescription>
			InDesign Document Asset add content for Download InDesign Document button
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-indesign-download-indd', 11, 'Button - InDesign: Download InDesign Document', 'Download INDD File', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.915">

		<userChangeDescription>
			Upgraded various libraries
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILES (IF THEY EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/commons-dbcp.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/commons-lang.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/commons-pool.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/log4j-1.2.8.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/commons-dbcp.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/commons-lang.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/commons-pool.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/log4j-1.2.8.jar" />

	</version><version number="3.916">

		<userChangeDescription>
			Deleted old class files
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILES (IF THEY EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/bluebooks/batchrelease/service/BluebooksDependencyProvider.class
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/batchrelease/InDesignDependencyAction.class
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/batchrelease/InDesignDependencyProvider.class ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/bluebooks/batchrelease/service/BluebooksDependencyProvider.class" />
		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/batchrelease/InDesignDependencyAction.class" />
		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/batchrelease/InDesignDependencyProvider.class" />

	</version><version number="3.917" private="true">

		<userChangeDescription>
			InDesign copy: capitalisation fix
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'Download InDD File' WHERE Identifier = 'button-indesign-download-indd' AND Body LIKE 'Download INDD File' ]]>
		</sqlStatement>

	</version><version number="3.918" private="true">
			<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Title='Label - Number of Symbols', Body='Number of symbols:' WHERE Identifier='label-number-of-symbols' ]]>

		</sqlStatement>
	</version><version number="3.919">

		<userChangeDescription>
			Upgraded bright-indesign library
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/bright-indesign-1.0.jar ]]>

		</userPostUpdateMessage>


		<appFileChange type="delete" file="/WEB-INF/lib/bright-indesign-1.0.jar" />

	</version><version number="3.920" private="true">
		<userChangeDescription>
			Minor content fix
		</userChangeDescription>
		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body='You have <a href="../action/viewCheckedOutAssets">?numCheckedOutAssets? #items#</a> checked out for editing.' WHERE Identifier='snippet-x-items-checked-out' ]]>
		</sqlStatement>
	</version><version number="3.639.2" private="true">

		<userChangeDescription>
			Fixed NullPointerException in an asset bank that is the target of a synhronisation / publish.
		</userChangeDescription>

	</version><version number="3.921" private="true">
		<userChangeDescription>
			Bulk approval UI
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-make-sure-items-selected', 14, 'Javascript - make sure items selected', 'Please make sure you have some #items# selected.', 1, 3) ]]>
		</sqlStatement>
		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-optional', 13, 'Snippet - optional', 'optional', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.922" private="true">

		<userChangeDescription>
			Added missing field in PublishAction table.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE PublishAction ADD PortNumber BIGINT DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE PublishAction ADD [PortNumber] BIGINT DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE PublishAction ADD PortNumber INTEGER DEFAULT 0 NOT NULL
		</sqlStatement>

	</version><version number="3.923">

		<userChangeDescription>
			Attributes order management moved into the Display Attributes section and extended to allow greater control of attribute ordering in the various areas within Asset Bank.
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup ON
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET Name='Search Result' WHERE Id=1
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (6,'Advanced Search') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (7,'Search Builder') ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (8,'View / Edit') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttributeGroup (Id, Name) VALUES (9,'Download Filename') ]]>
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE DisplayAttributeGroup ADD SequenceNumber Int NOT NULL DEFAULT 1
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE DisplayAttributeGroup ADD [SequenceNumber] Integer DEFAULT 1 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE DisplayAttributeGroup ADD SequenceNumber Integer DEFAULT 1 NOT NULL
		</sqlStatement>


		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=1 WHERE Id=8
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=2 WHERE Id=6
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=3 WHERE Id=7
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=4 WHERE Id=1
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=5 WHERE Id=2
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=6 WHERE Id=5
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=7 WHERE Id=3
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=8 WHERE Id=9
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE DisplayAttributeGroup SET SequenceNumber=9 WHERE Id=4
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttribute (DisplayAttributeGroupId, AttributeId, SequenceNumber) SELECT 8, Id, SequenceNumber FROM Attribute WHERE Hidden=0 ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttribute (DisplayAttributeGroupId, AttributeId, SequenceNumber) SELECT 6, Id, SequenceNumber FROM Attribute WHERE isSearchField=1 ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO DisplayAttribute (DisplayAttributeGroupId, AttributeId, SequenceNumber) SELECT 7, Id, SequenceNumber FROM Attribute WHERE isSearchBuilderField=1 ]]>
		</sqlStatement>


		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup OFF
		</sqlStatement>


		<sqlStatement type="all" appSettingCondition="download-filename-use-original=true">
			<![CDATA[ INSERT INTO DisplayAttribute (DisplayAttributeGroupId, AttributeId, SequenceNumber) VALUES (9, 6, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="use-id-for-download-filenames=true">
			<![CDATA[ INSERT INTO DisplayAttribute (DisplayAttributeGroupId, AttributeId, SequenceNumber) VALUES (9, 2, 1) ]]>
		</sqlStatement>

		<appSettingChange type="delete" setting="download-filename-use-original" />

		<appSettingChange type="delete" setting="use-id-for-download-filenames" />

		<sqlStatement type="sqlserver">

			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('Attribute')
			AND name = 'SequenceNumber'
			IF @default IS NOT NULL
			EXEC ('ALTER TABLE [Attribute] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('Attribute')
			AND name = 'Hidden'
			EXEC ('ALTER TABLE [Attribute] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('Attribute')
			AND name = 'isSearchField'
			EXEC ('ALTER TABLE [Attribute] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>

		<sqlStatement type="sqlserver">

			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('Attribute')
			AND name = 'isSearchBuilderField'
			EXEC ('ALTER TABLE [Attribute] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE Attribute DROP COLUMN SequenceNumber
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE Attribute DROP COLUMN Hidden
		</sqlStatement>

		<sqlStatement type="all">

			ALTER TABLE Attribute DROP COLUMN isSearchField
		</sqlStatement>

		<sqlStatement type="all">
			ALTER TABLE Attribute DROP COLUMN isSearchBuilderField
		</sqlStatement>

	</version><version number="3.924" private="true">
		<userChangeDescription>

			Attributes order management moved in the Display Attributes section.
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES	(1, 'snippet-confirm-batch-release-transition', 13, 'Snippet - Confirm batch release transition', 'Are you sure you want to transition this #batch-release#?', 1, 3)
		</sqlStatement>
	</version><version number="3.925" private="true">
		<userChangeDescription>
			Added setting to control whether just the first or all assets are updated if the id of a data row matches multiple assets
		</userChangeDescription>

		<appSettingChange type="add" setting="import-multiple-match-update-first-only" value="false" section="Import/Export settings">
			<comment>
				If the id (e.g. filename) for an import row matches multiple assets, should all be updated or just the first? false=all updated; true=first only updated
			</comment>
		</appSettingChange>
	</version><version number="3.926" private="true">
		<userChangeDescription>

			InDesign: more content.
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationInDesignTemplate', 15, 'failedValidationInDesignTemplate', 'Please select a template.', 1, 2)
		</sqlStatement>
	</version><version number="3.927" private="true">
		<userChangeDescription>
			Added content snippet for full size on on one page for contact sheet.
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-full-page', 13, 'Snippet - full page', 'full page', 1, 2)
		</sqlStatement>
	</version><version number="3.928" private="true">
		<userChangeDescription>
			Minor content tweak on client side edit page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Preparing file, <span>please wait.</span>' WHERE Identifier='title-preparing-file-wait' ]]>
		</sqlStatement>
	</version><version number="3.929" private="true">
		<userChangeDescription>
			Minor content changes for contact sheet - compare_assets.jsp
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='currently <strong>?numPerPage?</strong> image per page' WHERE Identifier='snippet-currently-x-image-pp' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='currently <strong>?numPerPage?</strong> images per page' WHERE Identifier='snippet-currently-x-images-pp' ]]>
		</sqlStatement>

	</version><version number="3.930" private="true">
		<userChangeDescription>
			Adding bulk approval content to database
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-message', 13, 'Snippet - Message', 'Message', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-message', 13, 'Snippet -No message', 'No message', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.931" private="true">

		<userChangeDescription>
			Minor content changes on agreements management pages.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Copy selected agreement &raquo;' , Title='Link - Copy selected agreement' WHERE Identifier='link-edit-agreement' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-copy-agreement', 10, 'Subhead - Copy agreement', 'Copy Agreement', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.932" private="true">

		<userChangeDescription>
			Minor content changes on agreements management pages.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-approval-messages', 12, 'Link - View approval messages', 'View approval messages', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-view-workflow-audit', 19, 'Tooltip - View workflow audit popup', 'View asset workflow audit in a new window', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.933" private="true">
		<userChangeDescription>
			Added setting to enable extra non-tokens to be specified for keyword picker attributes
		</userChangeDescription>

		<appSettingChange type="add" setting="keyword-additional-non-tokens" value="\\s" section="Keyword taxonomy config">
			<comment>
				Any extra strings to treat as non-tokens in keyword picker attribute values. These will be used in addition to the delimiter specified in 'keyword-delimiter' above.
				This must be in regex syntax. The default below adds a space, which means that single words entered in a keyword attribute on the search page(s) will match any word in a multi-word keyword. For exact matches only, remove this.
			</comment>
		</appSettingChange>
	</version><version number="3.934" private="true">
		<userChangeDescription>

			Added setting to force publishing to a jail directory
		</userChangeDescription>

		<appSettingChange type="add" setting="publishing-file-copy-jail-directory" value="/assetbank/publish/" section="General config">
			<comment>
				The directory to constrain any simple file copy publishing actions to, stops admin users being able to publish any kind of file to anywhere on the Asset Bank servers disk. This can be left blank if you are happy for admin users to be able to publish to any location on the Asset Bank server but it does result in a security risk. It is strongly recommended that this setting is populated.
			</comment>
		</appSettingChange>
	</version><version number="3.935" private="true">
		<userChangeDescription>
			Fixed problem with keyword searchable flag on keyword attributes
		</userChangeDescription>
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

		<sqlStatement type="all">
			UPDATE Attribute SET IsKeywordSearchable=1 WHERE AttributeTypeId=7
		</sqlStatement>

	</version><version number="3.936" private="true">
		<userChangeDescription>
			Added setting to limit batch release search results
		</userChangeDescription>

		<appSettingChange type="add" setting="batch-release-search-limit" value="500" section="General config">
			<comment>
				The maximum number of search results to return for a batch release. If a search exceeds this amount then a 'Your search returned X results of which Y are shown below' type message.
			</comment>

		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'search-results-restricted', 13, 'Snippet - Number of search results (restricted)', 'Your search returned ?totalHits? results, of which ?numberHits? are shown below', 1, 3) ]]>
		</sqlStatement>

	</version><version number="3.937">

		<userChangeDescription>

			Upgraded bright-indesign library
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/bright-indesign-1.1.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/bright-indesign-1.1.jar" />

	</version><version number="3.938" private="true">

		<userChangeDescription>
			InDesign: show whether template is overridden on view asset page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-indesign-asset-overrides-template', 13, 'Snippet - Asset overrides template', '(overridden)', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.939" private="true">

		<userChangeDescription>
			Should the 'All' option be showed in the keyword chooser.
		</userChangeDescription>

		<appSettingChange type="add" setting="show-all-tab-keyword-picker" value="true" section="Keyword taxonomy config">
			<comment>
				Should the 'All' option be showed in the keyword chooser
			</comment>

		</appSettingChange>

	</version><version number="3.940" private="true">

		<userChangeDescription>
			Initial framework for video keywords
		</userChangeDescription>

		<sqlStatement type="mysql">

			Create table VideoKeyword (
				Id Bigint NOT NULL AUTO_INCREMENT,
				VideoAssetId Bigint NOT NULL,
				Keywords Text NOT NULL,
				StartTime Bigint DEFAULT 0,
				Duration Bigint,
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table VideoKeyword add Constraint VK_VideoAsset_FK Foreign Key (VideoAssetId) references VideoAsset (AssetId) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			alter table VideoKeyword default character set utf8
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table VideoKeyword (
				Id Integer NOT NULL ,
				VideoAssetId Integer NOT NULL ,
				Keywords NVarchar2(2000) NOT NULL ,
				StartTime Integer Default 0,
				Duration Integer,
			 Constraint pk_VideoKeyword primary key (Id))
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_VK_VideoAsset_FK ON VideoKeyword (VideoAssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table VideoKeyword add Constraint VK_VideoAsset_FK foreign key (VideoAssetId) references VideoAsset (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE VideoKeywordSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [VideoKeyword]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[VideoAssetId] Integer NOT NULL,
				[Keywords] Nvarchar(2000) NOT NULL,
				[StartTime] Integer Default 0 NULL,
				[Duration] Integer NULL,
			Constraint [pk_VideoKeyword] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_VK_VideoAsset_FK] ON [VideoKeyword] ([VideoAssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [VideoKeyword] add Constraint [VK_VideoAsset_FK] foreign key([VideoAssetId]) references [VideoAsset] ([AssetId])  on update no action on delete no action
		</sqlStatement>

	</version><version number="3.941" private="true">

		<userChangeDescription>
			Enable org unit groups to be created with zero permissions
		</userChangeDescription>

		<appSettingChange type="add" setting="org-unit-zero-permissions" value="false" section="Organisational units">
			<comment>
				Whether to default new organisational unit groups to zero permission level for both upload and download
			</comment>
		</appSettingChange>

	</version><version number="3.942" private="true">

		<userChangeDescription>
			Security Enhancements - Added RDBMS tables: UserSecurity &amp; SecurityQuestion
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser ADD DateLastModified Datetime
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table UserSecurity (
				AssetBankUserId Bigint NOT NULL,
				FirstQuestionId Bigint,
				FirstQuestionAnswer Varchar(255),
				SecondQuestionId Bigint,
				SecondQuestionAnswer Varchar(255),
				CookieCreationDate Datetime,
				IsLocked Bool NOT NULL DEFAULT 0,
				LockDate Datetime,
				FirstAttemptDate Datetime,
				AttemptCount Int NOT NULL DEFAULT 0,
				ResetPasswordAuthId Varchar(255) NOT NULL DEFAULT 0,
			 Primary Key (AssetBankUserId)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table SecurityQuestion (
				Id Bigint NOT NULL,
				GroupId Int NOT NULL,
				Value Varchar(255) NOT NULL,
			 Primary Key (Id)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UserSecurity add Constraint UserSecurity_ABUser_FK Foreign Key (AssetBankUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UserSecurity add Constraint UserSecurity_Question_1_FK Foreign Key (FirstQuestionId) references SecurityQuestion (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table UserSecurity add Constraint UserSecurity_Question_2_FK Foreign Key (SecondQuestionId) references SecurityQuestion (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE AssetBankUser ADD DateLastModified Date
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table UserSecurity (
				AssetBankUserId Integer NOT NULL ,
				FirstQuestionId Integer ,
				FirstQuestionAnswer NVarchar2(255),
				SecondQuestionId Integer ,
				SecondQuestionAnswer NVarchar2(255),
				CookieCreationDate Date,
				IsLocked Char (1) Default 0 NOT NULL ,
				LockDate Date,
				FirstAttemptDate Date,
				AttemptCount Integer Default 0 NOT NULL ,
				ResetPasswordAuthId NVarchar2(255) Default 0 NOT NULL ,
			 Constraint pk_UserSecurity primary key (AssetBankUserId)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table SecurityQuestion (
				Id Integer NOT NULL ,
				GroupId Integer NOT NULL ,
				Value NVarchar2(255) NOT NULL ,
			 Constraint pk_SecurityQuestion primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table UserSecurity add Constraint UserSecurity_ABUser_FK foreign key (AssetBankUserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_UserSecurity_Question_1_FK ON UserSecurity (FirstQuestionId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table UserSecurity add Constraint UserSecurity_Question_1_FK foreign key (FirstQuestionId) references SecurityQuestion (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_UserSecurity_Question_2_FK ON UserSecurity (SecondQuestionId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table UserSecurity add Constraint UserSecurity_Question_2_FK foreign key (SecondQuestionId) references SecurityQuestion (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE AssetBankUser ADD DateLastModified Datetime NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [UserSecurity]
			(
				[AssetBankUserId] Integer NOT NULL,
				[FirstQuestionId] Integer,
				[FirstQuestionAnswer] Nvarchar(255) NULL,
				[SecondQuestionId] Integer,
				[SecondQuestionAnswer] Nvarchar(255) NULL,
				[CookieCreationDate] Datetime NULL,
				[IsLocked] Tinyint Default 0 NOT NULL,
				[LockDate] Datetime NULL,
				[FirstAttemptDate] Datetime NULL,
				[AttemptCount] Integer Default 0 NOT NULL,
				[ResetPasswordAuthId] Nvarchar(255) Default 0 NOT NULL,
			Constraint [pk_UserSecurity] Primary Key ([AssetBankUserId])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [SecurityQuestion]
			(
				[Id] Integer NOT NULL,
				[GroupId] Integer NOT NULL,
				[Value] Nvarchar(255) NOT NULL,
			Constraint [pk_SecurityQuestion] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_UserSecurity_ABUser_FK] ON [UserSecurity] ([AssetBankUserId])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [UserSecurity] add Constraint [UserSecurity_ABUser_FK] foreign key([AssetBankUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_UserSecurity_Question_1_FK] ON [UserSecurity] ([FirstQuestionId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [UserSecurity] add Constraint [UserSecurity_Question_1_FK] foreign key([FirstQuestionId]) references [SecurityQuestion] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_UserSecurity_Question_2_FK] ON [UserSecurity] ([SecondQuestionId])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [UserSecurity] add Constraint [UserSecurity_Question_2_FK] foreign key([SecondQuestionId]) references [SecurityQuestion] ([Id])  on update no action on delete no action
		</sqlStatement>

	</version><version number="3.943" private="true">

		<userChangeDescription>
			Security Enhancements - Added RDBMS tables: UserSecurity &amp; SecurityQuestion
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (1,1,'What was your childhood nickname?')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (2,1,'In what city did you meet your spouse/partner?')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (3,1,'What is the name of your favourite childhood friend?')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (4,1,'What street did you live on when you were eight?')
		</sqlStatement>
		<sqlStatement type="all">

			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (5,1,'What is the name of the first school you attended?')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (6,2,'What is your oldest sibling''s birthday month and year? (e.g. January 1980)')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (7,2,'What is the middle name of your youngest child?')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (8,2,'What is your oldest sibling''s middle name?')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (9,2,'What was your childhood phone number including area code? (e.g. 01273 669 490)')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO SecurityQuestion (Id,GroupId,Value) VALUES (10,2,'What is your oldest cousin''s first and last name?')
		</sqlStatement>

	</version><version number="3.944" private="true">

		<userChangeDescription>
			Setting to default to panel display for categories
		</userChangeDescription>

		<appSettingChange type="add" setting="default-category-browsing-to-panels" value="false" section="General config">
			<comment>
				Whether categories should default to the panelling - only applicable if a paneller has been set in the plugin-classes setting
			</comment>
		</appSettingChange>

	</version><version number="3.945" private="true">

		<userChangeDescription>
			Fixing release
		</userChangeDescription>

	</version><version number="3.946">

		<userChangeDescription>

			Added support for PCX images
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT FileFormat ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO FileFormat (Id, Name, Description, FileExtension, AssetTypeId, IsIndexable, IsConvertable, IsConversionTarget, ThumbnailFileLocation, ContentType) VALUES (24, 'PCX', 'PCX - Personal Computer eXchange bitmap', 'pcx', 2, 0, 1, 0, null, null)
		</sqlStatement>

		<sqlStatement type="sqlserver">

			SET IDENTITY_INSERT FileFormat OFF
		</sqlStatement>

	</version><version number="3.947">

		<userChangeDescription>
			Security Enhancements - Modified UserSecurity Table to allow question FKs to have NULL values.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE UserSecurity MODIFY FirstQuestionId Bigint
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE UserSecurity MODIFY SecondQuestionId Bigint
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE UserSecurity MODIFY FirstQuestionId Integer
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE UserSecurity MODIFY SecondQuestionId Integer
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UserSecurity ALTER COLUMN FirstQuestionId Integer
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UserSecurity ALTER COLUMN SecondQuestionId Integer
		</sqlStatement>

	</version><version number="3.948" private="true">

		<userChangeDescription>
			Renaming table from to remove InDesign prefix (in order for it to be generic), and added various columns
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE InDesignJob DROP FOREIGN KEY InDJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE InDesignJob DROP CONSTRAINT InDJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE InDesignJob DROP CONSTRAINT InDJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="all">
			DROP TABLE InDesignJobStatus
		</sqlStatement>

		<sqlStatement type="all">
			DROP TABLE InDesignJob
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table JobStatus (
				Id Int NOT NULL,
				Name Varchar(255) NOT NULL,
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table JobContext (
				Id Bigint NOT NULL AUTO_INCREMENT,
				AssetId Bigint,
				JobStatusId Int NOT NULL,
				JobType Varchar(50) NOT NULL,
				Priority Int NOT NULL DEFAULT 5,
				DateCreated Datetime NOT NULL,
				DateModified Datetime,
				ClientReference Varchar(255) NOT NULL,
				Message Mediumtext,
				NewJobType Char(20),
				ClientReferenceType Int,
				RefData Longtext,
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table JobContext add Constraint JobContext_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table JobContext add Index IX_InDJob_JobStatus_FK (JobStatusId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table JobContext add Constraint InDJob_JobStatus_FK Foreign Key (JobStatusId) references JobStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table JobStatus (
				Id Integer NOT NULL ,
				Name NVarchar2(255) NOT NULL ,
			 Constraint pk_JobStatus primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table JobContext (
				Id Integer NOT NULL ,
				AssetId Integer,
				JobStatusId Integer NOT NULL ,
				JobType NVarchar2(50) NOT NULL ,
				Priority Integer Default 5 NOT NULL ,
				DateCreated Date NOT NULL ,
				DateModified Date,
				ClientReference NVarchar2(255) NOT NULL ,
				Message NClob,
				NewJobType NChar(20),
				ClientReferenceType Integer,
				RefData NClob,
			 Constraint pk_JobContext primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_JobContext_Asset_FK ON JobContext (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table JobContext add Constraint JobContext_Asset_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_InDJob_JobStatus_FK ON JobContext (JobStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table JobContext add Constraint InDJob_JobStatus_FK foreign key (JobStatusId) references JobStatus (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [JobStatus]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[Name] Nvarchar(255) NOT NULL,
			Constraint [pk_JobStatus] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [JobContext]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[AssetId] Integer NULL,
				[JobStatusId] Integer NOT NULL,
				[JobType] Nvarchar(50) NOT NULL,
				[Priority] Integer Default 5 NOT NULL,
				[DateCreated] Datetime NOT NULL,
				[DateModified] Datetime NULL,
				[ClientReference] Nvarchar(255) NOT NULL,
				[Message] Ntext NULL,
				[NewJobType] Char(20) NULL,
				[ClientReferenceType] Integer NULL,
				[RefData] Ntext NULL,
			Constraint [pk_JobContext] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_JobContext_Asset_FK] ON [JobContext] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [JobContext] add Constraint [JobContext_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_InDJob_JobStatus_FK] ON [JobContext] ([JobStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [JobContext] add Constraint [InDJob_JobStatus_FK] foreign key([JobStatusId]) references [JobStatus] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT JobStatus ON
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO JobStatus (Id, Name) VALUES (1, 'Pending')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO JobStatus (Id, Name) VALUES (2, 'Running')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO JobStatus (Id, Name) VALUES (3, 'Completed')
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO JobStatus (Id, Name) VALUES (4, 'Failed')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT JobStatus OFF
		</sqlStatement>

	</version><version number="3.949" private="true">
		<appSettingChange type="add" setting="us-state-mandatory" value="false" section="Keyword taxonomy config">
		</appSettingChange>
	</version><version number="3.950" private="true">
		<userChangeDescription>

			Fix large lightbox jsp.
		</userChangeDescription>
	</version><version number="3.951" private="true">

		<userChangeDescription>
			UI enhancements to batch releases
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-validity', 9, 'Label - Validity', 'Validity:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-invalid', 13, 'Snippet - Invalid', 'Invalid', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-valid', 13, 'Snippet - Valid', 'Valid', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-being-validated', 13, 'Snippet - Currently being validated', 'Currently being validated', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.952" private="true">

		<userChangeDescription>
			removing attribute that was needed after all
		</userChangeDescription>

		<appSettingChange type="delete" setting="us-state-mandatory" />

	</version><version number="3.953">

		<userChangeDescription>
			Minor category updates
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets'.
		</userPostUpdateMessage>

	</version><version number="3.954" private="true">

		<userChangeDescription>
			Adding a piece of content managed text to enable it to be dynamic. It's intended for custom content.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1,'snippet-us-state-cant-be-null', 13, 'snippet-us-state-cant-be-null', 'Please enter a value for US State', 1, 2) ]]>

		</sqlStatement>

	</version><version number="3.955" private="true">

		<userChangeDescription>
			Added new version so that sql server fixes above can take effect.
		</userChangeDescription>

	</version><version number="3.956">

		<userChangeDescription>
			Deleted old class files
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILES (IF THEY EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/impl/InDesignJobServiceImpl.class
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/InDesignJob.class
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/impl/InDesignJobRepositoryImpl.class ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/impl/InDesignJobServiceImpl.class" />
		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/InDesignJob.class" />
		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/impl/InDesignJobRepositoryImpl.class" />

	</version><version number="3.957">

		<!-- this is the public version that first announces the InDesign functionality - the functionality was actually present and in-development for a while before this version -->
		<userChangeDescription>

			Added special support for InDesign documents. Asset Bank can now generate PDFs from InDesign documents, populate fields in InDesign documents from asset attribute data and can track dependencies between documents and images stored as assets (so that PDFs for documents can be regenerated when the images change).
			This functionality requires an extra license (it's not included in the standard or enterprise editions of Asset Bank), please contact info@assetbank.co.uk for details.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-regenerate-all-pdfs-in-batch-release', 11, 'Button - InDesign: Regenerate all PDFs in batch release', 'Regenerate PDFs for all InDesign Documents', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.958" private="true">
		<userChangeDescription>

			Change text on add success screen, to go with new separate links
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='You may also add a ?childName? or multiple ?childrenName? to this ?typeName?.' WHERE Identifier='upload-success-parent' ]]>
		</sqlStatement>

	</version><version number="3.959" private="true">
		<userChangeDescription>

			Added missing children message for old versions
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-related-latest-version', 13, 'Snippet - Related latest version', '<p>Related #item#s are only shown for the most recent version of this #item#.</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.960" private="true">

		<userChangeDescription>
			Added missing children message for old versions
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-batch-release-invalid'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-add-asset-to-batch-release'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-no-batch-releases-to-add-to'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-delete-asset-batch-release-warning'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-in-batch-release-released'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-in-batch-release'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-outstanding-acknowledgement-user'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-outstanding-acknowledgements-user'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-outstanding-acknowledgement-total'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-outstanding-acknowledgements-total'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-add-copy-to-batch-release'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-batch-release-pending'
		</sqlStatement>

		<sqlStatement type="all">
			UPDATE ListItem SET ListItemTextTypeId=1 WHERE Identifier='snippet-batch-release-not-released'
		</sqlStatement>

	</version><version number="3.961">

		<userChangeDescription>
			Upgraded PDFBox library to fix errors when indexing text in PDFs
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/PDFBox-0.7.2.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/PDFBox-0.7.2.jar" />

	</version><version number="3.962" private="true">
		<userChangeDescription>
			Changes to allow editing with approval
		</userChangeDescription>


		<appSettingChange type="add" setting="upload-with-approval-can-edit-with-approval" value="own" section="General config" appSettingCondition="upload-with-approval-can-edit-own-with-approval=true">
			<comment>
				Setting to define whether an upload with approval user can edit files with approval. There are three options that either allow the user to edit their own uploaded files with approval, edit any uploaded files with approval (subject to permissions) and none, which restricts the user to uploading with approval (options are: none, own and any)
			</comment>

		</appSettingChange>


		<appSettingChange type="add" setting="upload-with-approval-can-edit-with-approval" value="none" section="General config" appSettingCondition="upload-with-approval-can-edit-own-with-approval=false">
			<comment>
				Setting to define whether an upload with approval user can edit files with approval. There are three options that either allow the user to edit their own uploaded files with approval, edit any uploaded files with approval (subject to permissions) and none, which restricts the user to uploading with approval (options are: none, own and any)
			</comment>
		</appSettingChange>

		<appSettingChange type="delete" setting="upload-with-approval-can-edit-own-with-approval" />

	</version><version number="3.963" private="true">
		<userChangeDescription>
			Added facility to enforce filename uniqueness on upload
		</userChangeDescription>


		<appSettingChange type="add" setting="unique-filenames" value="false" section="General config">
			<comment>

				Should uploaded filenames be unique?
			</comment>
		</appSettingChange>

	</version><version number="3.964" private="true">
		<userChangeDescription>
			Allow accessLevelsOnHomepage to be all, admin, none
		</userChangeDescription>

		<appSettingChange type="update" section="Browse settings" setting="accessLevelsOnHomepage" value="all" appSettingCondition="accessLevelsOnHomepage=true">
			<comment>
				Whether to display the access levels on the homepage. Can have one of three values: all, admin, none. all means shown to all users; admin means shown to admin users only; none means hidden from all
			</comment>
		</appSettingChange>

		<appSettingChange type="update" section="Browse settings" setting="accessLevelsOnHomepage" value="admin" appSettingCondition="accessLevelsOnHomepage=false">
			<comment>
				Whether to display the access levels on the homepage. Can have one of three values: all, admin, none. all means shown to all users; admin means shown to admin users only; none means hidden from all
			</comment>

		</appSettingChange>

	</version><version number="3.965">

		<userChangeDescription>
			Asset Bank Security Enhancements: Security Questions (optional) and Secure Link for "Forgotten Password" functionality, User account lockout after a given number of failed attempts.
		</userChangeDescription>

		<appSettingChange type="add" setting="use-security-questions" value="false" section="User registration/ login">

			<comment>
				Use security questions for Forgotten Password functionality
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="auto-login-expiry-cookie" value="10" section="User registration/ login">
			<comment>
				The number of days before the auto-login cookie expires (if allowAutoLoginUsingCookie=true)
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="max-login-attempts" value="10" section="User registration/ login">
			<comment>
				The number of failed login attempt before the user is locked out (0 means never lockout)
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="max-login-attempts-hours" value="12" section="User registration/ login">
			<comment>
				The period of time which max-login-attempts are considered
			</comment>

		</appSettingChange>

		<appSettingChange type="add" setting="min-lockout-hours" value="24" section="User registration/ login">
			<comment>
				The number of hours before the locked out user will be unlocked automatically
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			<![CDATA[ UPDATE SecurityQuestion SET Value = 'What was your childhood phone number including area code? (e.g. 01273669490)' WHERE Id = '9' ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>You have been approved as a user of Asset Bank. <br><br>You now need to follow the link below to complete your registration process and set a secure password:<br>#baseUrl#/#link#=#authId#<br><br>#adminMessage#<br><br>Kind regards,<br>Asset Bank Admin' WHERE TextId = 'user_approved' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body = 'Dear #name#<br><br>Here are the details to reset your Asset Bank password.<br><br>You now need to follow the link below to reset your password and set a new one:<br>#baseUrl#/#link#=#authId#<br><br>Kind Regards,<br>Asset Bank Admin' WHERE TextId = 'password_reminder' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = 'You can also <a href="viewChangePassword">change your password</a>' WHERE Identifier = 'profile-change-password' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p>Please enter your details below completing at least your username or email address.</p>' WHERE Identifier = 'intro-forgot-pwd' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body = '<p>Please enter your details below completing at least your username (your email address).</p>' WHERE Identifier = 'intro-forgot-pwd-isemail' ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-password-reset', 10, 'Heading - Password Reset', 'Password Reset', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-password-reset', 1, 'Intro - Password Reset', '<p>An email has been sent to the address associated with this account.<br/>Please follow the secure link within to progress.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'strong-password-guidance', 15, 'strong-password-guidance', 'Please note that the password:<ul><li>Must contain at least one number, one capital letter and be a minimum of 8 characters long.</li><li>Should be easy to remember.</li><li>Should not be based on anything someone else could easily guess or obtain using easily known information.</li><li>Should be confidential and it is your responsibility keeping that status.</li></ul>', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-create-new-password', 16, 'Title - Create New Password', '#company-name# | #heading-create-new-password#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-create-new-password', 10, 'Heading - Create New Password', 'Create New Password', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-define-security-questions', 10, 'Heading - Define Your Security Questions', 'Define Your Security Questions', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-define-security-questions', 1, 'Intro - Define Security Questions', '<p>Please choose and complete the two security questions below. These will be used if you need to reset your password should you forget it.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-security-questions', 16, 'Title - Security Questions', '#company-name# | #heading-security-questions#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-security-questions', 10, 'Heading - Security Questions', 'Security Questions', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-update-profile', 10, 'Heading - Update Profile', 'Update Your Profile', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'update-profile', 1, 'Update profile form copy', 'The copy shown on the update profile page.', '<p><strong>Security Update</strong></p><p>The security on this site has now been upgraded.<br/>Please complete the short form below to update your profile.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-password-reminder-failed-ldap-user', 13, 'Snippet - Failed password reminder LDAP user', 'Your password cannot be changed using Asset Bank because your authentication is handled by an LDAP server. Please contact your IT department to find out how to change your username and password.', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeId) VALUES (1, 'snippet-password-reminder-failed', 13, 'Snippet - Failed password reminder', 'Sorry, we could not find a user matching the details you entered. Please try again.', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'profile-change-security-questions', 1, 'Profile change security questions', 'or <a href="viewChangeSecurityQuestions">change your security questions</a>.', 1, 3) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-security-questions-one', 9, 'Label - Security Question One', 'Security Question One', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-security-questions-two', 9, 'Label - Security Question Two', 'Security Question Two', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSecurityQuestions', 15, 'failedValidationSecurityQuestions', 'Please select two Security Questions.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationSecurityAnswers', 15, 'failedValidationSecurityAnswers', 'The Security Answers cannot be empty - please enter a value in all fields.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationResetPasswordAuthId', 15, 'failedValidationResetPasswordAuthId', 'The provided link is not valid.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedSecurityAnswers', 15, 'failedSecurityAnswers', 'The provided answers are not valid.', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-account-locked-out', 13, 'Snippet - Account Locked Out', 'Sorry, your account has been locked out. Please use the <a href="../action/viewPasswordReminder">forgotten password</a><br/>functionality to restore your password.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-security-questions-changed', 16, 'Title - Security Questions', '#company-name# | #heading-security-questions-changed#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-security-questions-changed', 10, 'Heading - Security Questions', 'Security Questions Changed', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-security-questions-changed', 1, 'Intro - Security Questions', '<p>Your security questions have successfully been updated.</p><p>Please use the left hand menu to continue using the Image Bank.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-profile-updated', 10, 'Heading - Profile Updated', 'Your profile has been updated, please login again.', 1, 2) ]]>

		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-password-updated', 10, 'Heading - Password Updated', 'Your password has been updated, please login again.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-your-username', 9, 'Label - Your Username', 'Your Username is', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-your-answer', 9, 'Label - Your Answer', 'Your Answer:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'Send Link', Title = 'Button - Password Reset' WHERE Identifier = 'e-button-password-reminder' ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'Forgotten your password? Enter your details and click &quot;#e-button-password-reminder#&quot; and we will send you a secure link to reset your password.' WHERE Identifier = 'e-login-forgotten-password' ]]>

		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'A secure link has been sent to you - please check your inbox and sign in below under &quot;Existing customers&quot;.' WHERE Identifier = 'e-reminder-sent' ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'A secure link has been sent to you - please check your inbox and sign in.' WHERE Identifier = 'e-password-remind-sent' ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'A secure link could not be sent for that account.<br />Try correcting the username or email address if it is wrong.' WHERE Identifier = 'e-reminder-not-sent' ]]>
		</sqlStatement>

		<sqlStatement type="all" appSettingCondition="ecommerce=true">
			<![CDATA[ UPDATE ListItem SET Body = 'A secure link could not be sent for that account.<br />Try correcting the username or email address if it is wrong. If you do not have an account, then please use the &quot;New customers&quot; form.' WHERE Identifier = 'e-reminder-not-sent-at-checkout' ]]>
		</sqlStatement>

	</version><version number="3.966" private="true">
		<userChangeDescription>
			Changes to allow editing with approval
		</userChangeDescription>

		<appSettingChange type="update" section="General config" setting="upload-with-approval-can-edit-with-approval" value="true" appSettingCondition="upload-with-approval-can-edit-with-approval=any">
			<comment>
				Setting to define whether an upload with approval user can edit files with approval. Options are true of false. Users can optionally be constrained to only editing files they have uploaded with the 'Editors can only edit own files' checkbox on the group edit page.
			</comment>

		</appSettingChange>

		<appSettingChange type="update" section="General config" setting="upload-with-approval-can-edit-with-approval" value="true" appSettingCondition="upload-with-approval-can-edit-with-approval=own">
			<comment>
				Setting to define whether an upload with approval user can edit files with approval. Options are true of false. Users can optionally be constrained to only editing files they have uploaded with the 'Editors can only edit own files' checkbox on the group edit page.
			</comment>
		</appSettingChange>

		<appSettingChange type="update" section="General config" setting="upload-with-approval-can-edit-with-approval" value="false" appSettingCondition="upload-with-approval-can-edit-with-approval=none">
			<comment>

				Setting to define whether an upload with approval user can edit files with approval. Options are true of false. Users can optionally be constrained to only editing files they have uploaded with the 'Editors can only edit own files' checkbox on the group edit page.
			</comment>
		</appSettingChange>

	</version><version number="3.967">
		<userChangeDescription>
			Asset Bank Video Preview Enhancements: Enable the use of Video Keywords to jump to a specific time in a video preview.
		</userChangeDescription>

		<appSettingChange type="add" setting="use-video-keywords" value="false" section="Server settings">
			<comment>
				Enable the use of Video Keywords to jump to a specific time in a video preview.
				Note: Required data storage and network bandwidth will increase if set to true.
				(The FLV size increases as keyframes and FLV MetaData will be added to the file.
				HTTP pseudo streaming will be enabled which will mean more HTTP calls from browser to server.)
			</comment>
		</appSettingChange>

		<sqlStatement type="mysql">
			ALTER TABLE VideoAsset ADD hasFLVMetaData Bool NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="oracle">

			ALTER TABLE VideoAsset ADD hasFLVMetaData Char (1) Default 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE VideoAsset ADD [hasFLVMetaData] Tinyint Default 0 NOT NULL
		</sqlStatement>

	</version><version number="3.968">

		<userChangeDescription>

			Deleted old class files
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILES (IF THEY EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/InDesignJobService.class
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/InDesignJobService$Group.class
			[TOMCAT]/webapps/asset-bank/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/impl/JobServiceImpl.class ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/InDesignJobService.class" />
		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/InDesignJobService$Group.class" />
		<appFileChange type="delete" file="/WEB-INF/classes/com/bright/assetbank/custom/indesign/job/service/impl/JobServiceImpl.class" />

	</version><version number="3.969" private="true">

		<userChangeDescription>
			Renaming table from to remove Context postfix, and removed redundant column
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE JobContext DROP FOREIGN KEY InDJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE JobContext DROP CONSTRAINT InDJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE JobContext DROP CONSTRAINT InDJob_JobStatus_FK
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE JobContext DROP FOREIGN KEY JobContext_Asset_FK
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE JobContext DROP CONSTRAINT JobContext_Asset_FK
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE JobContext DROP CONSTRAINT JobContext_Asset_FK
		</sqlStatement>

		<sqlStatement type="all">
			DROP TABLE JobContext
		</sqlStatement>

		<sqlStatement type="mysql">
			Create table Job (
				Id Bigint NOT NULL AUTO_INCREMENT,
				AssetId Bigint,
				JobStatusId Int NOT NULL,
				JobType Varchar(50) NOT NULL,
				Priority Int NOT NULL DEFAULT 5,
				DateCreated Datetime NOT NULL,
				DateModified Datetime,
				ClientReference Varchar(255) NOT NULL,
				Message Mediumtext,
				ClientReferenceType Int,
				RefData Longtext,
			 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Job add Constraint Job_Asset_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Job add Index IX_Job_JobStatus_FK (JobStatusId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Job add Constraint Job_JobStatus_FK Foreign Key (JobStatusId) references JobStatus (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table Job (
				Id Integer NOT NULL ,
				AssetId Integer,
				JobStatusId Integer NOT NULL ,
				JobType NVarchar2(50) NOT NULL ,
				Priority Integer Default 5 NOT NULL ,
				DateCreated Date NOT NULL ,
				DateModified Date,
				ClientReference NVarchar2(255) NOT NULL ,
				Message NClob,
				ClientReferenceType Integer,
				RefData NClob,
			 Constraint pk_JobContext primary key (Id)
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_Job_Asset_FK ON Job (AssetId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Job add Constraint Job_Asset_FK foreign key (AssetId) references Asset (Id)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_Job_JobStatus_FK ON Job (JobStatusId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Job add Constraint Job_JobStatus_FK foreign key (JobStatusId) references JobStatus (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [Job]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[AssetId] Integer NULL,
				[JobStatusId] Integer NOT NULL,
				[JobType] Nvarchar(50) NOT NULL,
				[Priority] Integer Default 5 NOT NULL,
				[DateCreated] Datetime NOT NULL,
				[DateModified] Datetime NULL,
				[ClientReference] Nvarchar(255) NOT NULL,
				[Message] Ntext NULL,
				[ClientReferenceType] Integer NULL,
				[RefData] Ntext NULL,
			Constraint [pk_JobContext] Primary Key ([Id])
			)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_Job_Asset_FK] ON [Job] ([AssetId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Job] add Constraint [Job_Asset_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_Job_JobStatus_FK] ON [Job] ([JobStatusId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Job] add Constraint [Job_JobStatus_FK] foreign key([JobStatusId]) references [JobStatus] ([Id])  on update no action on delete no action
		</sqlStatement>


	</version><version number="3.970" private="true">

		<userChangeDescription>
			Adding message to show that a Data Lookup process is in operation
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-performing-data-lookup', 13, 'Snippet - Performing Data Lookup', 'performing data lookup', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.971" private="true">

		<userChangeDescription>
			Revised unique filename comment
		</userChangeDescription>

		<appSettingChange type="update" section="General config" setting="unique-filenames">
			<comment>
				Validate filenames on upload to make sure they are unique within the system? Any non unique filenames will result in an error message being displayed to the uploading user.
			</comment>

		</appSettingChange>

	</version><version number="3.972" private="true">

		<userChangeDescription>
			Amended user_approved email template
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ UPDATE EmailTemplate SET Body = '<p>Dear #name#<br /><br />You have been approved as a user of Asset Bank. <br /><br />You now need to follow the link below to complete your registration process and set a secure password:<br /><a href="#baseUrl#/#link#=#authId#" target="_blank">Click here &gt;&gt;</a><br /><br />#adminMessage#<br /><br />Kind regards,<br />Asset Bank Admin</p>' WHERE TextId = 'user_approved' ]]>
		</sqlStatement>

	</version><version number="3.973" private="true">

		<userChangeDescription>
			Testing release
		</userChangeDescription>

	</version><version number="3.973.1" private="true">

		<userChangeDescription>
			Fix for client http://pm3.intranet/do/client/details?clientid=141: Fix a problem where when you do a bulk update of a set of assets including parents and children then the children end up with multiple copies of the value you entered (i.e. you try to update Caption to "foo", and one asset gets it set to "foo foo", the next "foo foo foo", and so on). I think that this only happened because the Caption attribute in the affected Asset Bank had "Include in search for child" set.
		</userChangeDescription>

	</version><version number="3.974">

		<userChangeDescription>
			Updates to batch release functionality to allow a change description to be specified for each asset in the release
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE AssetInBatchRelease ADD ChangeDescription Mediumtext
		</sqlStatement>

		<sqlStatement type="sqlserver">
			 ALTER TABLE AssetInBatchRelease ADD ChangeDescription NVarchar(4000)
		</sqlStatement>

		<sqlStatement type="oracle">
			 ALTER TABLE AssetInBatchRelease ADD ChangeDescription NClob
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-copy-to-all-items', 12, 'Link - Copy this value to all items', 'Copy this value to all items &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-br-asset-change-intro', 13, 'Snippet - Batch release asset change descriptions intro', 'You can specify change descriptions for each asset in the #batch-release# using the form below. Fill in the boxes and click the save button...', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-update-asset-change-descriptions', 12, 'Link - Update asset change descriptions', 'Update asset change descriptions', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-change-description', 10, 'Subheading - Change description', 'Change description', 1, 2) ]]>
		</sqlStatement>


	</version><version number="3.975" private="true">

		<userChangeDescription>
			Batch release content
		</userChangeDescription>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'snippet-no-assets-in-batch-release', 13, 'Snippet - No assets in batch release', '<p>There are no assets currently associated with this #batch-release#.</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.976" private="true">

		<userChangeDescription>
			UI enhancements to batch release change descriptions functionality
		</userChangeDescription>
		<sqlStatement type="all">

			<![CDATA[ UPDATE ListItem SET Body = 'Use the asset change description field to describe how each asset has changed due to the #batch-release#.' WHERE Identifier = 'snippet-br-asset-change-intro' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-change-description', 9, 'Label - asset change description', 'Change description:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-asset-change-descriptions', 10, 'Heading - Asset Change Descriptions', 'Asset Change Descriptions', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.977" private="true">

		<userChangeDescription>
			Updating default group settings for local/external users
		</userChangeDescription>

		<appSettingChange type="update" section="User registration/ login" setting="default-local-user-group-id" value="0">
			<comment>
				The id of a group that local (i.e. non-external, according to the above definition) users should be placed in (in addition to 'logged in users')
			</comment>

		</appSettingChange>

		<appSettingChange type="update" section="User registration/ login" setting="user-default-expiry-days" value="0">
			<comment>
				Default number of days (offset from today) to fill in the expiry date field with
			</comment>
		</appSettingChange>

	</version><version number="3.978" private="true">

		<userChangeDescription>
			UI modifications to batch release view page
		</userChangeDescription>

		 <sqlStatement type="all">
		 	<![CDATA[ UPDATE ListItem SET Body = 'Use an #items# change description field to describe how each #item# has changed due to the #batch-release#.' WHERE Identifier = 'snippet-br-asset-change-intro' ]]>
   		</sqlStatement>
		<sqlStatement type="all">
	   		<![CDATA[ UPDATE ListItem SET Body = '#item# Change Descriptions' WHERE Identifier = 'heading-asset-change-descriptions' ]]>

	   	</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-contents', 9, 'Label - Contents', 'Contents:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-item-change-descriptions', 12, 'Link - Item change descriptions', '#item# change descriptions', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-item', 12, 'Link - View item', 'View #item#', 1, 2) ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-this-br-contains', 13, 'Snippet This batch release contains', 'This #batch-release# contains', 1, 3) ]]>
   		</sqlStatement>
	</version><version number="3.979">
		<userChangeDescription>
			Asset Bank Video Preview Enhancements: Enable the use of Video Keywords to jump to a specific time in a video preview.
		</userChangeDescription>

		<appSettingChange type="add" setting="flvmeta-path" value="flvmeta.exe" section="Server settings">
			<comment>
				Path to the flvmeta tool that adds time/keyframe MetaData to a Flash Video File (*.flv) with keyframes (ffmpeg -g option).
				Default assumes that the flvmeta.exe file location (in the WEB-INF\manager-config\win-tools directory)
				has been added to the system path variable.
			</comment>
		</appSettingChange>

	</version><version number="3.980">
		<userChangeDescription>

			Allow watch directories to be used when asset entities (aka asset types) are enabled.
		</userChangeDescription>

		<appSettingChange type="add" setting="watch-directory-asset-entity-id" value="" section="Directory settings">
			<comment>
				Asset entity to assign to imported assets. Only used if asset-entities-enabled=true.
			</comment>
		</appSettingChange>

	</version><version number="3.980.1">
		<userChangeDescription>
			Add a startup page to show when the application is starting up, and a 503 response for API servlet requests.
		</userChangeDescription>

		<appSettingChange type="add" setting="startup-retry-after-mins" value="5" section="Server settings">
			<comment>
				Number of minutes to retry after, for StartupCheckFilterForApiServlets
			</comment>
		</appSettingChange>

	</version><version number="3.980.2">
		<userChangeDescription>
			Add functions to cancel metadata import and bulk uploads.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'job-cancelling', 8, 'Cancelling', 'Cancelling...', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-upload-cancel', 13, 'Snippet - Bulk upload cancel link', 'Cancel this import', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-upload-cancel-areyousure', 13, 'Snippet - Bulk upload cancel link are you sure text', 'Are you sure you want to abort this import?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-upload-cancel-note', 13, 'Snippet - Bulk upload cancel note', '(the import will abort after the next item has finished)', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.981" private="true">
		<userChangeDescription>
			Fixed AssetBoxManager SQLException on login with SQL Server databases.
		</userChangeDescription>
	</version><version number="3.982" private="true">
		<userChangeDescription>
			Test release.
		</userChangeDescription>
	</version><version number="3.983" private="true">
		<userChangeDescription>
			Test release.
		</userChangeDescription>

	</version><version number="3.984" private="true">
		<userChangeDescription>
			Test / data migration release.
		</userChangeDescription>
	</version><version number="3.985" private="true">
		<userChangeDescription>

			Asynchronous report generation
		</userChangeDescription>

		<sqlStatement type="all">
		 	<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-report-in-progress', 13, 'Snippet - Report generation in progress', 'Generating Report...', 1, 2) ]]>
   		</sqlStatement>
	</version><version number="3.986" private="true">
		<userChangeDescription>

			DuplicateFilenameException content for error message.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'sys-error-duplicate-filename', 15, 'System - Error Duplicate Filename', 'The system already contains a file named ''[0]''. Please rename the new file to load and try again.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.987">

		<userChangeDescription>

			Moving over the InDesign settings that relate to the Job Manager
		</userChangeDescription>

		<appSettingChange type="add" setting="delete-finished-jobs-hour-of-day" value="3" section="Job Manager Settings">
			<comment>
				Time of day to delete finished jobs from Job table:
			</comment>
		</appSettingChange>

		<appSettingChange type="add" setting="finished-jobs-no-hours-to-keep" value="10" section="Job Manager Settings">
			<comment>

				The number of hours finished (Completed or Failed) Job rows are kept in the database before they are deleted.
			</comment>
		</appSettingChange>
	</version><version number="3.988">

		<userChangeDescription>
			the send as e-card functionality switch
		</userChangeDescription>

		<appSettingChange type="add" setting="send-as-ecard-enabled" value="false" section="Send As E-Card Settings">
			<comment>
				Whether the send as e-card functionality is enabled
			</comment>
		</appSettingChange>
	</version><version number="3.989">

		<userChangeDescription>

			Attribute Rules: When an attribute rule is triggered (e.g. automatically setting an asset to 'Expired' on a specific date), you can now optionally email admin users, the asset uploader and the user who last approved the asset.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE SendEmailDateRule ADD COLUMN EmailAdminUsers Bool DEFAULT 1
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE SendEmailDateRule ADD EmailAdminUsers Tinyint Default 1 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">

			ALTER TABLE SendEmailDateRule ADD EmailAdminUsers Char(1) Default 1 NOT NULL
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE SendEmailDateRule ADD COLUMN EmailAssetUploader Bool DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE SendEmailDateRule ADD EmailAssetUploader Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE SendEmailDateRule ADD EmailAssetUploader Char(1) Default 0 NOT NULL
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE SendEmailDateRule ADD COLUMN EmailLastApprover Bool DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE SendEmailDateRule ADD EmailLastApprover Tinyint Default 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE SendEmailDateRule ADD EmailLastApprover Char(1) Default 0 NOT NULL
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE CM_ItemInCategory ADD LastApprovedByUserId Bigint
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table CM_ItemInCategory add Index IX_IIC_ABU_FK (LastApprovedByUserId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table CM_ItemInCategory add Constraint IIC_ABU_FK Foreign Key (LastApprovedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			ALTER TABLE [CM_ItemInCategory] ADD [LastApprovedByUserId] Integer NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_IIC_ABU_FK] ON [CM_ItemInCategory] ([LastApprovedByUserId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [CM_ItemInCategory] add Constraint [IIC_ABU_FK] foreign key([LastApprovedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>


		<sqlStatement type="oracle">
			ALTER TABLE CM_ItemInCategory ADD LastApprovedByUserId Integer
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_IIC_ABU_FK ON CM_ItemInCategory (LastApprovedByUserId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table CM_ItemInCategory add Constraint IX_IIC_ABU_FK foreign key (LastApprovedByUserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-uploaded-on', 9, 'Label - Uploaded on', 'Uploaded on:', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.990" private="true">
		<userChangeDescription>
			New release
		</userChangeDescription>
	</version><version number="3.991" private="true">
		<userChangeDescription>
			New release
		</userChangeDescription>

	</version><version number="3.992">
		<userChangeDescription>
			Auto complete now preserves case (prior to this version all auto complete suggestions were in lower case).
		</userChangeDescription>

		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO REBUILD THE AUTO COMPLETE INDEX if you are using auto complete (auto-complete-enabled=true in ApplicationSettings.properties).
			To do this, go to Admin &gt; Attributes and click 'reindex the auto complete index', then press the 'Start Auto Completion Reindex' button on the next page.
		</userPostUpdateMessage>
	</version><version number="3.993" private="true">
		<userChangeDescription>
			Added column LanguageId to VideoKeyword table which is an FK to Language.Id.
		</userChangeDescription>

		<sqlStatement type="mysql">
			Alter table VideoKeyword ADD LanguageId Bigint NOT NULL DEFAULT 1
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoKeyword add Index IX_VideoKeyword_Language_FK (LanguageId)
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table VideoKeyword add Constraint VideoKeyword_Language_FK Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [VideoKeyword] ADD [LanguageId] Integer NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_VideoKeyword_Language_FK] ON [VideoKeyword] ([LanguageId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [VideoKeyword] add Constraint [VideoKeyword_Language_FK] foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE VideoKeyword ADD LanguageId Integer
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_VideoKeyword_Language_FK ON VideoKeyword (LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table VideoKeyword add Constraint VideoKeyword_Language_FK foreign key (LanguageId) references Language (Id)
		</sqlStatement>
	</version><version number="3.994" private="true">
		<userChangeDescription>
			Initial work on usage type format background filling
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE UsageTypeFormat ADD COLUMN FillBackground Bool DEFAULT 0
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UsageTypeFormat ADD FillBackground Tinyint Default 0
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE UsageTypeFormat ADD FillBackground Char(1) Default 0
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE UsageTypeFormat ADD BackgroundColour Varchar(100)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE UsageTypeFormat ADD [BackgroundColour] Nvarchar(100) NULL
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE UsageTypeFormat ADD BackgroundColour NVarchar2(100)
		</sqlStatement>

	</version><version number="3.995" private="true">
		<userChangeDescription>
			Updates for VideoKeywords in multiple languages.
			Removed columns LanguageId, Keywords from VideoKeyword table and FK constraint to Language.Id.
			Replaced with a new link table VideoKeywordText with PK (VideoKeywordId, LanguageId) and Keywords column.
		</userChangeDescription>

		<sqlStatement type="mysql">
			Alter table VideoKeyword DROP Keywords
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table VideoKeyword DROP Foreign Key VideoKeyword_Language_FK
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoKeyword DROP Index IX_VideoKeyword_Language_FK
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoKeyword DROP LanguageId
		</sqlStatement>
		<sqlStatement type="mysql">

			Create table VideoKeywordText (
				VideoKeywordId Bigint NOT NULL,
				LanguageId Bigint NOT NULL,
				Keywords Text NOT NULL,
			 Primary Key (VideoKeywordId,LanguageId)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoKeywordText add Constraint VKText_Language_FK Foreign Key (LanguageId) references Language (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoKeywordText add Constraint VKText_VK_FK Foreign Key (VideoKeywordId) references VideoKeyword (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [VideoKeyword] DROP COLUMN [Keywords]
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [VideoKeyword] DROP Constraint [VideoKeyword_Language_FK]
		</sqlStatement>
		<sqlStatement type="sqlserver">
			DROP Index [IX_VideoKeyword_Language_FK] ON [VideoKeyword]
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE [VideoKeyword] DROP COLUMN [LanguageId]
		</sqlStatement>
		<sqlStatement type="sqlserver">

			Create table [VideoKeywordText]
			(
				[VideoKeywordId] Integer NOT NULL,
				[LanguageId] Integer NOT NULL,
				[Keywords] Nvarchar(2000) NOT NULL,
			Constraint [pk_VideoKeywordText] Primary Key ([VideoKeywordId],[LanguageId])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_VKText_Language_FK] ON [VideoKeywordText] ([LanguageId])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [VideoKeywordText] add Constraint [VKText_Language_FK] foreign key([LanguageId]) references [Language] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_VKText_VK_FK] ON [VideoKeywordText] ([VideoKeywordId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [VideoKeywordText] add Constraint [VKText_VK_FK] foreign key([VideoKeywordId]) references [VideoKeyword] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE VideoKeyword DROP COLUMN Keywords
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table VideoKeyword DROP Constraint VideoKeyword_Language_FK
		</sqlStatement>
		<sqlStatement type="oracle">

			Drop Index IX_VideoKeyword_Language_FK
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE VideoKeyword DROP COLUMN LanguageId
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table VideoKeywordText (
				VideoKeywordId Integer NOT NULL ,
				LanguageId Integer NOT NULL ,
				Keywords NVarchar2(2000) NOT NULL ,
			 Constraint pk_VideoKeywordText primary key (VideoKeywordId,LanguageId)
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_VKText_Language_FK ON VideoKeywordText (LanguageId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table VideoKeywordText add Constraint VKText_Language_FK foreign key (LanguageId) references Language (Id)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_VKText_VK_FK ON VideoKeywordText (VideoKeywordId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table VideoKeywordText add Constraint VKText_VK_FK foreign key (VideoKeywordId) references VideoKeyword (Id)
		</sqlStatement>

	</version><version number="3.996" private="true">

		<userChangeDescription>
			New setting to control how access level permissions are initiaed
		</userChangeDescription>

		<appSettingChange type="add" setting="mirror-parent-permissions-on-access-level-creation" value="true" section="general config">
			<comment>
				Should new access levels be initalised with permissions that match their parent?
			</comment>

		</appSettingChange>
	</version><version number="3.997" private="true">

		<userChangeDescription>
			Release version
		</userChangeDescription>

	</version><version number="3.998" private="true">
		<userChangeDescription>
			Fixed defect in which when editing an attribute AutoCompletePlugin was being set to '0' if none selected
		</userChangeDescription>
		<sqlStatement type="all">
			UPDATE Attribute SET AutoCompletePlugin=NULL WHERE AutoCompletePlugin = '0'
		</sqlStatement>
	</version><version number="3.999" private="true">

		<userChangeDescription>
			Renamed setting keyword-anscestor-delimiter to category-ancestor-delimiter as it is used for categories and keywords
		</userChangeDescription>
		<appSettingChange type="add" section="Keyword taxonomy config" setting="category-ancestor-delimiter" value="/">
			<comment>
				The string to use to delimit children from parents in a string representation of a fully-qualified category or keyword, e.g '/' in "europe/uk/london"
				This must be a single character only.
			</comment>
		</appSettingChange>
		<appSettingChange type="delete" setting="keyword-anscestor-delimiter" />
	</version><version number="3.1000" private="true">
		<userChangeDescription>
			Release Version
		</userChangeDescription>
	</version><version number="3.1001" private="true">
		<userChangeDescription>
			Release Version
		</userChangeDescription>

	</version><version number="3.1001.1" private="true">
		<userChangeDescription>
			Fixed multiple assets deletion in 'My Uploads' page.
		</userChangeDescription>
	</version><version number="3.1001.2" private="true">
		<userChangeDescription>
			Amended attribute list value order.
		</userChangeDescription>

	</version><version number="3.1002" private="true">
		<userChangeDescription>
			Release Version
		</userChangeDescription>
	</version><version number="3.1002.1" private="true">
		<userChangeDescription>

			Data migration release
		</userChangeDescription>
	</version><version number="3.1003" private="true">
		<userChangeDescription>
			Revision to slideshow gallery filename to avoid embedded slideshows breaking on upgrade
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<script type="text/javascript" src="?commonUrlStub?swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", displayTime:"?displayTime?", onExternalSite:"?onExternalSite?", type:"?type?", modules:"AssetBank", modulePath:"?commonUrlStub?modules/"}; if (flashvars.type=="photoEssay") { flashvars.controlMenuOptions = "AssetBank_viewAsset,AssetBank_addToLightbox,AssetBank_addAllToLightbox,thumbnailBar,titleBar,infoBar,autoResize,embiggen"; flashvars.title = "?title?";}; var params = {wmode:"transparent",allowFullScreen:"true"}; var attributes = {}; swfobject.embedSWF("?commonUrlStub?gallery_v1.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?commonUrlStub?expressinstall.swf", flashvars, params, attributes); </script>' WHERE Identifier='technical-embeddable-slideshow-html' ]]>

		</sqlStatement>

	</version><version number="3.1004" private="true">
		<userChangeDescription>
			Adding some tooltip content to the database
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-empty-lightbox', 19, 'Tooltip - Empty this lightbox', 'Empty this #a-lightbox#', 1, 2) ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-switch-lightbox', 19, 'Tooltip - Switch lightbox', 'Switch #a-lightbox#', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tooltip-go-to-this-lightbox', 19, 'Tooltip -  Go to this lightbox', 'Go to this #a-lightbox#', 1, 2) ]]>
		</sqlStatement>	
	</version><version number="3.1005">

		<userChangeDescription>
			Enabled alphabetising of lightboxes
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-alphabetise-lightboxes', 12, 'Link - Alphabetise lightboxes', 'Alphabetise #lightboxes# &raquo;', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.1006">

		<userChangeDescription>
			Added Find and Replace functionality to Bulk Update. This allows you to find and replace across text attributes.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View and Select #items# in batch for update &raquo;' WHERE Identifier='link-select-items-bulk' ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoTextToFind', 15, 'failedValidationNoTextToFind', 'Please enter the text to find, or click cancel to return to the batch update home screen.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-starting', 13, 'Snippet - Bulk Update Starting', 'Starting bulk update...', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-finished', 13, 'Snippet - Bulk Update Finished', 'Finished bulk update.', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-asset-batch', 13, 'Snippet - Bulk Update Skipping asset for Batch Release', 'Skipping asset: [0] it is not in a batch release and you have not selected a release to add it to', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-asset-extension', 13, 'Snippet - Bulk Update Skipping asset for Extension', 'Skipping asset: [0] because it is an extension asset', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-asset-permission', 13, 'Snippet - Bulk Update Skipping asset for Permission', 'You do not have permission to update asset: [0] ([1])', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-updating-asset', 13, 'Snippet - Bulk Update Updating', 'Updating asset: [0]', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-deleting-asset', 13, 'Snippet - Bulk Update Deleting', 'Deleting asset: [0]', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-asset-deletion', 13, 'Snippet - Bulk Update Skipping asset deletion', 'You do not have permission to delete asset: [0]', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-asset-level', 13, 'Snippet - Bulk Update Skipping asset deletion', 'Access levels for this asset cannot be updated because an asset must be in at least one access level', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-asset-category', 13, 'Snippet - Bulk Update Skipping asset deletion', 'Categories for this asset cannot be updated because an asset must be in at least one category', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-find-replace-total-instances', 13, 'Snippet - Bulk Find Replace Total Instances', '[0] instances of ''[1]'' have been found and replaced with ''[2]''', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-find-replace-attribute-instances', 13, 'Snippet - Bulk Find Replace Instances per attribute', '[0] ([1] instances)', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-run-find-replace-batch', 12, 'Link - Run find and replace on batch', 'Run a Find and Replace on the selected #items# in this batch &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-run-another-find-replace-update', 12, 'Link - Run another find and replace on batch', 'Run another Find and Replace on this batch &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-bulk-find-replace', 16, 'Title - Bulk Find and Replace', '#company-name# | #heading-bulk-find-replace#', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-bulk-find-replace', 10, 'Heading - Bulk Find and Replace', 'Bulk Find and Replace', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-bulk-update-run-find-replace', 10, 'Heading - Bulk Update: Bulk Update: Run a Find and Replace', 'Bulk Update: Run a Find and Replace', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-select-attributes-find-replace', 10, 'Subhead - Select attributes for Find and Replace', 'Select the text attributes to be searched across', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'subhead-define-find-replace', 10, 'Subhead - Define Find and Replace', 'Define a Find and Replace', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-find-what', 9, 'Label - Find what', 'Find what:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-replace-with', 9, 'Label - Replace with', 'Replace with:', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-match-case', 9, 'Label - Match case', 'Match case', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">

			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-match-whole-word', 9, 'Label - Match whole word', 'Match whole word', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-bulk-find-replace', 1, 'Intro - Bulk Find and Replace', '<p>There are <strong>?numForUpdate?</strong> #items# for update in your batch.</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.1007" private="true">

		<userChangeDescription>
			Added jQuery date format settings so that date pickers can fill in form fields with the client's preferred date format. This fixes form validation errors that could happen if the date format had been changed from the default and a date entered using the picker.
		</userChangeDescription>

		<!-- Add the settings with UK date formats, and then change them to
		     US format if the existing settings have the default US
		     format. If the existing settings have non-standard US formats
		     then the new ones will unfortunately be left as English -->
		<appSettingChange type="add" section="Date/currency format" setting="jquery-standard-date-format" value="dd/mm/yy">
			<comment>
				jquery-standard-date-format must be a jQuery version of standard-date-format. If the two settings don't match then users will get form validation errors when they use the date picker to pick a date.
			</comment>
		</appSettingChange>

		<appSettingChange type="add" section="Date/currency format" setting="jquery-year-and-month-date-format" value="mm/yy">
			<comment>
				jquery-year-and-month-date-format must be a jQuery version of year-and-month-date-format. If the two settings don't match then users will get form validation errors when they use the date picker to pick a date.
			</comment>
		</appSettingChange>

		<appSettingChange type="update" section="Date/currency format" setting="jquery-standard-date-format" value="mm/dd/yy" appSettingCondition="standard-date-format=MM/dd/yyyy">
		</appSettingChange>

		<!-- Don't need to change jquery-year-and-month-date-format because it's the same for US as it is for UK -->

	</version><version number="3.1008" private="true">
		<userChangeDescription>
			Deleted unused SQL date and time format settings.
		</userChangeDescription>

		<appSettingChange type="delete" setting="sql-date-format" />

		<appSettingChange type="delete" setting="sql-time-format" />

	</version><version number="3.1009" private="true">
		<userChangeDescription>
			Made "Categories to be included" text content managed.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'included-categories-label', 1, 'Included categories label', 'Label for the "Included categories" in the "Categories" section on the "Add/Edit Asset" page', 'Categories to be included:', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.1010" private="true">
		<userChangeDescription>
			Fixed edit with approval success page
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'intro-update-result-1-3', 1, 'Intro - Update Result 1 (alternate 2)', '<p>The #item# has been submitted to an admin user for approval. You will not be able to further edit this asset until it has been approved or rejected for resubmission.</p>', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.1011" private="true">
		<userChangeDescription>
			Added new 'Print Details' section to Display Attributes. It will manage attributes in Contact Sheet and Print page.
		</userChangeDescription>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup ON
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO DisplayAttributeGroup (Id, Name, SequenceNumber) VALUES (10,'Print Details', 10) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT DisplayAttributeGroup OFF
		</sqlStatement>
	</version><version number="3.1012" private="true">

		<userChangeDescription>
			Added separate 'Available access levels' label
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'available-access-levels-label', 1, 'Available access levels label', 'Label for the "Available access levels" in the "Access Levels" section on the "Add/Edit Asset" page', 'Available access levels (remember to click Add to add the access level):', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.1013" private="true">

		<userChangeDescription>
			Release
		</userChangeDescription>
	</version><version number="3.1014" private="true">
		<userChangeDescription>
			Handled missing static attribute name in UpgradeManager.populatePrintDetailsDisAttGroup()
		</userChangeDescription>
	</version><version number="3.1015" private="true">
		<userChangeDescription>
			Added content for Video Keywords in ListItem
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-add-new-keywords', 9, 'Label - Add new keywords', 'Label for "Add new keywords" on the "Update video keywords" page', 'Add new keywords', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-start-point', 9, 'Label - Start point', 'Label for "Start point" on the "Update video keywords" page', 'Start point', 1, 2) ]]>

		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-end-point', 9, 'Label - End point', 'Label for "End point" on the "Update video keywords" page', 'End point (optional)', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-time', 9, 'Label - Time', 'Label for "Time" on the video keywords table', 'Time', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Summary, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-get-current', 11, 'Button - get current', 'Button for "get current" on the "Update video keywords" page', 'get current', 1, 2) ]]>

		</sqlStatement>
	</version><version number="3.1016" private="true">
		<userChangeDescription>
			Added error message if user doesn't have flash on when trying to use flash uploader
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-upload-no-flash', 13, 'Snippet - Upload No Flash', '<strong>Error:</strong> You need to have the <a href="http://get.adobe.com/flashplayer/" target="_blank">Adobe Flash Plugin</a> installed and javascript enabled for the uploader to work.', 1, 1) ]]>
		</sqlStatement>

	</version><version number="3.1017" private="true">
		<userChangeDescription>
			Amended Purchase confirmation template
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body='Dear #greetname# (#username#)<br><br>This email confirms your purchase of assets from Asset Bank.<br>Order/Purchase ID: #ordernum#  <br><br>Your order/purchase details are<br>#orderDetails#<br><br>#purchaseCommercialReceiptNote#<br><br>#purchaseDownloadInstructions#<br>#purchasePrintInstructions#<br><br>Your username is: #username#<br>Your password: #password#<br><br>To view the terms and conditions of your purchase go to #purchaseTermsLink#<br><br>This is a test email from Asset Bank. The text of all emails sent to users is configurable.<br><br>Regards,<br>AssetBank Admin' where TextId='purchase_confirmation' ]]>
		</sqlStatement>
	</version><version number="3.1018" private="true">
		<userChangeDescription>
			Reverted to single slideshow gallery file rather than multiple versions now that the gallery.swf file works with all embed snippets
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='<script type="text/javascript" src="?commonUrlStub?swfobject.js"></script><div id="flashcontent">The slideshow requires JavaScript and the Flash Player. <a href="http://www.macromedia.com/go/getflashplayer/">Get Flash here.</a></div><script type="text/javascript">var flashvars = {data:"?urlStub??url?", displayTime:"?displayTime?", onExternalSite:"?onExternalSite?", type:"?type?", modules:"AssetBank", modulePath:"?commonUrlStub?modules/"}; if (flashvars.type=="photoEssay") { flashvars.controlMenuOptions = "AssetBank_viewAsset,AssetBank_addToLightbox,AssetBank_addAllToLightbox,thumbnailBar,titleBar,infoBar,autoResize,embiggen"; flashvars.title = "?title?";}; var params = {wmode:"transparent",allowFullScreen:"true"}; var attributes = {}; swfobject.embedSWF("?commonUrlStub?gallery.swf?latest", "flashcontent", "?width?", "?height?", "9.0.0", "?commonUrlStub?expressinstall.swf", flashvars, params, attributes); </script>' WHERE Identifier='technical-embeddable-slideshow-html' ]]>
		</sqlStatement>

	</version><version number="3.1019">
		<userChangeDescription>
			Asset Bank Video Preview New feature: Manage Video Keywords to jump to a specific time in a video preview
			and search videos for specific keywords.
			Please see http://www.assetbank.co.uk/go/knowledgebase/configure-video-keywords.html to configure Asset Bank prior to
			uploading videos you wish to video keyword. The external executable flvmeta is required and application settings:
			flvmeta-path (see version: 3.979) and use-video-keywords (see version: 3.967)
		</userChangeDescription>
	</version><version number="3.1020" private="true">
		<userChangeDescription>
			Updated comment for asset-repurposing-enabled setting so that people find it when they search for "embed" in the settings file (it's called "embed", not "repurpose" in the user interface).
		</userChangeDescription>

		<appSettingChange type="update" setting="asset-repurposing-enabled">
			<comment>Is asset file repurposing (AKA embedding) enabled?</comment>
		</appSettingChange>
	</version><version number="3.1021">
		<userChangeDescription>
			Enable 'include in keyword searches' checkbox to be checked for Categories and Access Levels
		</userChangeDescription>

		<sqlStatement type="all" appSettingCondition="include-category-names-in-keyword-search=true">
			<![CDATA[ UPDATE Attribute SET IsKeywordSearchable=1 WHERE StaticFieldName = 'categories' OR StaticFieldName = 'accessLevels' ]]>
		</sqlStatement>
		<appSettingChange type="delete" setting="include-category-names-in-keyword-search" />		
	</version><version number="3.776.36" private="true">
		<userChangeDescription>
			Fixed SQL error when creating peer relationships on SQL Server
		</userChangeDescription>
	</version><version number="3.1021.1" private="true">
		<userChangeDescription>
			Fixed incorrect VideoAsset join condition in getAssets(). It was causing reindexes to be slow and probably other defects.
		</userChangeDescription>
	</version><version number="3.1022" private="true">
		<userChangeDescription>
			Data migration release
		</userChangeDescription>
	</version><version number="3.1023" private="true">
		<userChangeDescription>
			Added new column in Asset table and made it a Foreign key constraint to the AssetBankUser table
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD COLUMN SubmittedByUserId BIGINT
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Asset add Constraint Asset_User_Submitted_FK Foreign Key (SubmittedByUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD SubmittedByUserId INTEGER
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_Asset_User_Submitted_FK ON Asset (SubmittedByUserId)
		</sqlStatement>

		<sqlStatement type="oracle">
			Alter table Asset add Constraint Asset_User_Submitted_FK foreign key (SubmittedByUserId) references AssetBankUser (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD SubmittedByUserId INTEGER
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_Asset_User_Submitted_FK] ON [Asset] ([SubmittedByUserId])
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Alter table [Asset] add Constraint [Asset_User_Submitted_FK] foreign key([SubmittedByUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action
		</sqlStatement>

	</version><version number="3.1024" private="true">
		<userChangeDescription>
			Adding misc content to database
		</userChangeDescription>
		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-copy-these-values-to-all', 12, 'Link - Copy these values to all', 'Copy these values to all items &raquo;', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-include-this-item', 9, 'Label - Include this item?', 'Include this #item#?', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-use-the-original', 9, 'Label - Use the original', 'Use the original', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-create-a-copy', 9, 'Label - Create a copy', 'Create a copy', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-keyword-autocomplete-hint', 13, 'Snippet - Keyword autocomplete hint', '', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.1025" private="true">
		<userChangeDescription>
			Populate 'SubmittedByUserId' when an asset is submitted for approval, and use this (instead of 'lastModifiedByUserId') when working out who submitted an asset for approval
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE Asset SET SubmittedByUserId=LastModifiedByUserId ]]>
		</sqlStatement>
		<appSettingChange type="delete" setting="include-category-names-in-keyword-search" />
	</version><version number="3.1026" private="true">
		<userChangeDescription>
			Fixed "can't create saved searches when an Oracle database is being used".
		</userChangeDescription>

		<!-- This creates SavedSearchSequence. If there are any existing saved searches then the sequence starts from MAX(Id) + 1, if not then the sequence starts from 1000 -->
		<sqlStatement type="oracle">
			DECLARE
				next_id INTEGER;
			BEGIN
				SELECT NVL(MAX(Id) + 1, 1000) into next_id FROM SavedSearch;
				EXECUTE IMMEDIATE 'CREATE SEQUENCE SavedSearchSequence START WITH ' || next_id || ' INCREMENT BY 1 NOCACHE NOCYCLE';
			END;
		</sqlStatement>
	</version><version number="3.1027" private="true">
		
		<userChangeDescription>
			Added new Email Templates for Asset Feedback, added a new column to Asset table and a new row into ActionOnAsset table and some cms content
		</userChangeDescription>
	
		<sqlStatement type="all">
				 <![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'admin alert user feedback','noreply@noreply.com','#adminEmailAddresses#;','','','Asset Bank: User has submitted feedback','This is an automated message generated by Asset Bank.<br><br>A user has submitted feedback. <br><br>Username: #username#<br>User Email Address: #email#<br>Asset ID: #assetid#<br><br>User Notes:<br> #message#','admin_alert_user_feedback') ]]>
		</sqlStatement>
	
		<sqlStatement type="all">
				 <![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'user feedback confirmation','noreply@noreply.com','#email#;','','','Assetbank: User asset feedback','Dear #username# <br><br> This email confirms that your feedback has been submitted successfully.<br><br>Username: #username#<br>Asset ID: #assetid#<br><br>User Notes:<br> #message# <br><br>This is a test email from Asset Bank. The text of all emails sent to users is configurable.<br><br>Regards,<br>Asset Bank Admin','user_feedback_confirmation') ]]>
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT ActionOnAsset ON
		</sqlStatement>
	
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (6,'Allow Feedback On Asset','Allows the user to submit feedback for an asset.','com.bright.assetbank.actiononasset.action.AllowFeedbackOnAssetAction') ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
				<![CDATA[ INSERT INTO ActionOnAsset (Id,Name,Description,ActionClass) VALUES (7,'Do not Allow Feedback On Asset','Does not allow the user to submit feedback for an asset.','com.bright.assetbank.actiononasset.action.DoNotAllowFeedbackOnAssetAction') ]]>
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			SET IDENTITY_INSERT ActionOnAsset OFF
		</sqlStatement>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD COLUMN AllowFeedback Bool NOT NULL DEFAULT 0
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD AllowFeedback Char (1) Default 0 NOT NULL
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD AllowFeedback Tinyint Default 0 NOT NULL
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-submit-asset-feedback', 10, 'Heading - Submit Feedback', 'Submit Feedback', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-submit-asset-feedback', 16, 'Title - Submit Feedback', '#company-name# | #heading-submit-asset-feedback#', 1, 2)
		</sqlStatement>
		
		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-submit-feedback', 9, 'Label - Submit Feedback', 'Details of your feedback:', 1, 2)
		</sqlStatement>	
		
	</version><version number="3.1028" private="true">
		
		<userChangeDescription>
			Add another snippet for keywords
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-matching-keywords', 13, 'Snippet - Matching Keywords', '', 1, 2) ]]>
		</sqlStatement>	
		
	</version><version number="3.1029">
		<userChangeDescription>
			Submit Asset Feedback is a new feature that allows users to leave feedback on assets. Set this property to true to allow this feature
			on all assets.
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="show-submit-asset-feedback" value="false" section="Server settings">
			<comment>
				Whether to allow submit feedback feature on all assets
			</comment>
		</appSettingChange>
	</version><version number="3.1030" private="true">
		
		<userChangeDescription>
			Update CMS snippet for contact sheet checkbox to insert page breaks
		</userChangeDescription>
		
		<sqlStatement type="all">
			DELETE FROM ListItem WHERE Identifier = 'snippet-insert-page-breaks'
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-insert-page-breaks', 13, 'Snippet - Insert page breaks', 'Insert page breaks', 1, 2) ]]>
		</sqlStatement>	
		
	</version><version number="3.1031" private="true">
		<userChangeDescription>
			Enhance granularity of the group upload permissions.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadAssets TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadAssets Integer DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadAssets Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadWithApproval TINYINT NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadWithApproval Integer DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadWithApproval Char(1) DEFAULT 0 NOT NULL
		</sqlStatement>
	</version><version number="3.1032">
		<userChangeDescription>
			Added a tab for approval of asset 'edits', and changed existing tab to show 'uploads awaiting approval' only.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Uploads' WHERE Identifier='tab-approve-uploads' ]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-approve-edits', 7, 'Tab - Approve edits', 'Edits', 1, 2) ]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-date-changed', 9, 'Label - Date Changed', 'Date Changed', 1, 2) ]]>
		</sqlStatement>					
	</version><version number="3.1033" private="true">
		<userChangeDescription>
			Added misc content to database that were added in V3.1024 for SQL Server only (presumably by mistake)
		</userChangeDescription>
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-copy-these-values-to-all', 12, 'Link - Copy these values to all', 'Copy these values to all items &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-include-this-item', 9, 'Label - Include this item?', 'Include this #item#?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-use-the-original', 9, 'Label - Use the original', 'Use the original', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-create-a-copy', 9, 'Label - Create a copy', 'Create a copy', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="mysql">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-keyword-autocomplete-hint', 13, 'Snippet - Keyword autocomplete hint', '', 1, 3) ]]>
		</sqlStatement>		
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-copy-these-values-to-all', 12, 'Link - Copy these values to all', 'Copy these values to all items &raquo;', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-include-this-item', 9, 'Label - Include this item?', 'Include this #item#?', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-use-the-original', 9, 'Label - Use the original', 'Use the original', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-create-a-copy', 9, 'Label - Create a copy', 'Create a copy', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="oracle">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-keyword-autocomplete-hint', 13, 'Snippet - Keyword autocomplete hint', '', 1, 3) ]]>
		</sqlStatement>	
	</version><version number="3.1034" private="true">
		<userChangeDescription>
			Convert group permissions to new upload settings (started in Steve's change, v3.1031).
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE CategoryVisibleToGroup SET CanUploadWithApproval=1 WHERE CanUpdateWithApproval =1]]>
		</sqlStatement>	
		<sqlStatement type="all" appSettingCondition="upload-with-approval-can-edit-with-approval=false">
			<![CDATA[ UPDATE CategoryVisibleToGroup SET CanUpdateWithApproval=0 WHERE CanUpdateWithApproval=1]]>
		</sqlStatement>
		<sqlStatement type="all" appSettingCondition="upload-with-approval-can-edit-with-approval=none">
			<![CDATA[ UPDATE CategoryVisibleToGroup SET CanUpdateWithApproval=0 WHERE CanUpdateWithApproval=1]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE CategoryVisibleToGroup SET CanUploadAssets=1, CanUpdateWithApproval=0 WHERE CanUpdateAssets=1]]>
		</sqlStatement>			
		<sqlStatement type="all">
			<![CDATA[ UPDATE CategoryVisibleToGroup SET CanUpdateAssets=1, CanUploadAssets=1, CanUploadWithApproval=0, CanUpdateWithApproval=0 WHERE CanDeleteAssets=1]]>
		</sqlStatement>			
		<sqlStatement type="all">
			<![CDATA[ UPDATE CategoryVisibleToGroup SET CanUpdateAssets=1, CanUploadAssets=1, CanUploadWithApproval=0, CanUpdateWithApproval=0, CanDeleteAssets =1 WHERE CanApproveAssetUploads =1]]>
		</sqlStatement>	
		<appSettingChange type="delete" setting="upload-with-approval-can-edit-with-approval" />
	</version><version number="3.1035" private="true">
		<userChangeDescription>
			Added Tables: VideoUserOptionCommand, VideoCommandOption, VideoUserFrameSize, VideoUserOption for User Video options
		</userChangeDescription>
		<sqlStatement type="mysql">
			Create table VideoUserOptionCommand (
			        VideoUserOptionId Bigint NOT NULL,
			        VideoCommandOptionId Bigint NOT NULL,
			        Value Varchar(50),
			        IsReference Bool NOT NULL DEFAULT 0,
			 Primary Key (VideoUserOptionId,VideoCommandOptionId)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		<sqlStatement type="mysql">
			Create table VideoCommandOption (
			        Id Bigint NOT NULL,
			        Command Varchar(50) NOT NULL DEFAULT 'ffmpeg',
			        Name Varchar(50) NOT NULL,
			        Description Varchar(255) NOT NULL,
			        Flag Varchar(255) NOT NULL,
			 Primary Key (Id)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		<sqlStatement type="mysql">
			Create table VideoUserFrameSize (
			        Id Bigint NOT NULL AUTO_INCREMENT,
			        Name Varchar(20) NOT NULL,
			        Width Int NOT NULL,
			        Height Int NOT NULL,
			 Primary Key (Id)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		<sqlStatement type="mysql">
			Create table VideoUserOption (
			        Id Bigint NOT NULL,
			        Name Varchar(30) NOT NULL,
			        Description Varchar(255) NOT NULL,
			        FileFormatId Bigint NOT NULL,
			        DefaultFrameSize Bigint NOT NULL,
			        isGlobal Bool NOT NULL DEFAULT 0,
			 Primary Key (Id)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoUserOption add Constraint VideoUserOpt_FileFormat_FK Foreign Key (FileFormatId) references FileFormat (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoUserOptionCommand add Constraint VUOptComm_VCommandOpt_FK Foreign Key (VideoCommandOptionId) references VideoCommandOption (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoUserOption add Constraint VideoUserOpt_VUFrame_FK Foreign Key (DefaultFrameSize) references VideoUserFrameSize (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table VideoUserOptionCommand add Constraint VUOptComm_VUserOpt_FK Foreign Key (VideoUserOptionId) references VideoUserOption (Id) on delete  restrict on update  restrict
		</sqlStatement>

		<sqlStatement type="oracle">
			Create table VideoUserOptionCommand (
				VideoUserOptionId Integer NOT NULL ,
				VideoCommandOptionId Integer NOT NULL ,
				Value NVarchar2(50),
				IsReference Char (1) Default 0 NOT NULL ,
			 Constraint pk_VideoUserOptionCommand primary key (VideoUserOptionId,VideoCommandOptionId) 
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table VideoCommandOption (
				Id Integer NOT NULL ,
				Command NVarchar2(50) Default 'ffmpeg' NOT NULL ,
				Name NVarchar2(50) NOT NULL ,
				Description NVarchar2(255) NOT NULL ,
				Flag NVarchar2(255) NOT NULL ,
			 Constraint pk_VideoCommandOption primary key (Id) 
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table VideoUserFrameSize (
				Id Integer NOT NULL ,
				Name NVarchar2(20) NOT NULL ,
				Width Integer NOT NULL ,
				Height Integer NOT NULL ,
			 Constraint pk_VideoUserFrameSize primary key (Id) 
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create table VideoUserOption (
				Id Integer NOT NULL ,
				Name NVarchar2(30) NOT NULL ,
				Description NVarchar2(255) NOT NULL ,
				FileFormatId Integer NOT NULL ,
				DefaultFrameSize Integer NOT NULL ,
				isGlobal Char (1) Default 0 NOT NULL ,
			 Constraint pk_VideoUserOption primary key (Id) 
			)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_VideoUserOpt_FileFormat_FK ON VideoUserOption (FileFormatId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table VideoUserOption add Constraint VideoUserOpt_FileFormat_FK foreign key (FileFormatId) references FileFormat (Id)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_VUOptComm_VCommandOpt_FK ON VideoUserOptionCommand (VideoCommandOptionId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table VideoUserOptionCommand add Constraint VUOptComm_VCommandOpt_FK foreign key (VideoCommandOptionId) references VideoCommandOption (Id)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_VideoUserOpt_VUFrame_FK ON VideoUserOption (DefaultFrameSize)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table VideoUserOption add Constraint VideoUserOpt_VUFrame_FK foreign key (DefaultFrameSize) references VideoUserFrameSize (Id)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_VUOptComm_VUserOpt_FK ON VideoUserOptionCommand (VideoUserOptionId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table VideoUserOptionCommand add Constraint VUOptComm_VUserOpt_FK foreign key (VideoUserOptionId) references VideoUserOption (Id)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [VideoUserOptionCommand]
			(
				[VideoUserOptionId] Integer NOT NULL,
				[VideoCommandOptionId] Integer NOT NULL,
				[Value] Nvarchar(50) NULL,
				[IsReference] Tinyint Default 0 NOT NULL,
			Constraint [pk_VideoUserOptionCommand] Primary Key ([VideoUserOptionId],[VideoCommandOptionId])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [VideoCommandOption]
			(
				[Id] Integer NOT NULL,
				[Command] Nvarchar(50) Default 'ffmpeg' NOT NULL,
				[Name] Nvarchar(50) NOT NULL,
				[Description] Nvarchar(255) NOT NULL,
				[Flag] Nvarchar(255) NOT NULL,
			Constraint [pk_VideoCommandOption] Primary Key ([Id])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [VideoUserFrameSize]
			(
				[Id] Integer NOT NULL,
				[Name] Nvarchar(20) NOT NULL,
				[Width] Integer NOT NULL,
				[Height] Integer NOT NULL,
			Constraint [pk_VideoUserFrameSize] Primary Key ([Id])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create table [VideoUserOption]
			(
				[Id] Integer NOT NULL,
				[Name] Nvarchar(30) NOT NULL,
				[Description] Nvarchar(255) NOT NULL,
				[FileFormatId] Integer NOT NULL,
				[DefaultFrameSize] Integer NOT NULL,
				[isGlobal] Tinyint Default 0 NOT NULL,
			Constraint [pk_VideoUserOption] Primary Key ([Id])
			)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_VideoUserOpt_FileFormat_FK] ON [VideoUserOption] ([FileFormatId])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [VideoUserOption] add Constraint [VideoUserOpt_FileFormat_FK] foreign key([FileFormatId]) references [FileFormat] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_VUOptComm_VCommandOpt_FK] ON [VideoUserOptionCommand] ([VideoCommandOptionId])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [VideoUserOptionCommand] add Constraint [VUOptComm_VCommandOpt_FK] foreign key([VideoCommandOptionId]) references [VideoCommandOption] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_VideoUserOpt_VUFrame_FK] ON [VideoUserOption] ([DefaultFrameSize])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [VideoUserOption] add Constraint [VideoUserOpt_VUFrame_FK] foreign key([DefaultFrameSize]) references [VideoUserFrameSize] ([Id])  on update no action on delete no action
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_VUOptComm_VUserOpt_FK] ON [VideoUserOptionCommand] ([VideoUserOptionId])
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [VideoUserOptionCommand] add Constraint [VUOptComm_VUserOpt_FK] foreign key([VideoUserOptionId]) references [VideoUserOption] ([Id])  on update no action on delete no action
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (1, 'ffmpeg', 'input filename', 'Set input file name.', '-i')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (2, 'ffmpeg', 'frame size', 'Set frame size. The format is wxh (ffserver default = 160x128).  There is no default for input streams, for output streams it is set by default to the size of the source stream.', '-s')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (3, 'ffmpeg', 'audio codec', 'Force audio codec to the given codec. Use the \"copy\" special value to specify that the raw codec data must be copied as is.', '-acodec')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (4, 'ffmpeg', 'audio bitrate', 'Set the audio bitrate in bit/s (default = 64k).', '-ab')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (5, 'ffmpeg', 'audio sample rate', 'Set the audio sampling frequency. there is no default for input streams, for output streams it is set by default to the frequency of the input stream.', '-ar')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (6, 'ffmpeg', 'video codec', 'Force video codec to the given codec. Use the \"copy\" special value to specify that the raw codec data must be copied as is.', '-vcodec')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (7, 'ffmpeg', 'video bitrate', 'Set the video bitrate in bit/s (default = 200 kb/s).', '-b')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (8, 'ffmpeg', 'video frame rate', 'Set frame rate (Hz value, fraction or abbreviation), (default = 25).', '-r')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (9, 'ffmpeg', 'video preset file', 'The options specified in a preset file are applied to the currently selected video codec.', '-vpre')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (100, 'ffmpeg', 'overwrite output', 'Overwrite output files.', '-y')
		</sqlStatement>
		<sqlStatement type="all">
			INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (101, 'VideoUtil', 'placeEndMoovAtomAtStart', 'Places the MoovAtom in MP4 format files at the start of the file enabling the file to be HTTP streamed.', 'MoovAtom')
		</sqlStatement>

	</version><version number="3.1036" private="true">
		
		<userChangeDescription>
			Update to table: VideoUserOption - column FKs can be nullable
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE VideoUserOption MODIFY FileFormatId BIGINT
		</sqlStatement>
		<sqlStatement type="mysql">
			ALTER TABLE VideoUserOption MODIFY DefaultFrameSize BIGINT
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE VideoUserOption MODIFY FileFormatId Integer
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE VideoUserOption MODIFY DefaultFrameSize Integer
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE VideoUserOption ALTER COLUMN FileFormatId Integer NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE VideoUserOption ALTER COLUMN DefaultFrameSize Integer NULL
		</sqlStatement>

	</version><version number="3.1037" private="true">
		
		<userChangeDescription>
			Update to view asset buttons link cms text
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-submit-feedback', 12, 'Submit Feedback', 'Submit Feedback', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.1038" private="true">

		<userChangeDescription>
			Added cms content for submit asset feedback
		</userChangeDescription>
	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submit-asset-feedback-request', 13, 'Snippet - Use the form below to submit your feedback.', 'Use the form below to submit your feedback.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submit-asset-feedback-confirmation', 13, 'Snippet - Thank you for submitting your feedback.', 'Thank you for submitting your feedback.', 1, 2) ]]>			
		</sqlStatement>
		
	</version><version number="3.1039" private="false">

		<userChangeDescription>
			Added new column to Asset table
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD DateSubmitted DATETIME
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD DateSubmitted DATETIME
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD DateSubmitted DATE
		</sqlStatement>
		
	</version><version number="3.1040" private="false">
	
		<userChangeDescription>
			Added new column 'HasNeverBeenApproved' to Asset table
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE Asset ADD COLUMN HasNeverBeenApproved Bool NOT NULL DEFAULT 0
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE Asset ADD HasNeverBeenApproved Char (1) Default 0 NOT NULL
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			ALTER TABLE Asset ADD HasNeverBeenApproved Tinyint Default 0 NOT NULL
		</sqlStatement>
	
	</version><version number="3.1041" private="true">
	
		<userChangeDescription>
			Fixed 'CategoryVisibleToGroup' fields data type (created in version 3.1031)
		</userChangeDescription>
	
		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup MODIFY CanUploadAssets Bool NOT NULL DEFAULT 0
		</sqlStatement>
		<sqlStatement type="mysql">
			ALTER TABLE CategoryVisibleToGroup MODIFY CanUploadWithApproval Bool NOT NULL DEFAULT 0
		</sqlStatement>
		
		
		<sqlStatement type="sqlserver">
			EXEC sp_rename 'CategoryVisibleToGroup.[CanUploadAssets]', 'CanUploadAssetsOld', 'COLUMN'
		</sqlStatement>
		<sqlStatement type="sqlserver">
			EXEC sp_rename 'CategoryVisibleToGroup.[CanUploadWithApproval]', 'CanUploadWithApprovalOld', 'COLUMN'
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadAssets Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup ADD CanUploadWithApproval Tinyint DEFAULT 0 NOT NULL
		</sqlStatement>

		<sqlStatement type="sqlserver">
			UPDATE CategoryVisibleToGroup SET CanUploadAssets=CanUploadAssetsOld WHERE (CategoryVisibleToGroup.UserGroupId=CategoryVisibleToGroup.UserGroupId AND CategoryVisibleToGroup.CategoryId=CategoryVisibleToGroup.CategoryId)
		</sqlStatement>
		<sqlStatement type="sqlserver">
			UPDATE CategoryVisibleToGroup SET CanUploadWithApproval=CanUploadWithApprovalOld WHERE (CategoryVisibleToGroup.UserGroupId=CategoryVisibleToGroup.UserGroupId AND CategoryVisibleToGroup.CategoryId=CategoryVisibleToGroup.CategoryId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('CategoryVisibleToGroup')
			AND name = 'CanUploadAssetsOld'
			EXEC ('ALTER TABLE [CategoryVisibleToGroup] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>
		<sqlStatement type="sqlserver">
			DECLARE @default sysname
			SELECT @default = object_name(cdefault)
			FROM syscolumns
			WHERE id = object_id('CategoryVisibleToGroup')
			AND name = 'CanUploadWithApprovalOld'
			EXEC ('ALTER TABLE [CategoryVisibleToGroup] DROP CONSTRAINT [' + @default + ']')
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup DROP COLUMN CanUploadAssetsOld
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE CategoryVisibleToGroup DROP COLUMN CanUploadWithApprovalOld
		</sqlStatement>
		
	</version><version number="3.1042" private="true">
		
		<userChangeDescription>
			Added prompt to autcomplete results when user has exceeded auto-complete-max-results
		</userChangeDescription>
				
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-autocomplete-prompt', 13, 'Snippet - Autocomplete prompt ', 'Keep typing to refine results...', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1043" private="true">
		
		<userChangeDescription>
			UI work on approval page enhancements
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-show', 13, 'Snippet - Show', 'Show', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-all-users', 13, 'Snippet - All users', 'All users', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1044">
		<userChangeDescription>
			Enhanced 'auto-complete' settings.
		</userChangeDescription>		
		
		<appSettingChange appSettingCondition="auto-complete-enabled=true" type="add" setting="auto-complete-quick-search-enabled" value="true" section="Auto Complete Settings">
			<comment>
				Whether to enable auto completion on: Homepage search, Quick search box (right top corner), Advanced Search ('keywords' at the top), Search Builder ('general keywords').
				When you change this from false to true you need to rebuild the auto complete index (http://asset-bank/action/viewACReindexStatus).
			</comment>
		</appSettingChange>
		
		<appSettingChange appSettingCondition="auto-complete-enabled=false" type="add" setting="auto-complete-quick-search-enabled" value="false" section="Auto Complete Settings">
			<comment>
				Whether to enable auto completion on: Homepage search, Quick search box (right top corner), Advanced Search ('keywords' at the top), Search Builder ('general keywords').
				When you change this from false to true you need to rebuild the auto complete index (http://asset-bank/action/viewACReindexStatus).
			</comment>
		</appSettingChange>
	</version><version number="3.1045" private="true">	
		<userChangeDescription>
			Video download option snippet
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-aspect-maintain', 9, 'Label - Lock Aspect Maintain', '<em>(aspect ratio is maintained)</em>', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1046" private="true">
		<userChangeDescription>
			Ensure that assets awaiting approval are shown on the right tab ('uploads' or 'edits') even if versioning is not used (which used to be the way this way determined - now uses a flag 'hasNeverBeenApproved'). Also now populate and use dateSubmitted instead of 'dateAdded' and 'dateLastModified'.
		</userChangeDescription>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE Asset SET DateSubmitted=DateAdded ]]>
		</sqlStatement>		
		<sqlStatement type="all">
			<![CDATA[ UPDATE Asset SET HasNeverBeenApproved=1 WHERE Id IN (SELECT iic.ItemId FROM CM_ItemInCategory iic, CM_Category c WHERE iic.CategoryId=c.ID AND c.CategoryTypeId=2 AND iic.IsApproved=0) ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1, 'label-date-submitted', 9, 'Label - Date Submitted', 'Date Submitted', 1, 2) ]]>
		</sqlStatement>					
		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier='label-date-changed']]>
		</sqlStatement>			
	</version><version number="3.1047" private="true">
		<userChangeDescription>
			Added audio channel option on advanced Video Conversion
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO VideoCommandOption (Id, Command, Name, Description, Flag) VALUES (10, 'ffmpeg', 'audio channels', 'Set the number of audio channels, 1 audio channel (mono) or 2 (stereo). (Default = 2)', '-ac') ]]>
		</sqlStatement>
	</version><version number="3.1048" private="true">
		<userChangeDescription>
			Adding content to database
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-my-edits', 7, 'Menu - My Edits', 'My Edits', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
	   		<![CDATA[ UPDATE ListItem SET Body = 'My Uploads/Edits' WHERE Identifier = 'heading-my-uploads' ]]>
	   	</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-user', 9, 'Label - User', 'User', 1, 2) ]]>
		</sqlStatement>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-view-whats-changed', 12, 'Link - View what&#39;s changed', 'View what&#39;s changed', 1, 2) ]]>
		</sqlStatement>	
	</version><version number="3.1049" private="true">
		<userChangeDescription>
			UI enhancements to approval pages
		</userChangeDescription>	
		<sqlStatement type="all">
	   		<![CDATA[ UPDATE ListItem SET Body = 'There are currently no uploads for you to approve.' WHERE Identifier = 'snippet-no-uploaded-items' ]]>
	   	</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-edits-to-approve', 13, 'Snippet - No edits to approve', 'There are currently no edits for you to approve.', 1, 2) ]]>
		</sqlStatement>	
	</version><version number="3.1050" private="true">
		<userChangeDescription>
			Release version
        </userChangeDescription>
    </version><version number="3.1051" private="true">
		<userChangeDescription>
			Update Approval text
		</userChangeDescription>	
		<sqlStatement type="all">
	   		<![CDATA[ UPDATE ListItem SET Body = '<p>I have read and accept the&nbsp;<a title="View Terms and Conditions in a new window" href="../action/viewConditionsPopup" target="_blank">Terms and Conditions</a></p>' WHERE Identifier ='tsandcs-image-checkbox' ]]>
	   	</sqlStatement>
	</version><version number="3.1052" private="true">
		<userChangeDescription>
			Changed to lightbox links on download assets page and email confirmation page
        </userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-lightbox-links', 13, 'Snippet - Lightbox links', '<a href="../action/viewAssetBox">#link-back-my-lightbox#</a>', 1, 1) ]]>
		</sqlStatement>	

	</version><version number="3.1053" private="true">
		<userChangeDescription>
			Data migration release
		</userChangeDescription>
	</version><version number="3.1054" private="true">
		<userChangeDescription>
			Added new validation message to bulk update
        </userChangeDescription>
		
		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-skipping-old-version', 13, 'Snippet - Bulk Update Skipping old version of an asset', 'Skipping asset: [0] because it has a newer unnapproved version', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-batch-update-skipping-old-version', 13, 'Snippet - Batch Update Skipping old version of an asset', 'This asset cannot be saved because there is a more recent version of it that is currently unnapproved. Please click ''Skip'' to move to the next asset.', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.1055" private="true">
		<userChangeDescription>
			Added outdated flash snippet
        </userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-upload-outdated-flash', 13, 'Snippet - Upload Outdated Flash', '<strong>Error:</strong> The Flash Uploader will not work with the version of Flash Player you have installed, as your Asset Bank is also configured to support Integrated Windows Authentication. Please upgrade your version of Flash Player.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1056">
		<userChangeDescription>
			Added bulk update from approval screens functionality
        </userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-bulk-approve-assets', 12, 'Link - Bulk approve assets', 'Bulk  update', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Batch update' WHERE Identifier='link-batch-approve-assets' ]]>
		</sqlStatement>

	</version><version number="3.1057">
		<userChangeDescription>
			Enhancements to duplicate email handling, for asset approval and rejection workflow.
      </userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'workflow assets approved','noreply@noreply.com','#emailAddresses#;','','','Asset Bank: assets approved','<p>Dear #name#<br /><br />The following assets you uploaded have been approved:</p><p>#description#</p><p>Kind regards,<br />Asset Bank Admin</p>','workflow_asset_approved_multiple') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'workflow assets rejected','noreply@noreply.com','#emailAddresses#;','','','Asset Bank: assets rejected','<p>Dear #name#<br /><br />The following assets you uploaded have been rejected. Please log in to Asset Bank and go to the Upload > My Uploads screen to review:</p><p>#description#</p><p>Kind regards,<br />Asset Bank Admin</p>','workflow_asset_rejected_multiple') ]]>
		</sqlStatement>

	</version><version number="3.1058" private="true">
		<userChangeDescription>
			Added permission check for "Submit Review" functionality.
      	</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-permission-feedback', 13, 'Snippet - No Permission on Feedback', 'You do not have permission to submit feedback for this #item#.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1059" private="true">
		<userChangeDescription>
			Fix for deadlock issue when adding attribute on SQL Server
      	</userChangeDescription>	
    </version><version number="3.1060" private="true">
		<userChangeDescription>
			Amended password reminder email template to prevent the email clients rendering incorrect html link.
      	</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body='Dear #name#<br><br>Here are the details to reset your Asset Bank password.<br><br>You now need to follow the link below to reset your password and set a new one:<br><a href="#baseUrl#/#link#=#authId#">#baseUrl#/#link#=#authId#</a><br><br>Kind Regards,<br>Asset Bank Admin'  WHERE TextId='password_reminder' ]]>
		</sqlStatement>
	</version><version number="3.1061" private="true">
		<userChangeDescription>
			Changed 'My Uploads' sub menu item to 'My Uploads/Edits'
      	</userChangeDescription>	
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='My Uploads/Edits' WHERE Identifier='menu-my-uploads' ]]>
		</sqlStatement>      	
    </version><version number="3.1062" private="true">
		<userChangeDescription>
			Added Assets without messages snippet
      	</userChangeDescription>	
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-assets-without-messages', 13, 'Snippet - Assets without messages', 'Assets without messages', 1, 2) ]]>
		</sqlStatement>      	
    </version><version number="3.1063" private="true">
		<userChangeDescription>
			Fixed issue whereby reject emails were being sent to uploader rather than submitter.
      	</userChangeDescription>
    </version><version number="3.1064">
		<userChangeDescription>
			'Send as e-card' is a functionality that allows you to send image asset as an e-card.
			 Set this property to true in the ApplicationSettings to allow this feature on all image assets.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-send-e-card', 12, 'Link - Send as E-Card', 'send as e-card', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-send-e-card', 16, 'Title - Send e-card', '#company-name# | #heading-send-e-card#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-send-e-card', 10, 'Heading - Send e-card', 'Send E-Card', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-your', 9, 'Label - Your', 'Your', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-send-to', 9, 'Label - Send To', 'Send To:', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-e-card-sent', 13, 'Snippet - E-card Sent Confirmation', 'Your e-card has been sent to: ?recipientEmail?', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-e-card-privacy', 13, 'Snippet - E-card privacy policy', '<em>Please note, we will not use your information or share it with any third parties.</em>', 1, 1) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'send as e-card','#from#','#email#;','','','#company-name# e-card','<body style="background:#009BC6;"><table width="100%" cellpadding="0" cellspacing="0" bgcolor="#009BC6"><tr height="20"><td height="20">&nbsp;</td></tr><tr><td><table width="700" cellpadding="0" cellspacing="0" align="center"><tr><td colspan="3"><img src="#url#/images/standard/misc/ecard_header.gif" width="700" height="30" style="display:block;"></td></tr><tr><td bgcolor="#ffffff" width="30"><img src="#url#/images/standard/misc/x.gif" width="30" height="1" style="display:block;"></td><td bgcolor="#ffffff"><table width="100%" cellpadding="0" cellspacing="0"><tr><td><a href="#url#"><img src="#url#/images/standard/asset_bank_logo.gif" alt="#company-name#"></a></td></tr><tr><td height="15"><img src="#url#/images/standard/misc/x.gif" width="1" height="15" style="display:block;"></td></tr><tr><td height="5" bgcolor="#009BC6"><img src="#url#/images/standard/misc/x.gif" width="1" height="5" style="display:block;"></td></tr><tr><td height="15"><img src="#url#/images/standard/misc/x.gif" width="1" height="15" style="display:block;"></td></tr><tr><td><p style="font-family:Arial, sans-serif; font-size:16px; margin-top:0px;">#name# has sent you an image from the <a href="#url#" style="color:#009BC6; text-decoration:none;">#company-name#</a>site.</p><p style="font-family:Arial, sans-serif; font-size:13px; margin-top:0px;"><a href="#url#"style="color:#009BC6; text-decoration:none;">#url#.</a></p></td></tr><tr><td height="15"><img src="#url#/images/standard/misc/x.gif" width="1" height="15" style="display:block;"></td></tr><tr><td><table bgcolor="#afacac" cellpadding="4" cellspacing="0" align="center"><tr><td><img src="#image#" style="display:block;"></td></tr></table></td></tr><tr><td height="20"><img src="#url#/images/standard/misc/x.gif" width="1" height="20" style="display:block;"></td></tr><tr><td><table cellpadding="0" cellspacing="0" align="center"><tr><td height="25"><img src="#url#/images/standard/misc/x.gif" width="1" height="25" style="display:block;"></td><td width="54"><img src="#url#/images/standard/misc/x.gif" width="1" height="20" style="display:block;"><p style="line-height:10px; color:#009BC6; font-family:Georgia, Times, serif; font-size:60px; margin-top:0px; font-weight:bold;">&#8220;</p></td><td valign="top"><p style="font-family:Arial,sans-serif;font-size:15px;margin-top:0px;font-weight:bold;">#message#</p></td><td width="54" valign="bottom"><img src="#url#/images/standard/misc/x.gif" width="1" height="20" style="display:block;"><p style="line-height:10px; color:#009BC6; font-family:Georgia, Times, serif; font-size:60px; margin-top:0px; font-weight:bold; text-align:right;">&#8221;</p></td></tr></table></td></tr><tr><td height="20" align="center"><a href="#url#"><img src="#url#/images/standard/misc/ecard_button.gif" width="157" height="42" style="display:block;"></a></td></tr></table></td><td bgcolor="#ffffff" width="30"><img src="#url#/images/standard/misc/x.gif" width="30" height="1" style="display:block;"></td></tr><tr><td colspan="3"><img src="#url#/images/standard/misc/ecard_footer.gif" width="700" height="30" style="display:block;"></td></tr><tr><td colspan="3" height="10"><img src="#url#/images/standard/misc/x.gif" width="1" height="10" style="display:block;"></td></tr><tr><td colspan="3"><p style="font-family:Arial,sans-serif; font-size:11px; margin-top:0px; font-weight:bold; color:#fff;">&copy; 2011 <a href="www.bright-interactive.com" style="color:#fff; text-decoration:none;">BrightInteractive</a>.&nbsp;&nbsp;<a href="#url#/action/viewConditions"style="color:#fff; text-decoration:none;">Terms &amp;Conditions</a> &nbsp;| &nbsp;<a href="#url#/action/viewPrivacy" style="color:#fff; text-decoration:none;">Privacy Policy</a>&nbsp;|&nbsp;<a href="#url#/action/viewAbout" style="color:#fff; text-decoration:none;">About Asset Bank</a></p></td></tr></table></td></tr></table></body>','send_ecard') ]]>
		</sqlStatement>
	</version><version number="3.1065" private="true">
		<userChangeDescription>
			Lightbox panel label for Arup
      	</userChangeDescription>
		<sqlStatement type="all">	
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-lightbox-panel-label', 13, 'Snippet - Lightbox panel label', '', 1, 2) ]]>
		</sqlStatement>	
    </version><version number="3.1066" private="true">
		<userChangeDescription>
			Testing release for Arup
      	</userChangeDescription>
    </version><version number="3.1067">
		<userChangeDescription>
			Restriction on maximum number of users to be displayed.
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="find-users-max-results" value="500" section="Manage Users Settings">
			<comment>
				Max number of users to be displayed
			</comment>
		</appSettingChange>
	</version><version number="3.1068" private="true">
		<userChangeDescription>
			Fixed bug: Amnesty video preview issue.
      	</userChangeDescription>
    </version><version number="3.1069" private="true">
		<userChangeDescription>
			Content for Bulk Update permissions message
      	</userChangeDescription>
		
		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-bulk-update-sending-for-approval', 13, 'Snippet - Bulk Update Sending For Approval', 'Asset [0]: Unable to submit to live, sending for approval', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1070" private="true">
		<userChangeDescription>
			Optional content for compare assets page
	    </userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-compare-assets-text', 13, 'Snippet - Compare assets text', '', 1, 3) ]]>
		</sqlStatement>
	</version><version number="3.1071" private="true">
		<userChangeDescription>
			Improved performance of tidyWorkflowsForAccessLevel() to avoid SQL Server "The query processor ran out of internal resources and could not produce a query plan." error.
	    </userChangeDescription>

		<sqlStatement type="mysql">
			Create Index IX_WF_WFName ON WorkflowInfo (WorkflowName)
		</sqlStatement>
		<sqlStatement type="mysql">
			Create Index IX_WF_WFableEntityId ON WorkflowInfo (WorkflowableEntityId)
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_WF_WFName] ON [WorkflowInfo] ([WorkflowName] )
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_WF_WFableEntityId] ON [WorkflowInfo] ([WorkflowableEntityId] )
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_WF_WFName ON WorkflowInfo (WorkflowName)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_WF_WFableEntityId ON WorkflowInfo (WorkflowableEntityId)
		</sqlStatement>
	</version><version number="3.1072" private="true">
		<userChangeDescription>
			Release version
		</userChangeDescription>
	</version><version number="3.1073" private="true">
		<userChangeDescription>
			Release version
		</userChangeDescription>
	</version><version number="3.1074" private="true">
		<userChangeDescription>
			Release version
		</userChangeDescription>
	</version><version number="3.1075" private="true">
		<userChangeDescription>
			Added org-unit-hide-selection-on-registration-page setting.
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="org-unit-hide-selection-on-registration-page" value="false" section="Organisational units">
			<comment>
				Whether to display org unit selection on registration page
			</comment>
		</appSettingChange>
	</version><version number="3.1076" private="true">
		<userChangeDescription>
			Release version
		</userChangeDescription>
	</version><version number="3.1077" private="true">
		<userChangeDescription>
			Work in progress: facebook integration.
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			Create table FacebookLikeButtonSettings (
				IsEnabled Bool NOT NULL DEFAULT 0,
				FbAdminIds Varchar(255),
				FbApplicationId Varchar(255),
				ButtonLayoutId Int NOT NULL DEFAULT 1,
				VerbToDisplayId Int NOT NULL DEFAULT 1,
				ShowSendButton Bool NOT NULL DEFAULT 0,
				ShowFaces Bool NOT NULL DEFAULT 0) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [FacebookLikeButtonSettings]
			(
				[IsEnabled] Tinyint Default 0 NOT NULL,
				[FbAdminIds] Nvarchar(255) NULL,
				[FbApplicationId] Nvarchar(255) NULL,
				[ButtonLayoutId] Integer Default 1 NOT NULL,
				[VerbToDisplayId] Integer Default 1 NOT NULL,
				[ShowSendButton] Tinyint Default 0 NOT NULL,
				[ShowFaces] Tinyint Default 0 NOT NULL
			)
		</sqlStatement>
		
		<sqlStatement type="oracle">
			Create table FacebookLikeButtonSettings (
				IsEnabled Char (1) Default 0 NOT NULL ,
				FbAdminIds NVarchar2(255),
				FbApplicationId NVarchar2(255),
				ButtonLayoutId Integer Default 1 NOT NULL ,
				VerbToDisplayId Integer Default 1 NOT NULL ,
				ShowSendButton Char (1) Default 0 NOT NULL ,
				ShowFaces Char (1) Default 0 NOT NULL 
			)
		</sqlStatement>
		
		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO FacebookLikeButtonSettings (IsEnabled, FbAdminIds, FbApplicationId, ButtonLayoutId, VerbToDisplayId, ShowSendButton, ShowFaces) VALUES (0, '', '', 1, 1, 0, 1) ]]>
		</sqlStatement>
	</version><version number="3.1078" private="true">
		<userChangeDescription>
			Make Runtime column on System-&gt;Jobs page show the time the job has been running, not the time between when it started and when its status was last changed.
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Job ADD COLUMN DateStarted Datetime COMMENT 'The date that the job started running'
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table Job DROP DateModified
		</sqlStatement>

		<sqlStatement type="sqlserver">
			ALTER TABLE [Job] ADD [DateStarted] Datetime
		</sqlStatement>
		<sqlStatement type="sqlserver">
			ALTER TABLE [Job] DROP COLUMN [DateModified]
		</sqlStatement>

		<sqlStatement type="oracle">
			ALTER TABLE Job ADD DateStarted Date
		</sqlStatement>
		<sqlStatement type="oracle">
			Comment on column Job.DateStarted is 'The date that the job started running'
		</sqlStatement>
		<sqlStatement type="oracle">
			ALTER TABLE Job DROP COLUMN DateModified
		</sqlStatement>
	</version><version number="3.1079" private="true">
		<userChangeDescription>
			Add a new setting for api-enabled.
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="api-enabled" value="true" section="API Settings">
			<comment>
				Whether to enable the api.
			</comment>
		</appSettingChange>
		
	</version><version number="3.1080" private="true">
		<userChangeDescription>
			License enhancements to control use of premium features and add a user limit feature.
		</userChangeDescription>				
	</version><version number="3.1081" private="true">
		<userChangeDescription>
			Control reindexing so that only one process can be running at once, with none queued.
		</userChangeDescription>				
	</version><version number="3.1082" private="true">

		<userChangeDescription>
			Content fix
		</userChangeDescription>

		<sqlStatement type="all">
			UPDATE ListItem SET Body='Skipping asset: [0] because it has a newer unapproved version' WHERE Identifier='snippet-bulk-update-skipping-old-version'
		</sqlStatement>

		
		<sqlStatement type="all">
			UPDATE ListItem SET Body='This asset cannot be saved because there is a more recent version of it that is currently unapproved. Please click ''Skip'' to move to the next asset.' WHERE Identifier='snippet-batch-update-skipping-old-version'
		</sqlStatement>

	</version><version number="3.1083" private="true">

		<userChangeDescription>
			Bulk update content
		</userChangeDescription>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'bulk-update-skipping-asset-cant-submit-live', 13, 'Snippet - Bulk Update Skipping asset - Can''t submit to live', 'Skipping asset: [0] you do not have permission to edit this asset and put it live, you must submit it for approval', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'bulk-update-skipping-asset-cant-leave-live', 13, 'Snippet - Bulk Update Skipping asset - Can''t leave live', 'Skipping asset: [0] you do not have permission to edit this asset and leave it live, you must submit it for approval', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			 <![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'bulk-update-skipping-asset-conflicting-workflow', 13, 'Snippet - Bulk Update Skipping asset - Conflicting workflow', 'Skipping asset: [0] this asset is currently involved in another approval process and can''t be edited via bulk update until that is complete', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.1084" private="true">
            <userChangeDescription>
                    Release version
            </userChangeDescription>
    </version><version number="3.1085" private="true">
		<userChangeDescription>
			Fixed small bug on Lightbox messages, and major issues in Public Lightboxes code.
		</userChangeDescription>
		
    	<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='The shared [0] you selected is no longer available.' WHERE Identifier='assetBoxNotAvailable' ]]>
		</sqlStatement>
		
    	<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='The shared [0] you were using is no longer available.' WHERE Identifier='assetBoxRemoved' ]]>
		</sqlStatement>
		
    	<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Your available [0] have changed since the page was loaded - please try again.' WHERE Identifier='assetBoxesOutOfDate' ]]>
		</sqlStatement>
	</version><version number="3.1086" private="true">
		
		<userChangeDescription>
			My Uploads content changes
		</userChangeDescription>	
			
		<sqlStatement type="all">
			UPDATE ListItem SET Body='Your Live Items' WHERE Identifier='subhead-your-approved-items'
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE ListItem SET Body='You do not have any live uploads or edits from the last ?numDaysShown? days.' WHERE Identifier='snippet-no-aprroved-items-you-uploaded'
		</sqlStatement>
		<sqlStatement type="all">
			UPDATE ListItem SET Body='The following is a record of any uploads or edits you have made in the last ?numDaysShown? days that are now live.' WHERE Identifier='snippet-aprroved-items-you-uploaded'
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='View your older live #items# &raquo;' WHERE Identifier='link-view-older-approved-items' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'tab-live', 7, 'Tab - Live', 'Live', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.1087">
		
		<userChangeDescription>
			Add a function to discard the current version of an asset, when there are multiple versions.
		</userChangeDescription>	
			
		<sqlStatement type="mysql">
			Create table RelatedAssetHistory (
				ParentId Bigint NOT NULL,
				ChildId Bigint NOT NULL,
				RelationshipTypeId Bigint NOT NULL DEFAULT 1,
				SequenceNumber Int,
				RelationshipDescription Varchar(255),
			 Primary Key (ParentId,ChildId,RelationshipTypeId)) ENGINE = InnoDB
			DEFAULT CHARACTER SET utf8
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table RelatedAssetHistory add Constraint Asset_RAH_Parent_FK Foreign Key (ParentId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table RelatedAssetHistory add Constraint Asset_RAH_Child_FK Foreign Key (ChildId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table RelatedAssetHistory add Constraint RelationshipType_RAH_FK Foreign Key (RelationshipTypeId) references RelationshipType (Id) on delete  restrict on update  restrict
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			Create table [RelatedAssetHistory]
			(
				[ParentId] Integer NOT NULL,
				[ChildId] Integer NOT NULL,
				[RelationshipTypeId] Integer NOT NULL,
				[SequenceNumber] Integer NULL,
				[RelationshipDescription] Nvarchar(255) NULL,
			Constraint [pk_RelatedAssetHistory] Primary Key ([ParentId],[ChildId],[RelationshipTypeId])
			) 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_Asset_RAH_Parent_FK] ON [RelatedAssetHistory] ([ParentId]) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [RelatedAssetHistory] add Constraint [Asset_RAH_Parent_FK] foreign key([ParentId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_Asset_RAH_Child_FK] ON [RelatedAssetHistory] ([ChildId]) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [RelatedAssetHistory] add Constraint [Asset_RAH_Child_FK] foreign key([ChildId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_RelationshipType_RAH_FK] ON [RelatedAssetHistory] ([RelationshipTypeId]) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [RelatedAssetHistory] add Constraint [RelationshipType_RAH_FK] foreign key([RelationshipTypeId]) references [RelationshipType] ([Id])  on update no action on delete no action 
		</sqlStatement>
				
		<sqlStatement type="oracle">
			Create table RelatedAssetHistory (
				ParentId Integer NOT NULL ,
				ChildId Integer NOT NULL ,
				RelationshipTypeId Integer NOT NULL ,
				SequenceNumber Integer,
				RelationshipDescription NVarchar2(255),
			 Constraint pk_RelatedAssetHistory primary key (ParentId,ChildId,RelationshipTypeId) 
			) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_Asset_RAH_Parent_FK ON RelatedAssetHistory (ParentId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table RelatedAssetHistory add Constraint Asset_RAH_Parent_FK foreign key (ParentId) references Asset (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_Asset_RAH_Child_FK ON RelatedAssetHistory (ChildId)		
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table RelatedAssetHistory add Constraint Asset_RAH_Child_FK foreign key (ChildId) references Asset (Id)
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_RelationshipType_RAH_FK ON RelatedAssetHistory (RelationshipTypeId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table RelatedAssetHistory add Constraint RelationshipType_RAH_FK foreign key (RelationshipTypeId) references RelationshipType (Id) 
		</sqlStatement>
			
	</version><version number="3.1088" private="true">
		<userChangeDescription>
			Improved "Bulk Update Start" form check. 
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoActionSelectedOnCategory', 15, 'failedValidationNoActionSelectedOnCategory', 'Please note that no action will be taken on #category-root# unless you change the corresponding drop down to something other than "#snippet-skip#".', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationNoActionSelectedOnAccessLevel', 15, 'failedValidationNoActionSelectedOnAccessLevel', 'Please note that no action will be taken on #access-level-root# unless you change the corresponding drop down to something other than "#snippet-skip#".', 1, 2) ]]>
		</sqlStatement>
		
	</version><version number="3.1088.1" private="true">
	
		<userChangeDescription>
			Allow grouping of workflow audit entries into workflow cycles, based on id of the WorkflowInfo.
		</userChangeDescription>
		
		<sqlStatement type="mysql">
			ALTER TABLE AssetWorkflowAudit ADD COLUMN WorkflowInfoId Bigint NOT NULL DEFAULT 1
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE AssetWorkflowAudit ADD WorkflowInfoId Integer Default 1 NOT NULL
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetWorkflowAudit ADD WorkflowInfoId Integer Default 1 NOT NULL
		</sqlStatement>
	
	</version><version number="3.1088.2">
		<userChangeDescription>
			Changed "TYPE = InnoDB" to "ENGINE = InnoDB" in updater SQL statements for compatibility with MySQL 5.5.
		</userChangeDescription>
	</version><version number="3.1088.3" private="true">

		<userChangeDescription>
			Improve lightbox message for mixed approval assets.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Some of the #items# in your selection are not approved for high-res download. If you would like to select a high-res format below then you can either:<br/>a) Click on the Request approval button to get approval for these #items#, or<br/>b) Go back to your #a-lightbox# and remove from your selection the #items# that do not have high-res approval.' WHERE Identifier = 'snippet-mixed-res-lightbox' ]]>
		</sqlStatement>
		
	</version><version number="3.1088.4">
		<userChangeDescription>
			Upgraded PDFBox library to fix performance issues when reindexing large PDFs
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/pdfbox-1.5.0.jar ]]>
		</userPostUpdateMessage>
		<appFileChange type="delete" file="/WEB-INF/lib/pdfbox-1.5.0.jar" />
	</version><version number="3.1088.5">
		<userChangeDescription>
			Upgraded FontBox library to corresponding version as PDFBox
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/fontbox-1.5.0.jar ]]>
		</userPostUpdateMessage>
		<appFileChange type="delete" file="/WEB-INF/lib/fontbox-1.5.0.jar" />
	</version><version number="3.1088.6">
		<userChangeDescription>
			Upgraded JempBox library to corresponding version as PDFBox
		</userChangeDescription>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/jempbox-1.5.0.jar ]]>
		</userPostUpdateMessage>
		<appFileChange type="delete" file="/WEB-INF/lib/jempbox-1.5.0.jar" />
	</version><version number="3.1088.7" private="true">
		<userChangeDescription>
			Stand-Alone Updater enhancement: workflow.xml update.
		</userChangeDescription>
	</version><version number="3.1088.8" private="true">
		<userChangeDescription>
			Release Version
		</userChangeDescription>
	</version><version number="3.1088.9" private="true">
		<userChangeDescription>
			Release Version
		</userChangeDescription>
	</version><version number="3.1089" private="true">

		<userChangeDescription>
			InDesign: added 'make templated' feature. This allows InDesign assets that have a document that is overriding the document from their template to be changed so that they use the template's document instead.
		</userChangeDescription>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-make-templated', 10, 'Heading - Make Templated', 'Make Templated', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'button-indesign-make-templated', 11, 'Button - InDesign: Make Templated', 'Make Templated', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'js-confirm-indd-make-templated', 14, 'Javascript - Confirm Make InDesign Document Templated', 'If you make this asset templated then the InDesign Document specific to this asset will be deleted.', 1, 3)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-make-templated', 16, 'Title - Make Templated', '#company-name# | #heading-make-templated#', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-indesign-no-templates-for-asset-entity', 13, 'Snippet - InDesign - No templates for asset type', 'No templates found. Please try a different Type.', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-incomplete-metadata-warning', 1, 'Copy - Incomplete Metadata Warning', 'This item has incomplete metadata', 1, 2)
		</sqlStatement>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'copy-incomplete-metadata-warning-tooltip', 1, 'Copy - Incomplete Metadata Warning Tooltip', 'Edit the item to add missing metadata', 1, 2)
		</sqlStatement>

		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW DELETE FOLLOWING FILE (IF IT EXISTS), BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/gson-1.4.jar ]]>
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/gson-1.4.jar" />

	</version><version number="3.1090">

		<userChangeDescription>
			When updating which peer asset relationships are allowed, and the terms for peers (Admin -&gt; Asset Types -&gt; relationships), keep the allowable relationships and descriptions for both ends of the relationship in sync. This is to make this aspect of peer relationships symetrical (peer assets themselves were already symmetrical, i.e. if you created a peer relationship between asset A and asset B then one was already automatically created between asset B and asset A).
		</userChangeDescription>
	</version><version number="3.1091" private="true">
	
		<userChangeDescription>
			No change. Was 'Allow grouping of workflow audit entries into workflow cycles, based on id of the WorkflowInfo', moved to 3.1088.1.
		</userChangeDescription>
			
	</version><version number="3.1092">
		<userChangeDescription>
			Add a Setup Wizard to allow a server admin to select settings on installation.
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="setup-run-wizard" value="false" section="Server settings">
			<comment>
				Whether to run the setup wizard on startup
			</comment>
		</appSettingChange>
		<appSettingChange type="add" setting="setup-wizard-password" value="" section="Server settings">
			<comment>
				Password for the setup wizard
			</comment>
		</appSettingChange>
		
	</version><version number="3.1093" private="true">

		<userChangeDescription>
			Initial work on request functionality
		</userChangeDescription>

		<sqlStatement type="mysql">
			Create table Request (
			Id Bigint NOT NULL AUTO_INCREMENT,
			RequestUserId Bigint NOT NULL,
			FulfillmentUserId Bigint,
			AssetId Bigint,
			Description Mediumtext,
			DateAdded Date NOT NULL,
		 Primary Key (Id)) ENGINE = InnoDB
		</sqlStatement>

		<sqlStatement type="mysql">
			Alter table Request add Constraint Asset_Request_FK Foreign Key (AssetId) references Asset (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table Request add Constraint RequestUser_Request_FK Foreign Key (RequestUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>
		<sqlStatement type="mysql">
			Alter table Request add Constraint FulfillmentUser_Request_FK Foreign Key (FulfillmentUserId) references AssetBankUser (Id) on delete  restrict on update  restrict
		</sqlStatement>


		<sqlStatement type="sqlserver">
			Create table [Request]
			(
				[Id] Integer NOT NULL,
				[RequestUserId] Integer NOT NULL,
				[FulfillmentUserId] Integer NULL,
				[AssetId] Integer NULL,
				[Description] Ntext NULL,
				[DateAdded] Datetime NOT NULL,
			Constraint [pk_Request] Primary Key ([Id])
			) 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_Asset_Request_FK] ON [Request] ([AssetId]) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [Request] add Constraint [Asset_Request_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action 
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create Index [IX_RequestUser_Request_FK] ON [Request] ([RequestUserId]) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [Request] add Constraint [RequestUser_Request_FK] foreign key([RequestUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Create Index [IX_FulfillmentUser_Request_FK] ON [Request] ([FulfillmentUserId]) 
		</sqlStatement>
		<sqlStatement type="sqlserver">
			Alter table [Request] add Constraint [FulfillmentUser_Request_FK] foreign key([FulfillmentUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action 
		</sqlStatement>


		<sqlStatement type="oracle">
			Create table Request (
				Id Integer NOT NULL ,
				RequestUserId Integer NOT NULL ,
				FulfillmentUserId Integer,
				AssetId Integer,
				Description NClob,
				DateAdded Date NOT NULL ,
			 Constraint pk_Request primary key (Id) 
			)
		</sqlStatement>

		<sqlStatement type="oracle">
			Create Index IX_Asset_Request_FK ON Request (AssetId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Request add Constraint Asset_Request_FK foreign key (AssetId) references Asset (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_RequestUser_Request_FK ON Request (RequestUserId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Request add Constraint RequestUser_Request_FK foreign key (RequestUserId) references AssetBankUser (Id) 
		</sqlStatement>
		<sqlStatement type="oracle">
			Create Index IX_FulfillmentUser_Request_FK ON Request (FulfillmentUserId)
		</sqlStatement>
		<sqlStatement type="oracle">
			Alter table Request add Constraint FulfillmentUser_Request_FK foreign key (FulfillmentUserId) references AssetBankUser (Id) 
		</sqlStatement>

		<sqlStatement type="oracle">
			CREATE SEQUENCE RequestSequence START WITH 1000 INCREMENT BY 1 NOCACHE NOCYCLE
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-my-requests', 16, 'Title - My requests', '#company-name# | #heading-my-requests#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-my-requests', 10, 'Heading - My requests', 'My Requests', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-all-requests', 16, 'Title - All requests', '#company-name# | #heading-all-requests#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-all-requests', 10, 'Heading - All requests', 'All Requests', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-request-details', 16, 'Title - Request details', '#company-name# | #heading-request-details#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-request-details', 10, 'Heading - Request details', 'Request Details', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'menu-requests', 7, 'Main menu - Requests', 'Requests', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-requests', 10, 'Heading - Requests', 'Requests', 1, 2) ]]>
		</sqlStatement>
		

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedValidationFulfillerMustBeUploader', 15, 'failedValidationFulfillerMustBeUploader', 'You can only mark a user as a request fulfiller if they have the ability to upload #items#. Please mark the user as an admin user or put them into a group that has upload rights.', 1, 2) ]]>
		</sqlStatement>


		<sqlStatement type="mysql">
			ALTER TABLE AssetBankUser ADD COLUMN RequestFulfiller Bool NOT NULL DEFAULT 0
		</sqlStatement>
	
		<sqlStatement type="oracle">
			ALTER TABLE AssetBankUser ADD RequestFulfiller Char (1) Default 0 NOT NULL
		</sqlStatement>
	
		<sqlStatement type="sqlserver">
			ALTER TABLE AssetBankUser ADD RequestFulfiller Tinyint Default 0 NOT NULL
		</sqlStatement>


		<appSettingChange type="add" setting="requests-enabled" value="false" section="General config">
			<comment>
				Whether users have the ability to submit requests for certain assets. The requests follow a workflow defined in workflows.xml and are fulfilled by a user (i.e. an asset is uploaded matching the original request)
			</comment>
		</appSettingChange>


	</version><version number="3.1094" private="true">

		<userChangeDescription>
			Fix request table character set
		</userChangeDescription>

		<sqlStatement type="mysql">
			ALTER TABLE Request DEFAULT CHARACTER SET utf8
		</sqlStatement>

	</version><version number="3.1095" private="true">

		<userChangeDescription>
			More request content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-status-sans-colon', 9, 'Label - Status (sans colon)', 'Status', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-history', 9, 'Label - History', 'History', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-all-requests', 12, 'Link - Back to All Requests', '&laquo; Back to All Requests', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-my-requests', 12, 'Link - Back to My Requests', '&laquo; Back to My Requests', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-requests-in-state', 13, 'Snippet - No requests in state', '<p>Currently there are no requests for you to act on in this state.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-requests-in-state', 13, 'Snippet - Requests in state', '<p>Note: There are ?noOfRequests? requests in the ''?selectedStateDescription?'' state:</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-requests', 13, 'Snippet - No requests', '<p>You don''t currently have any requests.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-of-requests', 13, 'Snippet - No. of requests', '<p>You have made ?noOfRequests? requests</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-describe-request', 13, 'Snippet - Describe request', '<p>Describe your request:</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-instructions', 13, 'Snippet - Request instructions', '<p>*Please try to include as much details as possible, including your desired format.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-make-new-request', 12, 'Link - Make new request', 'Make a new request', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-submitted-by', 9, 'Label - Submitted by', 'Submitted by', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1096" private="true">
		<userChangeDescription>
			Refactored AssetWorkflowAudit to WorkflowAudit.
		</userChangeDescription>
		
    	<sqlStatement type="mysql">
			<![CDATA[ Create table WorkflowAudit (
							Id Bigint NOT NULL AUTO_INCREMENT,
							UserId Bigint,
							EntityId Bigint NOT NULL,
							Message Mediumtext,
							DateAdded Datetime,
							Transition Varchar(200),
							WorkflowName Varchar(255),
							WorkflowInfoId Bigint NOT NULL DEFAULT 1,
						 Primary Key (Id,EntityId)) ENGINE = InnoDB
						DEFAULT CHARACTER SET utf8 ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ Create table [WorkflowAudit] (
							[Id] Integer NOT NULL Identity(100,1),
							[UserId] Integer NULL,
							[EntityId] Integer NOT NULL,
							[Message] Ntext NULL,
							[DateAdded] Datetime NULL,
							[Transition] Nvarchar(200) NULL,
							[WorkflowName] Nvarchar(255) NULL,
							[WorkflowInfoId] Integer Default 1 NOT NULL,
						Constraint [pk_WorkflowAudit] Primary Key ([Id],[EntityId]) ) ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ Create table WorkflowAudit (
							Id Integer NOT NULL ,
							UserId Integer,
							EntityId Integer NOT NULL ,
							Message NClob,
							DateAdded Date,
							Transition NVarchar2(200),
							WorkflowName NVarchar2(255),
							WorkflowInfoId Integer Default 1 NOT NULL,
						 Constraint pk_WorkflowAudit primary key (Id,EntityId) ) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ SET IDENTITY_INSERT WorkflowAudit ON ]]>
		</sqlStatement>
		
    	<sqlStatement type="all">
			<![CDATA[ INSERT INTO WorkflowAudit (Id, UserId, EntityId, Message, DateAdded, Transition, Workflowname, WorkflowInfoId) SELECT Id, UserId, AssetId, Message, DateAdded, Transition, Workflowname, WorkflowInfoId FROM AssetWorkflowAudit ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ SET IDENTITY_INSERT WorkflowAudit OFF ]]>
		</sqlStatement>
		
    	<sqlStatement type="all">
			<![CDATA[ DROP TABLE AssetWorkflowAudit ]]>
		</sqlStatement>
		
    	<sqlStatement type="mysql">
			<![CDATA[ ALTER TABLE WorkflowAudit add Index IX_Relationship284 (UserId) ]]>
		</sqlStatement>
		
		<sqlStatement type="mysql">
			<![CDATA[ ALTER TABLE WorkflowAudit add Constraint Relationship284 Foreign Key (UserId) references AssetBankUser (Id) on delete  restrict on update  restrict ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_Relationship284] ON [WorkflowAudit] ([UserId]) ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [WorkflowAudit] add Constraint [Relationship284] foreign key([UserId]) references [AssetBankUser] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ Create Index IX_Relationship284 ON WorkflowAudit (UserId) ]]>
		</sqlStatement>
		
		<sqlStatement type="oracle">
			<![CDATA[ Alter table WorkflowAudit add Constraint Relationship284 foreign key (UserId) references AssetBankUser (Id) ]]>
		</sqlStatement>
	</version><version number="3.1097">
		<userChangeDescription>
			Add a results limit to improve performance of the category browser for large categories.
		</userChangeDescription>		
		
		<appSettingChange type="add" setting="max-browse-results-total" value="1000" section="Browse settings">
			<comment>
				Maximum number of assets returned by the category browser. If there are more than this limit in a category then only this number will be shown to the user.
			</comment>
			<comment>
				If you have a large number of assets in one or more categories then having a limit of 1000 will greatly improve performance for browsing those categories. 
			</comment>
		</appSettingChange>

		<sqlStatement type="all">
			INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'browse-results-restricted', 13, 'Snippet - Number of browse results (max exceeded)', 'more than ?numberHits? #items#', 1, 3)
		</sqlStatement>
		
	</version><version number="3.1098" private="true">

		<userChangeDescription>
			More request content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'title-assign-a-fulfiller', 16, 'Title - Assign a fulfiller', '#company-name# | #heading-assign-a-fulfiller#', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-assign-a-fulfiller', 10, 'Heading - Assign a fulfiller', 'Assign a Fulfiller', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-no-fulfillers-defined', 13, 'Snippet - No fulfillers defined', '<p>There aren''t any fulfiller users available. An admin user will need to make 1 or more users fulfillers by ticking the box on their Admin > Users > [edit] page.</p>', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-assign-to', 9, 'Label - Assign to', 'Assign to', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-optional-message', 9, 'Label - Message (optional)', 'Message (optional)', 1, 2) ]]>
		</sqlStatement>
	
	</version><version number="3.1099" private="true">

		<userChangeDescription>
			More request content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-not-applicable', 13, 'Snippet - Not applicable', 'n/a', 1, 2) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-fulfiller', 9, 'Label - Fulfiller', 'Fulfiller', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.1100">

		<userChangeDescription>
			Lucene upgrade to 3.4
		</userChangeDescription>
		<userPostUpdateMessage>
			<![CDATA[ NOTE: YOU MUST NOW CHECK THAT THE FOLLOWING FILES HAVE BEEN DELETED, BEFORE RESTARTING THE WEBAPP:
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/lucene-core-3.0.1.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/lucene-misc-3.0.1.jar
			[TOMCAT]/webapps/asset-bank/WEB-INF/lib/lucene-queries-3.0.1.jar ]]>
		</userPostUpdateMessage>
		<userPostUpdateMessage>
			NOTE: YOU WILL NEED TO PERFORM A FULL REINDEX IMAGES AFTER LOGGING IN.
			To do this, go to Admin &gt; Attributes and click 'reindex existing assets', and uncheck the 'Quick' option.
		</userPostUpdateMessage>

		<appFileChange type="delete" file="/WEB-INF/lib/lucene-core-3.0.1.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/lucene-misc-3.0.1.jar" />
		<appFileChange type="delete" file="/WEB-INF/lib/lucene-queries-3.0.1.jar" />

	</version><version number="3.1101" private="true">

		<userChangeDescription>
			Add a state description for assets rejected for high-res download
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-rejected-for-high-res', 13, 'Snippet - Rejected for high-res', 'Rejected for high-res download', 1, 2) ]]>
		</sqlStatement>

	</version><version number="3.1102" private="true">

		<userChangeDescription>
			No change. Was 'Improve lightbox message for mixed high-res approvals', moved to 3.1088.3.
		</userChangeDescription>

	</version><version number="3.1103">

		<userChangeDescription>
			Added support for configurable search stemmer: minimal, porter, snowball, kstem
		</userChangeDescription>

		<appSettingChange appSettingCondition="use-stemming=true" type="add" setting="stemming-type" value="porter" section="Search settings">
			<comment>
				What type of stemming to use - one of: none, minimal, porter, snowball, kstem.
				If you change this, you should do a full reindex.
			</comment>
		</appSettingChange>
		
		<appSettingChange appSettingCondition="use-stemming=false" type="add" setting="stemming-type" value="none" section="Search settings">
			<comment>
				What type of stemming to use - one of: none, minimal, porter, snowball, kstem.
				If you change this, you should do a full reindex.
			</comment>
		</appSettingChange>

		<appSettingChange type="delete" setting="use-stemming" />
				
	</version><version number="3.1104" private="true">

		<userChangeDescription>
			Made comment for public-lightboxes setting more descriptive
		</userChangeDescription>

		<appSettingChange type="update" setting="public-lightboxes">
			<comment>
				Whether 'public' lightboxes are enabled. Public lightboxes are lightboxes that are shared between all logged in users of this Asset Bank.
			</comment>
		</appSettingChange>

	</version><version number="3.1105" private="true">
		<userChangeDescription>
			More request workflow content
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'requestWorkflowMessageMandatory', 15, 'requestWorkflowMessageMandatory', 'Please enter a message when changing the state of a request.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'failedEditingRequestWorkflowItem', 15, 'failedEditingRequestWorkflowItem', 'You cannot edit the request in this status.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1106" private="true">

		<userChangeDescription>
			Alert content for requests
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'request requires approval','noreply@noreply.com','#toAddress#;','','','Asset Bank: Request requires approval','#requestUserName# has submitted an asset request for fulfillment. The request requires approval before it can be assigned a fulfiller.<br><br>Please log in to Asset Bank and go to the Requests section to approve the request.','request_requires_approval') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'request requires fulfillment','noreply@noreply.com','#toAddress#;','','','Asset Bank: Request requires fulfillment','#requestUserName# has submitted an asset request for fulfillment.<br><br>Please log in to Asset Bank and go to the Requests section to fulfill the request.','request_requires_fulfillment') ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO EmailTemplate (LanguageId, TypeId, Code, AddrFrom, AddrTo, AddrCc, AddrBcc, Subject, Body, TextId) VALUES (1,1,'request fulfilled','noreply@noreply.com','#toAddress#;','','','Asset Bank: Request fulfilled','A request that you submitted has been fulfilled.<br><br>Please log in to Asset Bank and go to the Requests section to view your fulfilled request.','request_fulfilled') ]]>
		</sqlStatement>

	</version><version number="3.1107" private="true">
		<userChangeDescription>
			Add content management to the general error screen, with plain text for initialisation, setup or database errors.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'error-intro', 9, 'Intro - Error Page', '<p>Sorry, an error has occurred. Please contact your IT support team or use the <a href="viewContact">contact page</a>.</p><p>Include as many relevant details as you can, for example:</p><ul><li>Your name and username. </li><li>The time of the error.</li><li>The URL of this page (shown in the address bar at the top of your browser).</li><li>What you were trying to do when the error occurred.</li><li>A screenshot.<br/><li>Copy the error text if there is some shown below.</li></ul>', 1, 1) ]]>
		</sqlStatement>
		
	</version><version number="3.1108">
		<userChangeDescription>
			Add option in attribute manangement to make original filename keyword searchable or not.
		</userChangeDescription>

		<sqlStatement type="all">
			<![CDATA[ UPDATE Attribute SET IsKeywordSearchable = 1 WHERE StaticFieldName = 'originalFilename' ]]>
		</sqlStatement>
		
	</version><version number="3.1109">
		<userChangeDescription>
			More request workflow content.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ DELETE FROM ListItem WHERE Identifier='snippet-requests-in-state' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'link-back-to-fulfilled-requests', 12, 'Link - Back to Fulfilled Requests', '&laquo; Back to Fulfilled Requests', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='&laquo; Back to Pending Requests', Title='Link - Back to Pending Requests' WHERE Identifier='link-back-to-all-requests' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Pending Requests', Title='Heading - Pending requests' WHERE Identifier='heading-all-requests' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-fulfilled-requests', 10, 'Heading - Fulfilled requests', 'Fulfilled Requests', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'requestMessageMandatory', 15, 'requestMessageMandatory', 'Please enter the request description.', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'fulfillerUserMandatory', 15, 'fulfillerUserMandatory', 'You need to select a Fulfiller user.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1110">
		<userChangeDescription>
			Amended email template for e-card.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE EmailTemplate SET Body='<body style="background:#009BC6;"><table width="100%" cellpadding="0" cellspacing="0" bgcolor="#009BC6"><tr height="20"><td height="20">&nbsp;</td></tr><tr><td><table width="700" cellpadding="0" cellspacing="0" align="center"><tr><td colspan="3"><img src="#url#/images/standard/misc/ecard_header.gif" width="700" height="30" style="display:block;"></td></tr><tr><td bgcolor="#ffffff" width="30"><img src="#url#/images/standard/misc/x.gif" width="30" height="1" style="display:block;"></td><td bgcolor="#ffffff"><table width="100%" cellpadding="0" cellspacing="0"><tr><td><a href="#url#"><img src="#url#/images/standard/asset_bank_logo.gif" alt="#company-name#" border="0"></a></td></tr><tr><td height="15"><img src="#url#/images/standard/misc/x.gif" width="1" height="15" style="display:block;"></td></tr><tr><td height="5" bgcolor="#009BC6"><img src="#url#/images/standard/misc/x.gif" width="1" height="5" style="display:block;"></td></tr><tr><td height="15"><img src="#url#/images/standard/misc/x.gif" width="1" height="15" style="display:block;"></td></tr><tr><td><p style="font-family:Arial, sans-serif; font-size:16px; margin-top:0px;">#name# has sent you an image from the <a href="#url#" style="color:#009BC6; text-decoration:none;">#company-name#</a> site.</p><p style="font-family:Arial, sans-serif; font-size:13px; margin-top:0px;"><a href="#url#"style="color:#009BC6; text-decoration:none;">#url#.</a></p></td></tr><tr><td height="15"><img src="#url#/images/standard/misc/x.gif" width="1" height="15" style="display:block;"></td></tr><tr><td><table bgcolor="#afacac" cellpadding="4" cellspacing="0" align="center"><tr><td><img src="#image#" style="display:block;"></td></tr></table></td></tr><tr><td height="20"><img src="#url#/images/standard/misc/x.gif" width="1" height="20" style="display:block;"></td></tr><tr><td><table cellpadding="0" cellspacing="0" align="center"><tr><td height="25"><img src="#url#/images/standard/misc/x.gif" width="1" height="25" style="display:block;"></td><td width="54"><img src="#url#/images/standard/misc/x.gif" width="1" height="20" style="display:block;"><p style="line-height:10px; color:#009BC6; font-family:Georgia, Times, serif; font-size:60px; margin-top:0px; font-weight:bold;">&#8220;</p></td><td valign="top"><p style="font-family:Arial,sans-serif;font-size:15px;margin-top:0px;font-weight:bold;">#message#</p></td><td width="54" valign="bottom"><img src="#url#/images/standard/misc/x.gif" width="1" height="20" style="display:block;"><p style="line-height:10px; color:#009BC6; font-family:Georgia, Times, serif; font-size:60px; margin-top:0px; font-weight:bold; text-align:right;">&#8221;</p></td></tr></table></td></tr><tr><td height="20" align="center"><a href="#url#"><img src="#url#/images/standard/misc/ecard_button.gif" width="157" height="42" border="0" style="display:block;"></a></td></tr></table></td><td bgcolor="#ffffff" width="30"><img src="#url#/images/standard/misc/x.gif" width="30" height="1" style="display:block;"></td></tr><tr><td colspan="3"><img src="#url#/images/standard/misc/ecard_footer.gif" width="700" height="30" style="display:block;"></td></tr><tr><td colspan="3" height="10"><img src="#url#/images/standard/misc/x.gif" width="1" height="10" style="display:block;"></td></tr><tr><td colspan="3"><p style="font-family:Arial,sans-serif; font-size:11px; margin-top:0px; font-weight:bold; color:#fff;">&copy; 2011 <a href="www.bright-interactive.com" style="color:#fff; text-decoration:none;">BrightInteractive</a>.&nbsp;&nbsp;<a href="#url#/action/viewConditions"style="color:#fff; text-decoration:none;">Terms &amp;Conditions</a> &nbsp;| &nbsp;<a href="#url#/action/viewPrivacy" style="color:#fff; text-decoration:none;">Privacy Policy</a>&nbsp;|&nbsp;<a href="#url#/action/viewAbout" style="color:#fff; text-decoration:none;">About Asset Bank</a></p></td></tr></table></td></tr></table></body>' WHERE TextId='send_ecard' ]]>
		</sqlStatement>
	</version><version number="3.1111">
		<userChangeDescription>
			Add 'Receive Alerts' checkbox to change profile screen.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-user-receive-alerts', 9, 'Label - Receive Alerts', 'Receive Alerts:', 1, 2) ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'label-user-receive-alerts-note', 9, 'Label - Receive Alerts Note', 'Check this if you want to receive alert emails generated by the system.', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1112" private="true">
		<userChangeDescription>
			Minor content changes around requests module.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='You have made ?noOfRequests? requests' WHERE Identifier = 'snippet-no-of-requests' ]]>
		</sqlStatement>
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='You don''t currently have any requests.' WHERE Identifier = 'snippet-no-requests' ]]>
		</sqlStatement>
	</version><version number="3.1113">
		<userChangeDescription>
			Enable thumbnail or icon to be shown for InDesign documents. Note that this functionality won't be enabled by default - please contact Asset Bank support if you want it to be configured.
		</userChangeDescription>
	</version><version number="3.1114">
		<userChangeDescription>
			Facebook 'like' functionality added, allowing Public facing Asset Banks to use Social Media to increase traffic. Both homepage and any public asset can be 'liked'.
		</userChangeDescription>
	</version><version number="3.1115" private="true">
		<userChangeDescription>
			More content changes around requests module.
		</userChangeDescription>
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-submitted', 13, 'Snippet - Submitted', 'Submitted', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1116" private="true">
	
		<userChangeDescription>
			Improve comment for max-browse-results-total, and set to empty for better backwards compatibility
		</userChangeDescription>

		<appSettingChange type="update" setting="max-browse-results-total" value="">
			<comment>
				Maximum number of assets returned by the category browser, or empty for no limit. If there are more than this limit in a category then only this number will be shown to the user.
			</comment>
			<comment>
				If you have a large number of assets in one or more categories then having a limit of 1000 will greatly improve performance for browsing those categories. 
			</comment>
		</appSettingChange>
	</version><version number="3.1117" private="true">
		<userChangeDescription>
	  		Release version
		</userChangeDescription>
	</version><version number="3.1118" private="true">
		<userChangeDescription>
	  		Amended Request table definition for SqlServer.
		</userChangeDescription>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ sp_rename 'Request', 'RequestOld' ]]>
		</sqlStatement>

		<sqlStatement type="sqlserver">
			Create table [Request]
			(
				[Id] Integer NOT NULL Identity(100,1),
				[RequestUserId] Integer NOT NULL,
				[FulfillmentUserId] Integer NULL,
				[AssetId] Integer NULL,
				[Description] Ntext NULL,
				[DateAdded] Datetime NOT NULL,
			Primary Key ([Id])
			) 
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ SET IDENTITY_INSERT Request ON ]]>
		</sqlStatement>
		
    	<sqlStatement type="sqlserver">
			<![CDATA[ INSERT INTO Request (Id, Description, DateAdded, RequestUserId, FulfillmentUserId, AssetId) SELECT Id, Description, DateAdded, RequestUserId, FulfillmentUserId, AssetId FROM RequestOld ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ SET IDENTITY_INSERT Request OFF ]]>
		</sqlStatement>
		
    	<sqlStatement type="sqlserver">
			<![CDATA[ DROP TABLE RequestOld ]]>
		</sqlStatement>
		
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_Asset_Request_FK] ON [Request] ([AssetId]) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [Request] add Constraint [Asset_Request_FK] foreign key([AssetId]) references [Asset] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_RequestUser_Request_FK] ON [Request] ([RequestUserId]) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [Request] add Constraint [RequestUser_Request_FK] foreign key([RequestUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Create Index [IX_FulfillmentUser_Request_FK] ON [Request] ([FulfillmentUserId]) ]]>
		</sqlStatement>
		<sqlStatement type="sqlserver">
			<![CDATA[ Alter table [Request] add Constraint [FulfillmentUser_Request_FK] foreign key([FulfillmentUserId]) references [AssetBankUser] ([Id])  on update no action on delete no action ]]> 
		</sqlStatement>
	</version><version number="3.1119" private="true">
		<userChangeDescription>
			Minor content changes around requests module.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Please try to include as much details as possible, including your desired format.' WHERE Identifier = 'snippet-request-instructions' ]]>
		</sqlStatement>
	</version><version number="3.1120" private="true">
		<userChangeDescription>
			Minor content changes around requests module.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-asset-requested', 13, 'Snippet - Asset Requested', 'Asset Requested', 1, 2) ]]>
		</sqlStatement>
	</version><version number="3.1121" private="true">
		<userChangeDescription>
			Minor content changes around requests module.
		</userChangeDescription>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'heading-request-not-found', 10, 'Heading - Request Not Found', 'Request Not Found', 1, 2) ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ INSERT INTO ListItem (LanguageId, Identifier, ListId, Title, Body, CannotBeDeleted, ListItemTextTypeID) VALUES (1,'snippet-request-not-found', 13, 'Snippet - request not found', 'Sorry, the request could not be found. It is possible that it has been deleted recently', 1, 1) ]]>
		</sqlStatement>

		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Please provide details of the asset you require' WHERE Identifier='snippet-describe-request' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Please include as much detail as possible, including the desired file format.' WHERE Identifier = 'snippet-request-instructions' ]]>
		</sqlStatement>
		
		<sqlStatement type="all">
			<![CDATA[ UPDATE ListItem SET Body='Currently there are no requests for you to act on.' WHERE Identifier = 'snippet-no-requests-in-state' ]]>
		</sqlStatement>
	</version></changes>
